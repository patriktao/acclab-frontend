(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{183:function(e,t,n){},241:function(e,t,n){},242:function(e,t,n){},243:function(e,t,n){},244:function(e,t,n){},245:function(e,t,n){},345:function(e,t,n){},346:function(e,t,n){},347:function(e,t,n){},348:function(e,t,n){},350:function(e,t,n){},352:function(e,t,n){},353:function(e,t,n){},354:function(e,t,n){},355:function(e,t,n){},356:function(e,t,n){},362:function(e,t,n){},363:function(e,t,n){},364:function(e,t,n){},365:function(e,t,n){},366:function(e,t,n){},380:function(e,t,n){},381:function(e,t,n){},382:function(e,t,n){},383:function(e,t,n){},384:function(e,t,n){},385:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"fetchCompanies",(function(){return R})),n.d(a,"fetchMaterial",(function(){return z})),n.d(a,"fetchLogistics",(function(){return B})),n.d(a,"fetchTotalAmount",(function(){return U})),n.d(a,"fetchCountries",(function(){return K})),n.d(a,"fetchAll",(function(){return q})),n.d(a,"editMaterial",(function(){return V})),n.d(a,"handleRestock",(function(){return J})),n.d(a,"addStock",(function(){return H})),n.d(a,"updateStock",(function(){return W})),n.d(a,"disableStock",(function(){return G})),n.d(a,"updateTotalAmount",(function(){return Q})),n.d(a,"uploadImage",(function(){return X})),n.d(a,"deleteImage",(function(){return Z})),n.d(a,"updateImage",(function(){return $})),n.d(a,"updateExpirationDate",(function(){return ee})),n.d(a,"createRawMaterial",(function(){return te})),n.d(a,"deleteAllLogistics",(function(){return ne})),n.d(a,"deleteRawMaterial",(function(){return ae})),n.d(a,"disableRawMaterial",(function(){return re})),n.d(a,"disableAllLogistics",(function(){return ce}));var r={};n.r(r),n.d(r,"fetchShoppingList",(function(){return se})),n.d(r,"fetchExpiringMaterials",(function(){return ie}));var c={};n.r(c),n.d(c,"fetchTotalMaterials",(function(){return oe})),n.d(c,"fetchTotalExpiredMaterials",(function(){return ue}));var s={};n.r(s),n.d(s,"fetchAllCompanies",(function(){return le})),n.d(s,"fetchAllCountries",(function(){return de})),n.d(s,"deleteCompany",(function(){return je})),n.d(s,"addCompany",(function(){return be})),n.d(s,"updateCompany",(function(){return pe}));var i={};n.r(i),n.d(i,"fetchLocations",(function(){return fe})),n.d(i,"addLocation",(function(){return he})),n.d(i,"updateLocation",(function(){return me})),n.d(i,"deleteLocation",(function(){return Oe}));var o={};n.r(o),n.d(o,"login",(function(){return xe})),n.d(o,"loggedIn",(function(){return ve}));var u={};n.r(u),n.d(u,"fetchForms",(function(){return ge}));var l={};n.r(l),n.d(l,"fetchTable",(function(){return ye})),n.d(l,"fetchSfp",(function(){return we})),n.d(l,"fetchFormulation",(function(){return ke})),n.d(l,"fetchLogistics",(function(){return _e})),n.d(l,"editInformation",(function(){return Ne})),n.d(l,"editFormulation",(function(){return Se})),n.d(l,"uploadImage",(function(){return Ce})),n.d(l,"deleteImage",(function(){return Ie})),n.d(l,"updateImage",(function(){return Ee})),n.d(l,"updateExpirationDate",(function(){return Me})),n.d(l,"addStock",(function(){return Ye})),n.d(l,"updateStock",(function(){return Pe})),n.d(l,"disableStock",(function(){return De})),n.d(l,"updateTotalAmount",(function(){return Te})),n.d(l,"createSfp",(function(){return Le})),n.d(l,"createFormulation",(function(){return Fe})),n.d(l,"deleteAllLogistics",(function(){return Ae})),n.d(l,"deleteSfp",(function(){return Re})),n.d(l,"disableAllLogistics",(function(){return ze})),n.d(l,"disableSfp",(function(){return Be}));var d=n(39),j=n.n(d),b=(n(241),n(183),n(242),n(31)),p=n(8),f=(n(243),n(113)),h=n(69),m=n(7),O=n.n(m),x=n(11),v=n(0),g=n.n(v),y=(n(244),n(36)),w=n(403),k=n(148),_=n(24),N=n.n(_),S=(n(245),n(1)),C=function(e){var t=N()(e).diff(N()(),"days");return t<0?"expired":t<30?"high":t<365?"normal":"low"},I=function(e){var t=N()(e).diff(N()(),"days"),n="",a="";return t<0?(a="Expired",n="#ff4d4f"):t<30?(a="High",n="#F2C94C"):t<365?(a="Normal",n="#29CC97"):(a="Low",n="#9A9DA5"),Object(S.jsx)("div",{className:"Priority",children:Object(S.jsx)("div",{className:"priority-design",style:{background:"".concat(n)},children:a.toUpperCase()})})},E=[{title:"ID",dataIndex:"id",key:"id"},{title:"Item name",dataIndex:"name",key:"name",sorter:function(e,t){return e.name.localeCompare(t.name)},render:function(e,t){return Object(S.jsx)(y.b,{to:"/inventory/rawmaterial/"+t.id,children:e})}},{title:"Brand",dataIndex:"company",key:"company",sorter:function(e,t){return e.company.localeCompare(t.company)}},{title:"Country",dataIndex:"country",key:"country",sorter:function(e,t){return e.country.localeCompare(t.country)}},{title:"Expiration Date",dataIndex:"expiration_date",key:"expiration_date",sorter:function(e,t){return N()(e.expiration_date).format("YYYYMMDD")-N()(t.expiration_date).format("YYYYMMDD")},render:function(e){return null===e?Object(S.jsx)("p",{children:" "}):Object(S.jsx)("p",{style:{marginBottom:"auto"},children:N()(e).format("MMM D, YYYY")})}},{title:"Priority",dataIndex:"priority",key:"priority",sorter:function(e,t){return N()(e.expiration_date).format("YYYYMMDD")-N()(t.expiration_date).format("YYYYMMDD")},render:function(e,t){return I(t.expiration_date)}}],M=n(42),Y=n(392),P=n(50),D=function(e){var t=e.component,n=e.text,a=e.trigger;return Object(S.jsx)(P.a,{title:n,color:"#00bdf2",trigger:a,children:t})},T=n(85),L=n(229),F=n(23),A=n.n(F),R=function(){var e=Object(x.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/brands/raw_material_companies");case 3:return t=e.sent,n=[],t.data.forEach((function(e){n.push({value:e.company,name:e.company})})),e.abrupt("return",n.sort((function(e,t){return e.name.localeCompare(t.name)})));case 9:if(e.prev=9,e.t0=e.catch(0),!e.t0.response){e.next=14;break}return console.log("Error: ".concat(e.t0.message)),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(x.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/raw_material/".concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message)),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(x.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/raw_material_logistics/".concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message)),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(x.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/raw_material_logistics/".concat(t,"/total_amount"));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message)),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(x.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/brands/raw_material_countries");case 3:return t=e.sent,n=[],t.data.forEach((function(e){n.push({value:e.country,name:e.country})})),e.abrupt("return",n.sort((function(e,t){return e.name.localeCompare(t.name)})));case 9:if(e.prev=9,e.t0=e.catch(0),!e.t0.response){e.next=14;break}return console.log("Error: ".concat(e.t0.message)),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/raw_material_table");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.t0.response&&console.log("Error: ".concat(e.t0.message)),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(x.a)(O.a.mark((function e(t,n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.put("/raw_material/".concat(t,"/edit"),n).catch((function(e){e.response&&console.log(e.response)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),J=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.put("/raw_material/".concat(t,"/restock")).catch((function(e){e.response&&console.log("Error: ".concat(e.message))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(x.a)(O.a.mark((function e(t,n){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.post("/raw_material_logistics/".concat(t,"/add"),n).catch((function(e){e.response&&console.log("Error: ".concat(e.message))}));case 2:return a=e.sent,ee(t),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),W=function(){var e=Object(x.a)(O.a.mark((function e(t,n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.put("/raw_material_logistics/".concat(t,"/update"),n).catch((function(e){e.response&&console.log("Error: ".concat(e.message))}));case 2:ee(t);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),G=function(){var e=Object(x.a)(O.a.mark((function e(t,n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.put("/raw_material_logistics/".concat(t,"/disable"),n).catch((function(e){e.response&&console.log("Error: ".concat(e.message))}));case 2:ee(t);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Q=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.put("/raw_material_logistics/".concat(t,"/update_total_amount"));case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message)),L.b.error("Failed updating the total amount.");case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(x.a)(O.a.mark((function e(t,n){var a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=new FormData,console.log(t),a.append("image",t),r=null,e.next=7,A.a.post("/upload/raw_materials/".concat(n),a,{headers:{"Content-type":"multipart/form-data"}}).catch((function(e){e.response&&(console.log(e.response),console.log("error",e.message))})).then((function(e){r=e}));case 7:return e.abrupt("return",r.data.Location);case 10:return e.prev=10,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message)),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),Z=function(){var e=Object(x.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.delete("/upload/raw_materials/".concat(t));case 3:return n=e.sent,e.abrupt("return",n.data.message);case 7:return e.prev=7,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message)),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(x.a)(O.a.mark((function e(t,n){var a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("image",t),r=null,e.next=5,A.a.delete("/upload/raw_materials/".concat(n)).catch((function(e){if(e.response)return console.log("Error: ".concat(e.message)),null})).then(Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.post("/upload/raw_materials/".concat(n),a,{headers:{"Content-type":"multipart/form-data"}}).catch((function(e){return console.log("Error: ".concat(e.message)),null})).then((function(e){r=e}));case 2:case"end":return e.stop()}}),e)}))));case 5:return e.abrupt("return",r.data.Location);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ee=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.put("/raw_material/".concat(t,"/update_expiration_date"));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),e.t0.response&&console.log("Error: ".concat(e.t0.message));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(x.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=0,e.next=4,A.a.post("/raw_material/create",t).then((function(e){n=e.data.raw_material_id[0]}));case 4:return L.b.success(t.name+" has been added to inventory."),e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message)),L.b.error("Unable to add new raw material."),e.abrupt("return","failed");case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.delete("/raw_material_logistics/".concat(t,"/all"));case 3:return e.abrupt("return");case 6:e.prev=6,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message)),L.b.error("Unable to delete all");case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(x.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="failed",e.prev=1,Z(t),ne(t),e.next=6,A.a.delete("/raw_material/".concat(t)).then((function(){L.b.success("Successfully deleted the raw material."),n="success"}));case 6:return e.abrupt("return",n);case 9:if(e.prev=9,e.t0=e.catch(1),!e.t0.response){e.next=15;break}return console.log("Error: ".concat(e.t0.message)),L.b.error("Unable to delete the raw material."),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(x.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="failed",e.prev=1,Z(t),ne(t),e.next=6,A.a.put("/raw_material/".concat(t,"/disable")).then((function(){L.b.success("Successfully deleted the raw material."),n="success"}));case 6:return e.abrupt("return",n);case 9:if(e.prev=9,e.t0=e.catch(1),!e.t0.response){e.next=15;break}return console.log("Error: ".concat(e.t0.message)),L.b.error("Unable to delete the raw material."),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.put("/raw_material_logistics/".concat(t,"/disable_all"));case 3:return e.abrupt("return");case 6:e.prev=6,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message)),L.b.error("Unable to delete all");case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/shopping_list");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),e.t0.response&&console.log("Error: ".concat(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/expiring_materials");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),e.t0.response&&console.log("Error: ".concat(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/total_materials");case 3:return t=e.sent,e.abrupt("return",t.data.map((function(e){return e.total})));case 7:return e.prev=7,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message)),e.abrupt("return",0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/total_expired_materials");case 3:return t=e.sent,e.abrupt("return",t.data.map((function(e){return e.total})));case 7:return e.prev=7,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message)),e.abrupt("return",0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(x.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/brands/all_companies");case 3:return t=e.sent,n=[],t.data.forEach((function(e){n.push({value:e.company,name:e.company})})),e.abrupt("return",n.sort((function(e,t){return e.name.localeCompare(t.name)})));case 9:if(e.prev=9,e.t0=e.catch(0),!e.t0.response){e.next=14;break}return console.log("Error: ".concat(e.t0.message)),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(x.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/brands/all_countries");case 3:return t=e.sent,n=[],t.data.forEach((function(e){n.push({value:e.country,name:e.country})})),e.abrupt("return",n.sort((function(e,t){return e.name.localeCompare(t.name)})));case 9:if(e.prev=9,e.t0=e.catch(0),!e.t0.response){e.next=14;break}return console.log("Error: ".concat(e.t0.message)),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.delete("/brands/delete_company",{data:{company:t}}).catch((function(e){e.response&&(console.log("Error: ".concat(e.message)),L.b.warning(t+" could not be removed."))}));case 2:L.b.success(t+" has been succesfully removed.");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.post("/brands/add_company",{company:t}).catch((function(e){e.response&&(console.log("Error: ".concat(e.message)),L.b.warning(t+" could not be added."))}));case 2:L.b.success(t+" has been added.");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=Object(x.a)(O.a.mark((function e(t,n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.put("/brands/update_company",{company:t,new_company:n}).catch((function(e){e.response&&console.log("Error: ".concat(e.message)),L.b.warning(t+" could not be updated.")}));case 2:L.b.success(t+" has been changed to "+n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),fe=function(){var e=Object(x.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/stored_locations/all");case 3:return t=e.sent,n=[],t.data.forEach((function(e){n.push({value:e.location,name:e.location})})),e.abrupt("return",n.sort((function(e,t){return e.name.localeCompare(t.name)})));case 9:if(e.prev=9,e.t0=e.catch(0),!e.t0.response){e.next=14;break}return console.log("Error: ".concat(e.t0.message)),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),he=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.post("/stored_locations/add",{location:t}).catch((function(e){e.response&&(console.log("Error: ".concat(e.message)),L.b.warning(t+" could not be added."))}));case 2:L.b.success(t+" has been added.");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(x.a)(O.a.mark((function e(t,n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.put("/stored_locations/put",{location:t,new_location:n}).catch((function(e){e.response&&console.log("Error: ".concat(e.message)),L.b.warning(t+" could not be updated.")}));case 2:L.b.success(t+" has been changed to "+n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.delete("/stored_locations/delete",{data:{location:t}}).catch((function(e){e.response&&(console.log("Error: ".concat(e.message)),L.b.warning(t+" could not be removed."))}));case 2:L.b.success(t+" has been succesfully removed.");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=Object(x.a)(O.a.mark((function e(t,n){var a,r,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={email:t,password:n},e.prev=1,e.next=4,A.a.post("/authentication/login",a,{timeout:1500});case 4:return"success"===(r=e.sent).data.message&&(c=r.data.user,sessionStorage.setItem("email",c.email),sessionStorage.setItem("firstname",c.firstname),sessionStorage.setItem("lastname",c.lastname),console.log(r.data)),e.abrupt("return",r.data);case 9:return e.prev=9,e.t0=e.catch(1),e.t0.response&&(sessionStorage.clear(),L.b.error("Error in HTTP request to API."),console.log("Error: ".concat(e.t0.message)),console.log("Error in HTTP Request to API")),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}(),ve=function(){var e=Object(x.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.post("/authentication/loggedIn",{email:t});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.t0.response&&(sessionStorage.clear(),console.log("Error: ".concat(e.t0.message))),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(x.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/material_forms");case 3:return t=e.sent,n=[],t.data.forEach((function(e){n.push({value:e.form,name:e.form})})),e.abrupt("return",n.sort((function(e,t){return e.name.localeCompare(t.name)})));case 9:if(e.prev=9,e.t0=e.catch(0),!e.t0.response){e.next=14;break}return console.log("Error: ".concat(e.t0.message)),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/sfp/table");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.t0.response&&console.log("Error: ".concat(e.t0.message)),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=Object(x.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/sfp/".concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.t0.response&&console.log("Error: ".concat(e.t0.message)),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=Object(x.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/sfp/".concat(t,"/formulation"));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.t0.response&&console.log("Error: ".concat(e.t0.message)),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),_e=function(){var e=Object(x.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/sfp_logistics/".concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.t0.response&&console.log("Error: ".concat(e.t0.message)),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(x.a)(O.a.mark((function e(t,n){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.put("/sfp/".concat(t,"/edit_information"),n);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),e.t0.response&&console.log("Error: ".concat(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),Se=function(){var e=Object(x.a)(O.a.mark((function e(t,n){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.put("/sfp/".concat(t,"/edit_formulation"),n);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),e.t0.response&&console.log("Error: ".concat(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(x.a)(O.a.mark((function e(t,n){var a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=new FormData,console.log(t),a.append("image",t),r=null,e.next=7,A.a.post("/upload/sfp/".concat(n),a,{headers:{"Content-type":"multipart/form-data"}}).catch((function(e){e.response&&(console.log(e.response),console.log("error",e.message))})).then((function(e){r=e}));case 7:return e.abrupt("return",r.data.Location);case 10:return e.prev=10,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message)),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(x.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.delete("/upload/sfp/".concat(t));case 3:return n=e.sent,e.abrupt("return",n.data.message);case 7:return e.prev=7,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message)),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(x.a)(O.a.mark((function e(t,n){var a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("image",t),r=null,e.next=5,A.a.delete("/upload/sfp/".concat(n)).catch((function(e){if(e.response)return console.log("Error: ".concat(e.message)),null})).then(Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.post("/upload/sfp/".concat(n),a,{headers:{"Content-type":"multipart/form-data"}}).catch((function(e){return console.log("Error: ".concat(e.message)),null})).then((function(e){r=e}));case 2:case"end":return e.stop()}}),e)}))));case 5:return e.abrupt("return",r.data.Location);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Me=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.put("/sfp/".concat(t,"/update_expiration_date"));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),e.t0.response&&console.log("Error: ".concat(e.t0.message));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(x.a)(O.a.mark((function e(t,n){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.post("/sfp_logistics/".concat(t,"/add"),n).catch((function(e){e.response&&console.log("Error: ".concat(e.message))}));case 2:return a=e.sent,Me(t),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(x.a)(O.a.mark((function e(t,n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.put("/sfp_logistics/".concat(t,"/update"),n).catch((function(e){e.response&&console.log("Error: ".concat(e.message))}));case 2:Me(t);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),De=function(){var e=Object(x.a)(O.a.mark((function e(t,n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.put("/sfp_logistics/".concat(t,"/disable"),n).catch((function(e){e.response&&console.log("Error: ".concat(e.message))}));case 2:Me(t);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Te=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.put("/sfp_logistics/".concat(t,"/update_total_amount"));case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message)),L.b.error("Failed updating the total amount.");case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=Object(x.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=0,e.next=4,A.a.post("/sfp",t).then((function(e){n=e.data.sfp_id[0]}));case 4:return L.b.success(t.sfp_name+" has been added to inventory."),e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message)),L.b.error("Unable to add new raw material."),e.abrupt("return","failed");case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(x.a)(O.a.mark((function e(t,n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(n),e.next=4,n.forEach((function(e){A.a.post("/sfp/".concat(t,"/formulation"),e)}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.delete("/sfp_logistics/".concat(t,"/all"));case 3:return e.abrupt("return");case 6:e.prev=6,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message)),L.b.error("Unable to delete all");case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=Object(x.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="failed",e.prev=1,Ie(t),Ae(t),e.next=6,A.a.delete("/sfp/".concat(t)).then((function(){L.b.success("Successfully deleted the raw material."),n="success"}));case 6:return e.abrupt("return",n);case 9:if(e.prev=9,e.t0=e.catch(1),!e.t0.response){e.next=15;break}return console.log("Error: ".concat(e.t0.message)),L.b.error("Unable to delete the raw material."),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),ze=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.put("/sfp_logistics/".concat(t,"/disable_all"));case 3:return e.abrupt("return");case 6:e.prev=6,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message)),L.b.error("Unable to delete logistics");case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Be=function(){var e=Object(x.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="failed",e.prev=1,Ie(t),ze(t),e.next=6,A.a.put("/sfp/".concat(t,"/disable")).then((function(){L.b.success("Successfully deleted the Semi-Finished Product."),n="success"}));case 6:return e.abrupt("return",n);case 9:if(e.prev=9,e.t0=e.catch(1),!e.t0.response){e.next=15;break}return console.log("Error: ".concat(e.t0.message)),L.b.error("Unable to delete the Semi-Finished Product."),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),Ue=function e(){Object(T.a)(this,e)};Ue.rawMaterial=a,Ue.dashboard=r,Ue.statistics=c,Ue.brands=s,Ue.locations=i,Ue.authentication=o,Ue.materialforms=u,Ue.sfp=l;var Ke=function(){var e=Object(v.useState)(!0),t=Object(p.a)(e,2),n=t[0],a=t[1],r=Object(v.useState)([]),c=Object(p.a)(r,2),s=c[0],i=c[1];Object(v.useEffect)((function(){(function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue.dashboard.fetchExpiringMaterials().then((function(e){i(e)}));case 2:e.sent instanceof Error||a(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var o=N()().format("MMMM D YYYY").toUpperCase();return Object(S.jsxs)("div",{className:"ExpiringTable",children:[Object(S.jsxs)("div",{className:"table-headers",children:[Object(S.jsxs)("div",{children:[Object(S.jsxs)("span",{className:"sub-header-table",children:["TODAY, ",o]}),Object(S.jsx)("br",{}),Object(S.jsx)("h4",{className:"main-header-table",children:"Expiring Materials"})]}),Object(S.jsx)("div",{className:"expand-button",children:Object(S.jsx)(D,{text:"Show inventory",component:Object(S.jsx)(M.a,{shape:"circle",size:"large",children:Object(S.jsx)(y.b,{to:"/inventory",children:Object(S.jsx)(w.a,{})})})})})]}),Object(S.jsx)(k.a,{spinning:n,tip:"Loading...",size:"medium",children:Object(S.jsx)(Y.a,{className:"table-header",columns:E.filter((function(e){return"id"!==e.dataIndex})),dataSource:s,pagination:{pageSize:7},rowKey:"name",size:"small"})})]})},qe=n(387),Ve=n(234),Je=(n(345),function(){var e=Object(v.useState)({tableLoading:!0}),t=Object(p.a)(e,2),n=t[0],a=t[1],r=Object(v.useState)([]),c=Object(p.a)(r,2),s=c[0],i=c[1];Object(v.useEffect)((function(){(function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue.dashboard.fetchShoppingList().then((function(e){return i(e)}));case 2:e.sent instanceof Error||a(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var o=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(s.filter((function(e){return e.id!==t}))),Ue.rawMaterial.handleRestock(t),L.b.success("Item removed from list");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=[{title:"ID",dataIndex:"id",key:"id"},{title:"Item name",dataIndex:"name",key:"name",render:function(e,t){return Object(S.jsx)(y.b,{to:"/inventory/rawmaterial/"+t.id,children:e})}},{title:"Brand",dataIndex:"company",key:"company"},{title:"Country",dataIndex:"country",key:"country"},{title:"Action",dataIndex:"",key:"",render:function(e){return Object(S.jsx)("div",{style:{display:"grid",justifyContent:"center",alignContent:"center"},children:Object(S.jsx)(qe.a,{title:"Remove from the list?",onConfirm:function(){return o(e.id)},okText:"Yes",cancelText:"No",children:Object(S.jsx)(M.a,{type:"primary",className:"shopping-button",danger:!0,children:Object(S.jsx)(Ve.a,{style:{fontSize:"18px"}})})})})}}];return Object(S.jsxs)("div",{className:"shopping-table",children:[Object(S.jsx)("span",{className:"sub-header-table",children:"RESTOCK"}),Object(S.jsx)("br",{}),Object(S.jsx)("h4",{className:"main-header-table",children:"Shopping List"}),Object(S.jsx)(k.a,{spinning:n,tip:"Loading...",size:"medium",children:Object(S.jsx)(Y.a,{className:"table-content",columns:u.filter((function(e){return"id"!==e.dataIndex})),dataSource:s,pagination:{pageSize:8},rowKey:"id",size:"small"})})]})}),He=n(401),We=n(388),Ge=(n(346),n(404)),Qe=n(405),Xe=n(406),Ze=n(407),$e={lightBlue:"#00bdf2",darkBlue:"023f88",text:"#404040"},et=function(){var e=Object(v.useState)(0),t=Object(p.a)(e,2),n=t[0],a=t[1],r=Object(v.useState)(0),c=Object(p.a)(r,2),s=c[0],i=c[1];return Object(v.useEffect)((function(){var e=function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(0),Ue.statistics.fetchTotalMaterials().then((function(e){return i(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(0),e.next=3,Ue.statistics.fetchTotalExpiredMaterials().then((function(e){return a(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),t()}),[]),Object(S.jsx)("div",{className:"site-card-wrapper",children:Object(S.jsxs)(f.a,{gutter:24,children:[Object(S.jsx)(h.a,{span:6,children:Object(S.jsxs)(He.a,{className:"card",bordered:!1,children:[Object(S.jsxs)("div",{className:"card-container",children:[Object(S.jsxs)("div",{children:[Object(S.jsx)("span",{className:"card-header",children:"Total Materials"}),Object(S.jsx)("br",{}),Object(S.jsx)("span",{className:"card-value",children:s})]}),Object(S.jsx)("div",{children:Object(S.jsx)("div",{className:"icon-material-background",children:Object(S.jsx)(Ge.a,{className:"icon-material"})})})]}),Object(S.jsx)(We.a,{className:"divider"})]})}),Object(S.jsx)(h.a,{span:6,children:Object(S.jsxs)(He.a,{className:"card",bordered:!1,children:[Object(S.jsxs)("div",{className:"card-container",children:[Object(S.jsxs)("div",{children:[Object(S.jsx)("span",{className:"card-header",children:"Expired Materials"}),Object(S.jsx)("br",{}),Object(S.jsx)("span",{className:"card-value",children:n})]}),Object(S.jsx)("div",{children:Object(S.jsx)("div",{className:"icon-expired-background",children:Object(S.jsx)(Qe.a,{className:"icon-expired"})})})]}),Object(S.jsx)(We.a,{className:"divider"})]})}),Object(S.jsx)(h.a,{span:6,children:Object(S.jsxs)(He.a,{className:"card",bordered:!1,children:[Object(S.jsxs)("div",{className:"card-container",children:[Object(S.jsxs)("div",{children:[Object(S.jsx)("span",{className:"card-header",style:$e,children:"Reports In Progress"}),Object(S.jsx)("br",{}),Object(S.jsx)("span",{className:"card-value",children:" 0 "})]}),Object(S.jsx)("div",{children:Object(S.jsx)("div",{className:"icon-progress-background",children:Object(S.jsx)(Xe.a,{className:"icon-progress"})})})]}),Object(S.jsx)(We.a,{className:"divider"})]})}),Object(S.jsx)(h.a,{span:6,children:Object(S.jsxs)(He.a,{className:"card",bordered:!1,children:[Object(S.jsxs)("div",{className:"card-container",children:[Object(S.jsxs)("div",{children:[Object(S.jsx)("span",{className:"card-header",children:"Finished Reports"}),Object(S.jsx)("br",{}),Object(S.jsx)("span",{className:"card-value",children:"0 "})]}),Object(S.jsx)("div",{children:Object(S.jsx)("div",{className:"icon-finished-background",children:Object(S.jsx)(Ze.a,{className:"icon-finished"})})})]}),Object(S.jsx)(We.a,{className:"divider"})]})})]})})},tt=n(88),nt=Object(v.createContext)({}),at=function(e){var t=Object(v.useState)(),n=Object(p.a)(t,2),a=n[0],r=n[1],c=Object(v.useState)({}),s=Object(p.a)(c,2),i=s[0],o=s[1];Object(v.useEffect)((function(){(function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=sessionStorage.getItem("email"))){e.next=4;break}return e.next=4,Ue.authentication.loggedIn(t).then((function(e){e.loggedIn&&(r(!0),o(e.user))}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var u={login:function(){r(!0)},logout:function(){r(!1)},loggedIn:a,userSession:function(){return i}};return Object(S.jsx)(nt.Provider,Object(tt.a)({value:u},e))},rt=function(){return g.a.useContext(nt)},ct=n(389),st=n(98),it=n(408),ot=n(409),ut=n(410),lt=n(411),dt=n(412),jt=n(413),bt=(n(347),ct.a.Sider),pt=function(){var e=rt().loggedIn,t=Object(b.g)(),n=Object(b.h)().pathname;return Object(v.useEffect)((function(){e&&"/"===n&&t.push("/dashboard")}),[e,t,n]),Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(bt,{className:"sidebar",breakpoint:"lg",collapsedWidth:"0",trigger:null,children:[Object(S.jsx)("div",{className:"sidebar-wrapper",children:Object(S.jsxs)("div",{className:"sidebar-header",children:[Object(S.jsx)(it.a,{style:{marginRight:"8px"}}),"Accelerator",Object(S.jsx)("span",{className:"blue-text",children:"LAB"})]})}),Object(S.jsxs)(st.a,{className:"sidebar-menu",theme:"dark",mode:"inline",selectedKeys:n.split("/")[1],children:[Object(S.jsx)(st.a.Item,{className:"sidebar-item",icon:Object(S.jsx)(ot.a,{}),children:Object(S.jsx)(y.b,{to:"/dashboard",children:"Dashboard"})},"dashboard"),Object(S.jsx)(st.a.Item,{className:"sidebar-item",icon:Object(S.jsx)(ut.a,{}),children:Object(S.jsx)(y.b,{to:"/inventory",children:"Inventory"})},"inventory"),Object(S.jsx)(st.a.Item,{className:"sidebar-item",icon:Object(S.jsx)(lt.a,{}),children:"Products"},"products"),Object(S.jsx)(st.a.Item,{className:"sidebar-item",icon:Object(S.jsx)(dt.a,{}),children:"Reports"},"reports"),Object(S.jsx)(st.a.Item,{className:"sidebar-item",icon:Object(S.jsx)(jt.a,{}),children:"History"},"history")]})]})})},ft=(n(348),n(349),n(350),n(399)),ht=n(414),mt=function(){var e=Object(v.useState)(!1),t=Object(p.a)(e,2),n=t[0],a=t[1],r=Object(b.h)().pathname;return Object(S.jsxs)("section",{className:"SidebarDrawer",children:[Object(S.jsx)("nav",{className:"menu-button",children:Object(S.jsx)(M.a,{className:"button",onClose:function(){return a(!1)},onClick:function(){a(!0)},icon:Object(S.jsx)(ht.a,{})})}),Object(S.jsx)("div",{className:"drawer",children:Object(S.jsx)(ft.a,{visible:n,onClose:function(){a(!1)},placement:"left",title:"Accelerator Lab",width:270,children:Object(S.jsx)("div",{children:Object(S.jsxs)(st.a,{selectedKeys:r.split("/")[1],mode:"inline",theme:"light",children:[Object(S.jsx)(st.a.Item,{className:"drawer-item",children:Object(S.jsx)(y.b,{to:"/dashboard",children:"Dashboard"})},"dashboard"),Object(S.jsx)(st.a.Item,{className:"drawer-item",children:Object(S.jsx)(y.b,{to:"/inventory",children:"Inventory"})},"inventory"),Object(S.jsx)(st.a.Item,{className:"drawer-item",children:"Products"},"products"),Object(S.jsx)(st.a.Item,{className:"drawer-item",children:"Reports"},"reports"),Object(S.jsx)(st.a.Item,{className:"drawer-item",children:"History"},"history")]})})})})]})},Ot=n(395),xt=n(158),vt=n(400),gt=n(415),yt=ct.a.Header,wt=Ot.a.Text,kt=function(){var e=rt(),t=e.logout,n=e.userSession,a=Object(b.g)(),r=N()().format("MMMM D, YYYY"),c=Object(v.useState)({}),s=Object(p.a)(c,2),i=s[0],o=s[1];Object(v.useEffect)((function(){o({firstname:sessionStorage.getItem("firstname"),lastname:sessionStorage.getItem("lastname")})}),[n]);var u=function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L.b.success("You successfully logged out"),e.next=3,t();case 3:return sessionStorage.clear(),e.abrupt("return",a.push("/"));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=Object(S.jsx)(st.a,{style:{borderRadius:"4px"},children:Object(S.jsx)(st.a.Item,{style:{borderRadius:"4px"},onClick:u,children:Object(S.jsx)(wt,{children:"Logout"})})});return Object(S.jsx)("section",{className:"navbar-layout",children:Object(S.jsxs)(yt,{className:"navbar",children:[Object(S.jsx)("div",{className:"drawer-layout",children:Object(S.jsx)(mt,{})}),Object(S.jsxs)("section",{className:"right-side",children:[Object(S.jsx)("div",{style:{fontSize:"14px"},children:r}),Object(S.jsxs)("div",{className:"account-component",children:[Object(S.jsx)("div",{className:"divider-component",children:Object(S.jsx)("div",{className:"v-divider"})}),Object(S.jsx)("div",{children:Object(S.jsx)(xt.a,{className:"dropdown-layout",overlay:l,children:Object(S.jsxs)(wt,{onClick:function(e){return e.preventDefault()},children:[Object(S.jsx)(vt.a,{className:"avatar",size:"medium",icon:Object(S.jsx)(gt.a,{})}),Object(S.jsxs)("span",{className:"account-name",children:[i.firstname," ",i.lastname]})]})})})]})]})]})})},_t=ct.a.Content,Nt=ct.a.Footer,St=function(e){var t=e.content;return Object(S.jsxs)(ct.a,{className:"sidebar-header-layout",children:[Object(S.jsx)(pt,{}),Object(S.jsxs)(ct.a,{children:[Object(S.jsx)(kt,{}),Object(S.jsxs)(_t,{className:"content-layout",children:[Object(S.jsx)("div",{className:"content-wrapper",children:t}),Object(S.jsx)(Nt,{className:"footer",children:"Accelerator Lab \xa92021 Tetra Pak"})]})]})]})},Ct=function(){var e=Object(v.useState)({}),t=Object(p.a)(e,2),n=t[0],a=t[1],r=rt().userSession;return Object(v.useEffect)((function(){a(r())}),[r]),Object(S.jsx)(St,{content:Object(S.jsxs)("section",{name:"Dashboard",children:[Object(S.jsxs)("div",{title:"Paragraph-Wrapper",children:[Object(S.jsx)("span",{className:"content-sub-header",children:" DASHBOARD "}),Object(S.jsxs)("h1",{className:"blue-text",children:[" Good Morning, ",n.firstname," "]}),Object(S.jsx)("span",{className:"content-sub-header",children:"Here's what's happening with your inventory today"})]}),Object(S.jsx)("section",{title:"Card-Wrapper",children:Object(S.jsx)(f.a,{gutter:16,children:Object(S.jsx)(h.a,{span:24,style:{marginTop:"1.5rem"},children:Object(S.jsx)(et,{})})})}),Object(S.jsxs)("section",{className:"table-wrapper",style:{marginTop:"1.5rem"},children:[Object(S.jsx)("div",{children:Object(S.jsx)(Ke,{})}),Object(S.jsx)("div",{children:Object(S.jsx)(Je,{})})]})]})})},It=(n(352),n.p+"static/media/tetrapak_logo.3263c975.png"),Et=n(394),Mt=n(398),Yt=n(416),Pt=n(165),Dt=(n(353),function(){var e=rt().login,t=Object(b.g)(),n=function(){var n=Object(x.a)(O.a.mark((function n(){return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e();case 2:return L.b.success("You successfully logged in"),n.abrupt("return",t.push("/dashboard"));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),a=function(){var e=Object(x.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ue.authentication.login(t.email,t.password);case 3:a=e.sent,e.t0=a.message,e.next="success"===e.t0?7:"user not found"===e.t0?9:"wrong password"===e.t0?11:13;break;case 7:return n(),e.abrupt("break",15);case 9:case 11:return L.b.warning("Your email or password is wrong")&&b.a,e.abrupt("break",15);case 13:return L.b.error("Error occurred when logging in")&&b.a,e.abrupt("break",15);case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(0),L.b.error("Not connected to server.");case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsx)("div",{className:"login-forms",children:Object(S.jsxs)(Et.a,{name:"basic",initialValues:{remember:!0},onFinish:a,onFinishFailed:function(e){console.log("Failed:",e)},children:[Object(S.jsxs)("div",{className:"login-form",children:[Object(S.jsx)(Et.a.Item,{name:"email",rules:[{required:!0,message:"Please input your email"}],children:Object(S.jsx)(Mt.a,{prefix:Object(S.jsx)(Yt.a,{}),placeholder:"Enter your email",className:"username-input"})}),Object(S.jsx)(Et.a.Item,{className:"input-bar",name:"password",rules:[{required:!0,message:"Please input your password"}],children:Object(S.jsx)(Mt.a.Password,{prefix:Object(S.jsx)(Pt.a,{}),placeholder:"Enter your password"})})]}),Object(S.jsx)("div",{className:"login-button",children:Object(S.jsx)(Et.a.Item,{wrapperCol:{offset:8},children:Object(S.jsx)(M.a,{type:"primary",htmlType:"submit",children:"Login"})})})]})})}),Tt=function(){return Object(S.jsx)("section",{className:"LoginPage",children:Object(S.jsxs)("div",{className:"background",children:[Object(S.jsxs)("div",{className:"main-container",children:[Object(S.jsx)("div",{className:"header-container",children:Object(S.jsxs)("span",{className:"header",children:["Log in to ",Object(S.jsx)("br",{})," Accelerator",Object(S.jsx)("span",{className:"blue-text",children:"LAB"})]})}),Object(S.jsx)("div",{className:"login-container",children:Object(S.jsxs)("div",{className:"login-container-style",children:[Object(S.jsx)("div",{className:"login-header",children:"Login"}),Object(S.jsx)("div",{className:"login-form-container",children:Object(S.jsx)(Dt,{})})]})})]}),Object(S.jsx)("div",{className:"logo-container",children:Object(S.jsx)("img",{src:It,alt:"Tetra Pak Logo",className:"logo"})})]})})},Lt=n(223),Ft=(n(354),n(390)),At=n(166),Rt=function(e){var t=e.header,n=e.onChange,a=e.value,r=e.options,c=e.placeholder;return Object(S.jsxs)("div",{name:"".concat(t),className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:t}),Object(S.jsx)(Ft.a,{options:r,filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())},onChange:n,value:a,children:Object(S.jsx)(Mt.a,{allowClear:!0,className:"input-text",placeholder:c,suffix:Object(S.jsx)(At.a,{style:{fontSize:"1rem"}})})})]})},zt=n(79),Bt=function(e){var t=e.header,n=e.options,a=e.onChange,r=e.value,c=e.placeholder,s=e.allowClear;return Object(S.jsxs)("div",{name:"".concat(t),className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:t}),Object(S.jsx)(zt.a,{options:n,placeholder:c,onChange:a,value:r,allowClear:s})]})},Ut=n(391),Kt=Ut.a.RangePicker,qt=function(e){var t=e.header,n=e.value,a=e.onChange;return Object(S.jsxs)("div",{name:"".concat(t),className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:t}),Object(S.jsx)(Kt,{allowClear:!0,showToday:!0,className:"input-date",format:"MMM D, YYYY",value:n,onChange:a})]})},Vt=n(156),Jt=function(e){e.header;var t=e.value,n=e.onClick;return Object(S.jsxs)("div",{name:"priority",className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Priority for Usage"}),Object(S.jsxs)(Vt.a.Group,{defaultValue:"",value:t,buttonStyle:"solid",children:[Object(S.jsx)(Vt.a.Button,{value:"",onClick:n,children:"All"}),Object(S.jsx)(Vt.a.Button,{value:"low",onClick:n,children:"Low"}),Object(S.jsx)(Vt.a.Button,{value:"normal",onClick:n,children:"Normal"}),Object(S.jsx)(Vt.a.Button,{value:"high",onClick:n,children:"High"}),Object(S.jsx)(Vt.a.Button,{value:"expired",onClick:n,children:"Expired"})]})]})},Ht=function(e){var t=e.header,n=e.onChange,a=e.value,r=e.placeholder;return Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:t}),Object(S.jsx)(Mt.a,{className:"input-text",onChange:n,value:a,placeholder:r,required:!0})]})},Wt=function(e){var t=e.header,n=e.value,a=e.onChange;return Object(S.jsxs)("div",{name:"".concat(t),className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:t}),Object(S.jsx)(Ut.a,{allowClear:!0,showToday:!0,className:"input-date",format:"MMM D, YYYY",value:n,onChange:a})]})},Gt=n(397),Qt=(n(355),function(e){var t=e.visible,n=e.onOk,a=e.onCancel,r=e.content;return Object(S.jsx)(Gt.a,{visible:t,onOk:n,onCancel:a,maskClosable:!1,width:"650px",children:Object(S.jsxs)("section",{className:"FilterComponent",children:[Object(S.jsx)("span",{className:"sub-header",children:" What are you looking for?"}),Object(S.jsx)("h1",{style:{paddingBottom:"1rem"},children:"Choose your filters"}),r]})})}),Xt=function(e){var t=e.filterVisible,n=e.closeFilter,a=e.handleFilter,r=e.handleClear,c=Object(v.useState)([]),s=Object(p.a)(c,2),i=s[0],o=s[1],u=Object(v.useState)([]),l=Object(p.a)(u,2),d=l[0],j=l[1],b=Object(v.useState)([]),f=Object(p.a)(b,2),h=f[0],m=f[1],g=Object(v.useState)([]),y=Object(p.a)(g,2),w=y[0],k=y[1],_=Object(v.useState)(""),N=Object(p.a)(_,2),C=N[0],I=N[1],E=Object(v.useState)(""),Y=Object(p.a)(E,2),P=Y[0],D=Y[1],T=Object(v.useState)(null),L=Object(p.a)(T,2),F=L[0],A=L[1],R=Object(v.useState)(null),z=Object(p.a)(R,2),B=z[0],U=z[1],K=Object(v.useState)(null),q=Object(p.a)(K,2),V=q[0],J=q[1],H=Object(v.useState)(null),W=Object(p.a)(H,2),G=W[0],Q=W[1],X=Object(v.useState)(""),Z=Object(p.a)(X,2),$=Z[0],ee=Z[1];Object(v.useEffect)((function(){Ue.rawMaterial.fetchCompanies().then((function(e){return o(e)})),Ue.rawMaterial.fetchCountries().then((function(e){return j(e)})),Ue.locations.fetchLocations().then((function(e){return k(e)})),Ue.materialforms.fetchForms().then((function(e){return m(e)}))}),[]);var te=function(){var e=Object(x.a)(O.a.mark((function e(t){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new Map).set("brand",C),r.set("country",P),r.set("location",F),r.set("form",B),r.set("receivedDate",V),r.set("expirationDate",G),r.set("priority",$),e.next=10,a(r);case 10:n(t);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsx)(Qt,{visible:t,onOk:te,onCancel:n,content:Object(S.jsxs)("section",{className:"rows",children:[Object(S.jsxs)("div",{className:"columns",children:[Object(S.jsx)(Rt,{header:"Brand",onChange:function(e){return I(e)},value:C,options:i,placeholder:"All brands..."}),Object(S.jsx)(Rt,{header:"Country",onChange:function(e){return D(e)},value:P,options:d,placeholder:"All countries..."})]}),Object(S.jsxs)("div",{className:"columns",children:[Object(S.jsx)(Bt,{header:"Stored Location",options:w,value:F,placeholder:"All locations...",onChange:function(e){return A(e)}}),Object(S.jsx)(Bt,{header:"Material Form",options:h,value:B,placeholder:"All forms...",onChange:function(e){return U(e)}})]}),Object(S.jsxs)("div",{className:"columns",children:[Object(S.jsx)(qt,{header:"Received Date",value:V,onChange:function(e){return J(e)}}),Object(S.jsx)(qt,{header:"Expiration Date",value:G,onChange:function(e){return Q(e)}})]}),Object(S.jsxs)("div",{className:"priority-clear",children:[Object(S.jsx)(Jt,{value:$,onClick:function(e){""===e.target.value?ee(""):ee(e.target.value)}}),Object(S.jsx)(M.a,{type:"dashed",onClick:function(){I(""),D(""),A(null),U(null),J(null),Q(null),ee(""),r()},children:"Reset"})]})]})})},Zt=n(109),$t=n(233),en=function(e,t){return null!==e&&e!==t},tn=function(e,t){return null!==e&&e!==t},nn=function(e,t){return null!=e&&e!==t&&e<=100&&e>=0||(e>100&&e<0&&console.log("Raw material nuitritional fact could not be updated"),!1)},an=function(e,t,n){var a=N()(e);return null==t||null==n?"":(a.isAfter(t)||a.isSame(t,"date"))&&(a.isBefore(n)||a.isSame(n,"date"))?a.format("YYYYMMDD"):void 0},rn=function(e){return""!==e&&null!==e},cn=n(55),sn=Object(v.createContext)({}),on=function(e){var t=Object(v.useState)({}),n=Object(p.a)(t,2),a=n[0],r=n[1],c={openEdit:function(e){r(Object(cn.a)({},e,!0))},closeEdit:function(e,t){e.stopPropagation(),r(Object(cn.a)({},t,!1))},editVisible:a};return Object(S.jsx)(sn.Provider,Object(tt.a)({value:c},e))},un=function(){return g.a.useContext(sn)},ln=(n(356),n(396)),dn=function(e){var t=e.children,n=e.value,a=e.onChange,r=e.defaultValue,c=e.max,s=e.style,i=e.placeholder,o=Object(v.useState)(),u=Object(p.a)(o,2),l=u[0],d=u[1];return Object(v.useEffect)((function(){d(typeof n===String?parseInt(n):n)}),[n]),Object(S.jsx)(ln.a,{className:"input-number",type:"number",placeholder:i,value:l,size:"small",onChange:a,min:0,max:c,style:s,step:.1,defaultValue:r,children:t})},jn=n(64),bn=n(105),pn=n(10),fn=n(35),hn=n(29),mn=n.n(hn),On=Object(fn.a)("id"),xn=Object(fn.a)("name"),vn=Object(fn.a)("brand"),gn=Object(fn.a)("country"),yn=Object(fn.a)("unit"),wn=Object(fn.a)("form"),kn=Object(fn.a)("location"),_n=Object(fn.a)("fat"),Nn=Object(fn.a)("carb"),Sn=Object(fn.a)("protein"),Cn=Object(fn.a)("salt"),In=Object(fn.a)("sugar"),En=Object(fn.a)("fiber"),Mn=Object(fn.a)("content"),Yn=Object(fn.a)("image"),Pn=Object(fn.a)("data"),Dn=function(){function e(t){Object(T.a)(this,e),Object.defineProperty(this,On,{writable:!0,value:null}),Object.defineProperty(this,xn,{writable:!0,value:""}),Object.defineProperty(this,vn,{writable:!0,value:""}),Object.defineProperty(this,gn,{writable:!0,value:""}),Object.defineProperty(this,yn,{writable:!0,value:""}),Object.defineProperty(this,wn,{writable:!0,value:""}),Object.defineProperty(this,kn,{writable:!0,value:""}),Object.defineProperty(this,_n,{writable:!0,value:0}),Object.defineProperty(this,Nn,{writable:!0,value:0}),Object.defineProperty(this,Sn,{writable:!0,value:0}),Object.defineProperty(this,Cn,{writable:!0,value:0}),Object.defineProperty(this,In,{writable:!0,value:0}),Object.defineProperty(this,En,{writable:!0,value:0}),Object.defineProperty(this,Mn,{writable:!0,value:""}),Object.defineProperty(this,Yn,{writable:!0,value:""}),Object.defineProperty(this,Pn,{writable:!0,value:null}),void 0!==t&&null!==t&&(Object(pn.a)(this,Pn)[Pn]=t,Object(pn.a)(this,On)[On]=t.raw_material_id,Object(pn.a)(this,xn)[xn]=t.material_name,Object(pn.a)(this,vn)[vn]=t.company,Object(pn.a)(this,gn)[gn]=t.country,Object(pn.a)(this,yn)[yn]=t.unit,Object(pn.a)(this,wn)[wn]=t.form,Object(pn.a)(this,kn)[kn]=t.location,Object(pn.a)(this,_n)[_n]=t.fat,Object(pn.a)(this,Nn)[Nn]=t.carbohydrate,Object(pn.a)(this,Sn)[Sn]=t.protein,Object(pn.a)(this,Cn)[Cn]=t.salt,Object(pn.a)(this,In)[In]=t.sugar,Object(pn.a)(this,En)[En]=t.fiber,Object(pn.a)(this,Mn)[Mn]=t.content,Object(pn.a)(this,Yn)[Yn]=t.image)}return Object(bn.a)(e,[{key:"toJsonObject",value:function(){return{id:Object(pn.a)(this,On)[On],name:Object(pn.a)(this,xn)[xn],company:Object(pn.a)(this,vn)[vn],country:Object(pn.a)(this,gn)[gn],unit:Object(pn.a)(this,yn)[yn],form:Object(pn.a)(this,wn)[wn],location:Object(pn.a)(this,kn)[kn],fat:Object(pn.a)(this,_n)[_n],carb:Object(pn.a)(this,Nn)[Nn],protein:Object(pn.a)(this,Sn)[Sn],salt:Object(pn.a)(this,Cn)[Cn],sugar:Object(pn.a)(this,In)[In],fiber:Object(pn.a)(this,En)[En],content:Object(pn.a)(this,Mn)[Mn],image:this.image}}},{key:"id",get:function(){return Object(pn.a)(this,On)[On]},set:function(e){return this.propTypes={input:mn.a.number},e>=0&&(Object(pn.a)(this,On)[On]=e),this}},{key:"name",get:function(){return Object(pn.a)(this,xn)[xn]},set:function(e){return this.propTypes={input:mn.a.string},en(e,Object(pn.a)(this,xn)[xn])&&(Object(pn.a)(this,xn)[xn]=e),this}},{key:"brand",get:function(){return Object(pn.a)(this,vn)[vn]},set:function(e){return this.propTypes={input:mn.a.string},en(e,Object(pn.a)(this,vn)[vn])&&(Object(pn.a)(this,vn)[vn]=e),this}},{key:"country",get:function(){return Object(pn.a)(this,gn)[gn]},set:function(e){return this.propTypes={props:mn.a.string},en(e,Object(pn.a)(this,gn)[gn])&&(Object(pn.a)(this,gn)[gn]=e),this}},{key:"unit",get:function(){return Object(pn.a)(this,yn)[yn]},set:function(e){return this.propTypes={input:mn.a.string},en(e,Object(pn.a)(this,yn)[yn])&&(Object(pn.a)(this,yn)[yn]=e),this}},{key:"form",get:function(){return Object(pn.a)(this,wn)[wn]},set:function(e){return this.propTypes={input:mn.a.string},en(e,Object(pn.a)(this,wn)[wn])&&(Object(pn.a)(this,wn)[wn]=e),this}},{key:"location",get:function(){return Object(pn.a)(this,kn)[kn]},set:function(e){return this.propTypes={input:mn.a.string},en(e,Object(pn.a)(this,kn)[kn])&&(Object(pn.a)(this,kn)[kn]=e),this}},{key:"fat",get:function(){return Object(pn.a)(this,_n)[_n]},set:function(e){return this.propTypes={input:mn.a.number},nn(e,Object(pn.a)(this,_n)[_n])&&(Object(pn.a)(this,_n)[_n]=e),this}},{key:"carb",get:function(){return Object(pn.a)(this,Nn)[Nn]},set:function(e){return this.propTypes={input:mn.a.number},nn(e,Object(pn.a)(this,Nn)[Nn])&&(Object(pn.a)(this,Nn)[Nn]=e),this}},{key:"protein",get:function(){return Object(pn.a)(this,Sn)[Sn]},set:function(e){return this.propTypes={input:mn.a.number},nn(e,Object(pn.a)(this,Sn)[Sn])&&(Object(pn.a)(this,Sn)[Sn]=e),this}},{key:"salt",get:function(){return Object(pn.a)(this,Cn)[Cn]},set:function(e){return this.propTypes={input:mn.a.number},nn(e,Object(pn.a)(this,Cn)[Cn])&&(Object(pn.a)(this,Cn)[Cn]=e),this}},{key:"sugar",get:function(){return Object(pn.a)(this,In)[In]},set:function(e){return this.propTypes={input:mn.a.number},nn(e,Object(pn.a)(this,In)[In])&&(Object(pn.a)(this,In)[In]=e),this}},{key:"fiber",get:function(){return Object(pn.a)(this,En)[En]},set:function(e){return this.propTypes={input:mn.a.number},nn(e,Object(pn.a)(this,En)[En])&&(Object(pn.a)(this,En)[En]=e),this}},{key:"content",get:function(){return Object(pn.a)(this,Mn)[Mn]},set:function(e){return this.propTypes={input:mn.a.string},en(e,Object(pn.a)(this,Mn)[Mn])&&(Object(pn.a)(this,Mn)[Mn]=e),this}},{key:"image",get:function(){return Object(pn.a)(this,Yn)[Yn]},set:function(e){return this.propTypes={input:mn.a.setImage},tn(e,Object(pn.a)(this,Yn)[Yn])&&(Object(pn.a)(this,Yn)[Yn]=e),this}},{key:"data",get:function(){return Object(pn.a)(this,Pn)[Pn]}}]),e}();Dn.propTypes={name:mn.a.string,brand:mn.a.string,country:mn.a.string,unit:mn.a.string,form:mn.a.string,location:mn.a.string,fat:mn.a.number,carb:mn.a.number,protein:mn.a.number,salt:mn.a.number,fiber:mn.a.number,content:mn.a.string,image:mn.a.string};var Tn=Dn,Ln=n(402),Fn=n(222),An=n(152),Rn=n.n(An),zn=(n(362),function e(t){return e.propTypes={array:mn.a.array},t.forEach((function(e){return console.log(e)})),t.sort((function(e,t){return e.name.localeCompare(t.name)}))}),Bn=Ot.a.Link,Un=Ot.a.Text,Kn=function(e){var t=e.visible,n=e.close,a=e.sendChangesToParent,r=Object(v.useState)([]),c=Object(p.a)(r,2),s=c[0],i=c[1],o=Object(v.useState)([]),u=Object(p.a)(o,2),l=u[0],d=u[1],j=Object(v.useState)(""),b=Object(p.a)(j,2),f=b[0],h=b[1],m=Object(v.useState)(""),O=Object(p.a)(m,2),x=O[0],g=O[1],y=Object(v.useState)({}),w=Object(p.a)(y,2),k=w[0],_=w[1];Object(v.useEffect)((function(){Ue.brands.fetchAllCompanies().then((function(e){i(e),d(e)}))}),[]);var N=function(e){return k[e]?Object(S.jsx)(D,{component:Object(S.jsx)(Mt.a,{required:!0,className:"input-text",defaultValue:"".concat(e),onPressEnter:function(t){E(e,t.target.value),_(Object(cn.a)({},e,!k[e]))}}),text:"Press Enter to save brand",trigger:"focus"}):Object(S.jsx)(Un,{children:e})},C=function(){if(""===x)L.b.warning("Please enter a brand name.");else if(function(){for(var e=0;e<s.length;e++)if(s[e].name.toLowerCase()===x.toLowerCase())return!0;return!1}())L.b.warning("The brand already exists.");else{var e=s.concat([{value:x,name:x}]),t=zn(e);i(t),d(t),a(t),Ue.brands.addCompany(x)}},I=function(e){var t=s.filter((function(t){return t.name.toLowerCase()!==e.toLowerCase()}));i(t),d(t),a(t),Ue.brands.deleteCompany(e)},E=function(e,t){e!==t&&(s.forEach((function(n){n.name===e&&(n.name=t,n.value=t)})),d(s),a(s),Ue.brands.updateCompany(e,t))};return Object(S.jsx)(Gt.a,{width:"760px",centered:!0,visible:t,onCancel:n,onOk:n,maskClosable:!1,footer:[Object(S.jsx)(M.a,{type:"primary",onClick:n,children:"Close"},"submit")],children:Object(S.jsxs)("section",{className:"EditBrands",children:[Object(S.jsx)("section",{className:"header",children:Object(S.jsx)("h1",{children:"Edit Brands"})}),Object(S.jsxs)("section",{className:"body",children:[Object(S.jsxs)("div",{className:"options",children:[Object(S.jsx)(Mt.a,{onChange:function(e){return function(e){h(e);var t=l.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));i(t)}(e.target.value)},value:f,size:"large",className:"input-text",placeholder:"Search for a brand name...",allowClear:!0,enterbutton:"true"}),Object(S.jsx)(Fn.a,{trigger:"click",placement:"bottom",content:function(){return Object(S.jsxs)("div",{className:"popover",children:[Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{children:"Add a new brand"}),Object(S.jsx)(Mt.a,{value:x,allowClear:!0,className:"input-text",onChange:function(e){return g(e.target.value)},placeholder:"Type a new brand name...",onPressEnter:C})]}),Object(S.jsx)("div",{className:"button",children:Object(S.jsx)(M.a,{type:"primary",onClick:C,children:"Add"})})]})},children:Object(S.jsx)(M.a,{type:"primary",style:{height:"100%",borderRadius:"12px"},size:"large",children:"Add a new Brand"})})]}),Object(S.jsx)("div",{className:"list",children:Object(S.jsx)(Rn.a,{initialLoad:!1,loadMore:function(){return console.log("infinite scroll")},useWindow:!1,children:Object(S.jsx)(Ln.b,{size:"large",dataSource:Object(jn.sortBy)("company.company",s||[]),renderItem:function(e){return Object(S.jsx)(Ln.b.Item,{className:"row",actions:[Object(S.jsx)(Bn,{onClick:function(){_(Object(cn.a)({},e.name,!k[e.name]))},type:"primary",children:k[e.name]?"Close":"Edit"}),Object(S.jsx)(qe.a,{title:"Are you sure to delete this brand?\nThis brand will be deleted from all raw materials who uses it",onConfirm:function(){return I(e.name)},children:Object(S.jsx)(Bn,{type:"danger",children:"Delete"})})],children:Object(S.jsx)(Ln.b.Item.Meta,{className:"item",description:N(e.name)})})},rowKey:"company"})})})]})]})})},qn=Ot.a.Link,Vn=Ot.a.Text,Jn=function(e){var t=e.visible,n=e.close,a=e.sendChangesToParent,r=Object(v.useState)([]),c=Object(p.a)(r,2),s=c[0],i=c[1],o=Object(v.useState)([]),u=Object(p.a)(o,2),l=u[0],d=u[1],j=Object(v.useState)(""),b=Object(p.a)(j,2),f=b[0],h=b[1],m=Object(v.useState)(""),O=Object(p.a)(m,2),x=O[0],g=O[1],y=Object(v.useState)({}),w=Object(p.a)(y,2),k=w[0],_=w[1];Object(v.useEffect)((function(){Ue.locations.fetchLocations().then((function(e){i(e),d(e)}))}),[]);var N=function(e){var t=s.filter((function(t){return t.name.toLowerCase()!==e.toLowerCase()}));i(t),d(t),a(t),Ue.locations.deleteLocation(e)},C=function(e){return k[e]?Object(S.jsx)(D,{component:Object(S.jsx)(Mt.a,{required:!0,className:"input-text",defaultValue:"".concat(e),onPressEnter:function(t){!function(e,t){e!==t&&(s.forEach((function(n){n.name===e&&(n.name=t,n.value=t)})),d(s),a(s),Ue.locations.updateLocation(e,t))}(e,t.target.value),_(Object(cn.a)({},e,!k[e]))}}),text:"Press Enter to save brand",trigger:"focus"}):Object(S.jsx)(Vn,{children:e})},I=function(){if(""===f)L.b.warning("Please enter a brand name.");else if(function(){for(var e=0;e<s.length;e++)if(s[e].name.toLowerCase()===f.toLowerCase())return!0;return!1}())L.b.warning("The brand already exists.");else{var e=s.concat([{value:f,name:f}]),t=zn(e);i(t),d(t),a(t),Ue.locations.addLocation(f)}};return Object(S.jsx)(Gt.a,{width:"760px",centered:!0,visible:t,onCancel:n,onOk:n,maskClosable:!1,footer:[Object(S.jsx)(M.a,{type:"primary",onClick:n,children:"Close"},"submit")],children:Object(S.jsxs)("section",{className:"EditBrands",children:[Object(S.jsx)("section",{className:"header",children:Object(S.jsx)("h1",{children:"Edit Stored Locations"})}),Object(S.jsxs)("section",{className:"body",children:[Object(S.jsxs)("div",{className:"options",children:[Object(S.jsx)(Mt.a,{onChange:function(e){return function(e){g(e);var t=l.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));i(t)}(e.target.value)},value:x,size:"large",className:"input-text",placeholder:"searchField for a location name...",allowClear:!0,enterbutton:"true"}),Object(S.jsx)(Fn.a,{trigger:"click",placement:"bottom",content:function(){return Object(S.jsxs)("div",{className:"popover",children:[Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{children:"Add a new stored location"}),Object(S.jsx)(Mt.a,{value:f,allowClear:!0,className:"input-text",onChange:function(e){return h(e.target.value)},placeholder:"Type a new stored location...",onPressEnter:I})]}),Object(S.jsx)("div",{className:"button",children:Object(S.jsx)(M.a,{type:"primary",onClick:I,children:"Add"})})]})},children:Object(S.jsx)(M.a,{type:"primary",style:{height:"100%",borderRadius:"12px"},size:"large",children:"Add a new Stored Location"})})]}),Object(S.jsx)("div",{className:"list",children:Object(S.jsx)(Rn.a,{initialLoad:!1,loadMore:function(){return console.log("infinite scroll")},useWindow:!1,children:Object(S.jsx)(Ln.b,{size:"large",dataSource:Object(jn.sortBy)("location.location",s||[]),renderItem:function(e){return Object(S.jsx)(Ln.b.Item,{className:"row",actions:[Object(S.jsx)(qn,{onClick:function(){_(Object(cn.a)({},e.name,!k[e.name]))},type:"primary",children:k[e.name]?"Close":"Edit"}),Object(S.jsx)(qe.a,{title:"Are you sure to delete this stored location?\nThis stored location will be deleted from all raw materials who uses it",onConfirm:function(){return N(e.name)},children:Object(S.jsx)(qn,{type:"danger",children:"Delete"})})],children:Object(S.jsx)(Ln.b.Item.Meta,{className:"item",description:C(e.name)})})},rowKey:"location"})})})]})]})})},Hn=n(393),Wn=n(417),Gn=function(e){var t=e.handleImage,n=e.imageURL;return Object(S.jsx)(Hn.a,{maxCount:1,defaultFileList:function(){return""===n?[]:[{url:n}]},listType:"picture-card",onChange:function(e){"done"===e.file.status?L.b.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&L.b.error("".concat(e.file.name," file upload failed."))},customRequest:function(e){var n=e.onSuccess,a=e.onError,r=e.file;setTimeout((function(){try{!function(e){var t="image/jpeg"===e.type||"image/png"===e.type||"image/jpg"===e.type;t||L.b.error("You can only upload JPG/PNG file!");var n=e.size<7e6;return n||L.b.error("Image must smaller than 7MB!"),t&&n}(r)?a():(n(null,r),t(r))}catch(e){console.log(e),a()}}),1)},onRemove:function(e){t(null),console.log("Dropped files",e)},children:Object(S.jsxs)("div",{style:{display:"flex",flexDirection:"column",rowGap:"8px"},children:[Object(S.jsx)(Wn.a,{}),"Upload ",Object(S.jsx)("br",{}),"Image"]})})},Qn=[{value:"g",name:"g"},{value:"units",name:"units"}],Xn=Mt.a.TextArea,Zn=function(e){var t=e.visible,n=e.data,a=e.sendChangesToParent,r=e.deleteRawMaterial,c=un().closeEdit,s=Object(v.useState)(!1),i=Object(p.a)(s,2),o=i[0],u=i[1],l=Object(v.useState)(!1),d=Object(p.a)(l,2),j=d[0],b=(d[1],Object(v.useState)([])),f=Object(p.a)(b,2),h=f[0],m=f[1],g=Object(v.useState)([]),y=Object(p.a)(g,2),w=y[0],k=y[1],_=Object(v.useState)([]),N=Object(p.a)(_,2),C=N[0],I=N[1],E=Object(v.useState)([]),Y=Object(p.a)(E,2),P=Y[0],D=Y[1],T=Object(v.useState)(),F=Object(p.a)(T,2),A=F[0],R=F[1],z=Object(v.useState)(""),B=Object(p.a)(z,2),U=B[0],K=B[1],q=Object(v.useState)(""),V=Object(p.a)(q,2),J=V[0],H=V[1],W=Object(v.useState)(""),G=Object(p.a)(W,2),Q=G[0],X=G[1],Z=Object(v.useState)(""),$=Object(p.a)(Z,2),ee=$[0],te=$[1],ne=Object(v.useState)(""),ae=Object(p.a)(ne,2),re=ae[0],ce=ae[1],se=Object(v.useState)(""),ie=Object(p.a)(se,2),oe=ie[0],ue=ie[1],le=Object(v.useState)(0),de=Object(p.a)(le,2),je=de[0],be=de[1],pe=Object(v.useState)(0),fe=Object(p.a)(pe,2),he=fe[0],me=fe[1],Oe=Object(v.useState)(0),xe=Object(p.a)(Oe,2),ve=xe[0],ge=xe[1],ye=Object(v.useState)(0),we=Object(p.a)(ye,2),ke=we[0],_e=we[1],Ne=Object(v.useState)(0),Se=Object(p.a)(Ne,2),Ce=Se[0],Ie=Se[1],Ee=Object(v.useState)(0),Me=Object(p.a)(Ee,2),Ye=Me[0],Pe=Me[1],De=Object(v.useState)(""),Te=Object(p.a)(De,2),Le=Te[0],Fe=Te[1],Ae=Object(v.useState)(),Re=Object(p.a)(Ae,2),ze=Re[0],Be=Re[1],Ke=Object(v.useState)(),Ve=Object(p.a)(Ke,2),Je=Ve[0],He=Ve[1],We=Object(v.useState)(""),Ge=Object(p.a)(We,2),Qe=Ge[0],Xe=Ge[1],Ze=Object(v.useState)(null),$e=Object(p.a)(Ze,2),et=$e[0],tt=$e[1];Object(v.useEffect)((function(){Ue.brands.fetchAllCompanies().then((function(e){return m(e)})),Ue.brands.fetchAllCountries().then((function(e){return k(e)})),Ue.locations.fetchLocations().then((function(e){return D(e)})),Ue.materialforms.fetchForms().then((function(e){return I(e)})),null!=n&&(R(n.raw_material_id),K(n.material_name),H(n.company),X(n.country),te(n.unit),ce(n.form),ue(n.location),be(n.fat),me(n.carbohydrate),ge(n.protein),_e(n.salt),Ie(n.sugar),Pe(n.fiber),Fe(n.content),tt(n.image),Be(new Tn(n)),He(new Tn(n)))}),[n]);var nt=function(e,t){return void 0!==e.find((function(e){return e.name===t}))},at=function(){return""===U||null===U?(L.b.error("Please type a material name!"),!1):nt(h,J)?nt(w,Q)?!!nt(P,oe)||(L.b.error("Please select a storage location"),!1):(L.b.error("Please select a country from the list!"),!1):(L.b.error("Please select a brand from the list!"),!1)},rt=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ze.name=U,ze.brand=J,ze.country=Q,ze.unit=ee,ze.location=oe,ze.form=re,ze.fat=je,ze.protein=ve,ze.salt=ke,ze.carb=he,ze.sugar=Ce,ze.fiber=Ye,ze.content=Le,e.next=15,ct().then((function(){Object(jn.isEqual)(ze.toJsonObject(),Je.toJsonObject())?L.b.success("No changes made."):(Ue.rawMaterial.editMaterial(n.raw_material_id,ze.toJsonObject()),a(ze),L.b.success("Successfully edited raw material.")),c(t,A)}));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ct=function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==Qe){e.next=4;break}return e.abrupt("return");case 4:if(null===Qe||""!==ze.image){e.next=9;break}return e.next=7,Ue.rawMaterial.uploadImage(Qe,A).then((function(e){console.log("uploading picture"),ze.image=e}));case 7:e.next=17;break;case 9:if(null===Qe||""===ze.image){e.next=14;break}return e.next=12,Ue.rawMaterial.updateImage(Qe,A).then((function(e){console.log("updating picture"),ze.image=e}));case 12:e.next=17;break;case 14:if(null!==Qe||""===ze.image){e.next=17;break}return e.next=17,Ue.rawMaterial.deleteImage(A).then((function(){console.log("deleting picture"),ze.image=""}));case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsx)(Gt.a,{maskClosable:!1,centered:!0,visible:t,onCancel:function(e){return c(e,A)},width:"950px",footer:[Object(S.jsxs)("section",{className:"edit-raw-material-footer",children:[Object(S.jsx)("div",{children:Object(S.jsx)(qe.a,{title:"Are you sure?",okType:"danger",okText:"Delete",onConfirm:function(e){return r(e,A)},children:Object(S.jsx)(M.a,{type:"danger",children:"Delete"})})}),Object(S.jsxs)("div",{children:[Object(S.jsx)(M.a,{onClick:function(e){return c(e,A)},children:"Cancel"},"submit"),Object(S.jsx)(M.a,{type:"primary",onClick:function(e){at()&&rt(e)},children:"OK"},"submit")]})]})],children:Object(S.jsx)(Et.a,{onFinishFailed:function(e){console.log("Failed:",e),L.b.success("Failed editing raw material")},initialValues:{name:U,brand:J,country:Q},children:Object(S.jsxs)("section",{className:"EditRawMaterial",children:[Object(S.jsxs)("section",{className:"GeneralInformation",children:[Object(S.jsxs)("h1",{children:["Edit ",U]}),Object(S.jsxs)("div",{className:"rows",children:[Object(S.jsxs)("div",{className:"image-general-information",children:[Object(S.jsxs)("div",{className:"column-wrapper",children:[Object(S.jsx)("div",{className:"column-1",children:Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Material Name"}),Object(S.jsx)(Et.a.Item,{name:"name",rules:[{required:!0,message:"Please input material name!"}],children:Object(S.jsx)(Mt.a,{className:"input-text",onChange:function(e){return e.target.value!==U&&K(e.target.value)},value:U,placeholder:"Enter material name...",required:!0})})]})}),Object(S.jsxs)("div",{className:"column-2",children:[Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Brand"}),Object(S.jsxs)("div",{className:"field-add-wrapper",children:[Object(S.jsx)(Et.a.Item,{name:"brand",rules:[{required:!0,message:"Please select a brand!"}],children:Object(S.jsx)(Ft.a,{options:h,filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())},onChange:function(e){return H(e)},value:J,children:Object(S.jsx)(Mt.a,{allowClear:!0,className:"input-text",placeholder:"Select a brand...",suffix:Object(S.jsx)(At.a,{style:{fontSize:"1rem"}})})})}),Object(S.jsxs)(M.a,{className:"button",onClick:function(){return u(!0)},children:[Object(S.jsx)($t.a,{}),Object(S.jsx)(Kn,{visible:o,close:function(e){e.stopPropagation(),u(!1)},sendChangesToParent:function(e){m(e)}})]})]})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Country"}),Object(S.jsx)(Et.a.Item,{name:"country",rules:[{required:!0,message:"Please select a country!"}],children:Object(S.jsx)(Ft.a,{options:w,filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())},onChange:function(e){return e!==Q&&X(e)},value:Q,children:Object(S.jsx)(Mt.a,{allowClear:!0,className:"input-text",placeholder:"Choose a country...",suffix:Object(S.jsx)(At.a,{style:{fontSize:"1rem"}})})})})]})]})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Image"}),Object(S.jsx)(Gn,{handleImage:function(e){console.log("reached"),Xe(e||null)},imageURL:et})]})]}),Object(S.jsxs)("div",{className:"column-3",children:[Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Unit"}),Object(S.jsx)(zt.a,{options:Qn,onChange:function(e){return e!==ee&&te(e)},value:ee})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Material Form"}),Object(S.jsx)(zt.a,{options:C,placeholder:"Select here...",onChange:function(e){return e!==re&&ce(e)},value:re})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Stored Location"}),Object(S.jsxs)("div",{className:"field-add-wrapper",children:[Object(S.jsx)(zt.a,{options:P,value:oe,placeholder:"Select here...",onChange:function(e){return e!==oe&&ue(e)}}),Object(S.jsxs)(M.a,{className:"button",onClick:function(){return u(!0)},children:[Object(S.jsx)($t.a,{}),Object(S.jsx)(Jn,{visible:j,close:function(e){e.stopPropagation(),u(!1)},sendChangesToParent:function(e){D(e)}})]})]})]})]})]})]}),Object(S.jsxs)("section",{className:"NuitritionalFacts",children:[Object(S.jsx)("h2",{children:"Nuitritional Facts (per 100g)"}),Object(S.jsxs)("div",{className:"rows",children:[Object(S.jsxs)("div",{className:"column-4",children:[Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Fat"}),Object(S.jsx)(dn,{value:je,onChange:function(e){return e!==je&&be(e)}})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Carbohydrate"}),Object(S.jsx)(dn,{value:he,onChange:function(e){return me(e)}})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Protein"}),Object(S.jsx)(dn,{value:ve,onChange:function(e){return ge(e)}})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Salt"}),Object(S.jsx)(dn,{value:ke,onChange:function(e){return _e(e)}})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Sugar"}),Object(S.jsx)(dn,{value:Ce,onChange:function(e){return Ie(e)}})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Fiber"}),Object(S.jsx)(dn,{value:Ye,onChange:function(e){return Pe(e)}})]})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Content"}),Object(S.jsx)(Xn,{className:"input-text",placeholder:"Write the content of the raw material...",autoSize:{minRows:3},value:Le,onChange:function(e){return Fe(e.target.value)}})]})]})]})]})})})},$n=(n(363),[{value:"g",name:"g"},{value:"units",name:"units"}]),ea=Mt.a.TextArea,ta=function(e){var t=e.visible,n=e.close,a=e.sendChangesToParent,r=Object(b.g)(),c=Object(v.useState)(!1),s=Object(p.a)(c,2),i=s[0],o=s[1],u=Object(v.useState)(!1),l=Object(p.a)(u,2),d=l[0],j=l[1],f=Object(v.useState)([]),h=Object(p.a)(f,2),m=h[0],g=h[1],y=Object(v.useState)([]),w=Object(p.a)(y,2),k=w[0],_=w[1],N=Object(v.useState)([]),C=Object(p.a)(N,2),I=C[0],E=C[1],Y=Object(v.useState)([]),P=Object(p.a)(Y,2),D=P[0],T=P[1],F=Object(v.useState)(""),A=Object(p.a)(F,2),R=A[0],z=A[1],B=Object(v.useState)(""),U=Object(p.a)(B,2),K=U[0],q=U[1],V=Object(v.useState)(""),J=Object(p.a)(V,2),H=J[0],W=J[1],G=Object(v.useState)("g"),Q=Object(p.a)(G,2),X=Q[0],Z=Q[1],$=Object(v.useState)("Liquid"),ee=Object(p.a)($,2),te=ee[0],ne=ee[1],ae=Object(v.useState)("Ambient"),re=Object(p.a)(ae,2),ce=re[0],se=re[1],ie=Object(v.useState)(0),oe=Object(p.a)(ie,2),ue=oe[0],le=oe[1],de=Object(v.useState)(0),je=Object(p.a)(de,2),be=je[0],pe=je[1],fe=Object(v.useState)(0),he=Object(p.a)(fe,2),me=he[0],Oe=he[1],xe=Object(v.useState)(0),ve=Object(p.a)(xe,2),ge=ve[0],ye=ve[1],we=Object(v.useState)(0),ke=Object(p.a)(we,2),_e=ke[0],Ne=ke[1],Se=Object(v.useState)(0),Ce=Object(p.a)(Se,2),Ie=Ce[0],Ee=Ce[1],Me=Object(v.useState)(""),Ye=Object(p.a)(Me,2),Pe=Ye[0],De=Ye[1],Te=Object(v.useState)(),Le=Object(p.a)(Te,2),Fe=Le[0],Ae=Le[1],Re=Object(v.useState)(),ze=Object(p.a)(Re,2),Be=ze[0],Ke=ze[1];Object(v.useEffect)((function(){Ue.brands.fetchAllCompanies().then((function(e){return g(e)})),Ue.brands.fetchAllCountries().then((function(e){return _(e)})),Ue.locations.fetchLocations().then((function(e){return T(e)})),Ue.materialforms.fetchForms().then((function(e){return E(e)})),Ae(new Tn)}),[]);var qe=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ve()&&He(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ve=function(){return""===R||null===R?(L.b.warning("Please type a material name!"),!1):Je(m,K)?Je(k,H)?!!Je(D,ce)||(L.b.warning("Please select a storage location"),!1):(L.b.warning("Please select a country from the list!"),!1):(L.b.warning("Please select a brand from the list!"),!1)},Je=function(e,t){return void 0!==e.find((function(e){return e.name===t}))},He=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fe.name=R,Fe.brand=K,Fe.country=H,Fe.unit=X,Fe.location=ce,Fe.form=te,Fe.fat=ue,Fe.protein=me,Fe.salt=ge,Fe.carb=be,Fe.sugar=_e,Fe.fiber=Ie,Fe.content=Pe,e.next=15,Ge().then(function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("failed"===t){e.next=3;break}return e.next=3,We().then((function(){a(Fe),r.push("/inventory/rawmaterial/".concat(Fe.id))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:n(t);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),We=function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===Be||null===Be||""===Be){e.next=3;break}return e.next=3,Ue.rawMaterial.uploadImage(Be,Fe.id).then((function(e){console.log("uploading picture"),console.log(e),Fe.image=e}));case 3:return e.abrupt("return");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue.rawMaterial.createRawMaterial(Fe.toJsonObject()).then((function(e){Fe.id=e,console.log(e)}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsx)(Gt.a,{maskClosable:!1,centered:!0,visible:t,onCancel:function(e){return n(e)},width:"950px",footer:[Object(S.jsx)(M.a,{onClick:function(e){return n(e)},children:"Cancel"},"submit"),Object(S.jsx)(M.a,{onClick:qe,type:"primary",children:"OK"},"submit")],children:Object(S.jsx)(Et.a,{onFinish:function(e){console.log("Success:",e),L.b.success("Succesfully edited raw material")},onFinishFailed:function(e){console.log("Failed:",e),L.b.success("Failed editing raw material")},initialValues:{name:R,brand:K,country:H},children:Object(S.jsxs)("section",{className:"CreateRawMaterial",children:[Object(S.jsxs)("section",{className:"GeneralInformation",children:[Object(S.jsx)("h1",{children:"Add a Raw Material"}),Object(S.jsxs)("div",{className:"rows",children:[Object(S.jsxs)("div",{className:"image-general-information",children:[Object(S.jsxs)("div",{className:"column-wrapper",children:[Object(S.jsx)("div",{className:"column-1",children:Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Material Name"}),Object(S.jsx)(Et.a.Item,{name:"name",rules:[{required:!0,message:"Please input material name!"}],children:Object(S.jsx)(Mt.a,{className:"input-text",onChange:function(e){return e.target.value!==R&&z(e.target.value)},value:R,placeholder:"Enter material name...",required:!0})})]})}),Object(S.jsxs)("div",{className:"column-2",children:[Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Brand"}),Object(S.jsxs)("div",{className:"field-add-wrapper",children:[Object(S.jsx)(Et.a.Item,{name:"brand",rules:[{required:!0,message:"Please choose a brand!"}],children:Object(S.jsx)(Ft.a,{options:m,filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())},onChange:function(e){return q(e)},value:K,children:Object(S.jsx)(Mt.a,{allowClear:!0,className:"input-text",placeholder:"Select a brand...",suffix:Object(S.jsx)(At.a,{style:{fontSize:"1rem"}})})})}),Object(S.jsxs)(M.a,{className:"button",onClick:function(){return o(!0)},children:[Object(S.jsx)($t.a,{}),Object(S.jsx)(Kn,{visible:i,close:function(e){e.stopPropagation(),o(!1)},sendChangesToParent:function(e){g(e)}})]})]})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Country"}),Object(S.jsx)(Et.a.Item,{name:"country",rules:[{required:!0,message:"Please choose a country!"}],children:Object(S.jsx)(Ft.a,{options:k,filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())},onChange:function(e){return e!==H&&W(e)},value:H,children:Object(S.jsx)(Mt.a,{allowClear:!0,className:"input-text",placeholder:"Choose a country...",suffix:Object(S.jsx)(At.a,{style:{fontSize:"1rem"}})})})})]})]})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Image"}),Object(S.jsx)(Gn,{handleImage:function(e){Ke(e||null)},imageURL:""})]})]}),Object(S.jsxs)("div",{className:"column-3",children:[Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Unit"}),Object(S.jsx)(zt.a,{options:$n,placeholder:"Select here...",onChange:function(e){return e!==X&&Z(e)},value:X})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Material Form"}),Object(S.jsx)(zt.a,{options:I,placeholder:"Select here...",onChange:function(e){return e!==te&&ne(e)},value:te})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Stored Location"}),Object(S.jsxs)("div",{className:"field-add-wrapper",children:[Object(S.jsx)(zt.a,{options:D,value:ce,placeholder:"Select here...",onChange:function(e){return e!==ce&&se(e)}}),Object(S.jsxs)(M.a,{className:"button",onClick:function(){return j(!0)},children:[Object(S.jsx)($t.a,{}),Object(S.jsx)(Jn,{visible:d,close:function(e){e.stopPropagation(),j(!1)},sendChangesToParent:function(e){T(e)}})]})]})]})]})]})]}),Object(S.jsxs)("section",{className:"NuitritionalFacts",children:[Object(S.jsx)("h2",{children:"Nuitritional Facts (per 100g)"}),Object(S.jsxs)("div",{className:"rows",children:[Object(S.jsxs)("div",{className:"column-4",children:[Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Fat"}),Object(S.jsx)(dn,{value:ue,onChange:function(e){return e!==ue&&le(e)}})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Carbohydrate"}),Object(S.jsx)(dn,{value:be,onChange:function(e){return pe(e)}})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Protein"}),Object(S.jsx)(dn,{value:me,onChange:function(e){return Oe(e)}})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Salt"}),Object(S.jsx)(dn,{value:ge,onChange:function(e){return ye(e)}})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Sugar"}),Object(S.jsx)(dn,{value:_e,onChange:function(e){return Ne(e)}})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Fiber"}),Object(S.jsx)(dn,{value:Ie,onChange:function(e){return Ee(e)}})]})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Content"}),Object(S.jsx)(ea,{className:"input-text",placeholder:"Write the content of the raw material...",autoSize:{minRows:3},value:Pe,onChange:function(e){return De(e.target.value)}})]})]})]})]})})})},na=function(e){var t=e.rowSelection,n=Ot.a.Text,a=Mt.a.Search,r=Object(v.useState)([]),c=Object(p.a)(r,2),s=c[0],i=c[1],o=Object(v.useState)([]),u=Object(p.a)(o,2),l=u[0],d=u[1],j=Object(v.useState)(""),b=Object(p.a)(j,2),f=b[0],h=b[1],m=Object(v.useState)(!0),g=Object(p.a)(m,2),w=g[0],_=g[1],E=Object(v.useState)(0),P=Object(p.a)(E,2),T=P[0],L=P[1],F=Object(v.useState)(!1),A=Object(p.a)(F,2),R=A[0],z=A[1],B=Object(v.useState)(!1),U=Object(p.a)(B,2),K=U[0],q=U[1],V=Object(v.useState)([]),J=Object(p.a)(V,1)[0],H=Object(v.useState)(0),W=Object(p.a)(H,2),G=W[0],Q=W[1],X=Object(v.useState)(!0),Z=Object(p.a)(X,2),$=Z[0],ee=Z[1];Object(v.useEffect)((function(){(function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue.rawMaterial.fetchAll().then((function(e){i(e),d(e),Q(e.length),$&&(e.forEach((function(e){J.push({value:e.material_name,name:e.id})})),ee(!1))}));case 2:e.sent instanceof Error||_(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[J,$]);var te=function(){d(s),h(""),L(0),Q(s.length)},ne=un(),ae=ne.openEdit,re=ne.editVisible,ce=ne.closeEdit,se=Object(v.useState)(null),ie=Object(p.a)(se,2),oe=ie[0],ue=ie[1],le=function(e){var t=l.findIndex((function(t){return t.raw_material_id===e.data.raw_material_id}));l[t].material_name=e.name,l[t].country=e.country,l[t].company=e.brand,l[t].location=e.location,l[t].form=e.form},de=function(e,t){ce(e);var n=l.filter((function(e){return e.raw_material_id!==t}));d(n),i(n),Ue.rawMaterial.disableRawMaterial(t).then((function(e){console.log(e)}))},je=[{title:"raw_material_id",dataIndex:"raw_material_id",key:"raw_material_id"},{title:"Item name",dataIndex:"material_name",key:"material_name",render:function(e,t){return Object(S.jsx)(y.b,{to:"/inventory/rawmaterial/"+t.raw_material_id,children:e})},sorter:function(e,t){return e.material_name.localeCompare(t.material_name)}},{title:"Brand",dataIndex:"company",key:"company",sorter:function(e,t){return e.company.localeCompare(t.company)}},{title:"Country",dataIndex:"country",key:"country",sorter:function(e,t){return e.country.localeCompare(t.country)}},{title:"Form",dataIndex:"form",key:"form",sorter:function(e,t){return e.form.localeCompare(t.form)}},{title:"Amount (g/unit)",dataIndex:"total_amount",key:"total_amount",sorter:function(e,t){return e.total_amount-t.total_amount}},{title:"Unit",dataIndex:"unit",key:"unit"},{title:"Location",dataIndex:"location",key:"location",sorter:function(e,t){return e.location.localeCompare(t.location)}},{title:"Expiration Date",dataIndex:"expiration_date",key:"expiration_date",render:function(e){return null===e?Object(S.jsx)("p",{children:" "}):Object(S.jsx)("p",{style:{marginBottom:"auto"},children:N()(e).format("MMM D, YYYY")})},sorter:function(e,t){return N()(e.expiration_date).format("YYYYMMDD")-N()(t.expiration_date).format("YYYYMMDD")}},{title:"Priority",sorter:function(e,t){return N()(e.expiration_date).format("YYYYMMDD")-N()(t.expiration_date).format("YYYYMMDD")},render:function(e,t){return I(t.expiration_date)}},{title:"Edit",dataIndex:"",key:"",render:function(e){return Object(S.jsx)("div",{style:{display:"grid",justifyContent:"center",alignContent:"center"},children:Object(S.jsx)(xt.a,{overlay:function(){return function(e){return Object(S.jsx)(st.a,{style:{borderRadius:"4px"},children:Object(S.jsxs)(st.a.Item,{onClick:function(){return ae(e.raw_material_id)},style:{borderRadius:"4px"},children:[Object(S.jsx)(n,{children:" Edit item "}),Object(S.jsx)(Zn,{visible:re[e.raw_material_id],data:oe,sendChangesToParent:le,deleteRawMaterial:de})]},"1")})}(e)},placement:"bottom",trigger:"hover",children:Object(S.jsxs)(M.a,{className:"edit-button",onClick:function(){!function(e){ue(e)}(e)},children:[Object(S.jsx)(Zt.a,{style:{fontSize:"22px"}})," "]})})})}}];return Object(S.jsxs)("div",{className:"raw-material-table",children:[Object(S.jsx)("div",{className:"table-headers",children:Object(S.jsxs)("div",{className:"table-header-position",children:[Object(S.jsx)("div",{className:"table-text",children:Object(S.jsx)("div",{children:Object(S.jsxs)("h2",{className:"main-header-table",children:["Raw Materials (",G,")"]})})}),Object(S.jsxs)("div",{className:"table-buttons",children:[Object(S.jsxs)("div",{children:[Object(S.jsx)(D,{text:"Clear search and filters",component:Object(S.jsx)(M.a,{className:"table-clear",size:"large",onClick:te,children:"Clear"})}),Object(S.jsxs)(M.a,{name:"Filter Table",className:"table-filter",type:"primary",size:"large",onClick:function(){return z(!0)},children:[Object(S.jsx)(Xt,{filterVisible:R,closeFilter:function(e){e.stopPropagation(),z(!1)},handleFilter:function(e){var t,n=e,a=0,r=Object(Lt.a)(e.entries());try{for(r.s();!(t=r.n()).done;){var c=Object(p.a)(t.value,2),i=c[0],o=c[1];null==o||"Invalid date"===o||""===o?n.set(i,""):L(a++)}}catch(l){r.e(l)}finally{r.f()}L(a);var u=s.filter((function(e){return e.company.toLowerCase().includes(n.get("brand").toLowerCase())&&e.country.toLowerCase().includes(n.get("country").toLowerCase())&&e.location.includes(n.get("location"))&&e.form.includes(n.get("form"))&&N()(e.expiration_date).format("YYYYMMDD").includes(an(e.expiration_date,n.get("expirationDate")[0],n.get("expirationDate")[1]))&&N()(e.received_date).format("YYYYMMDD").includes(an(e.received_date,n.get("receivedDate")[0],n.get("receivedDate")[1]))&&C(e.expiration_date).toLowerCase().includes(n.get("priority"))}));Q(u.length),d(u)},handleClear:te}),"Filter (",T,")"]})]}),Object(S.jsx)("div",{children:Object(S.jsxs)("div",{className:"search-add",children:[Object(S.jsx)(Ft.a,{className:"auto-complete",options:J,filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())},children:Object(S.jsx)(a,{className:"table-search",placeholder:"Search for a raw material...",allowClear:!0,size:"large",value:f,onSearch:function(e){h(e),d(s.filter((function(t){return t.material_name.toLowerCase().includes(e.toLowerCase())})));var t=0;s.forEach((function(n){n.material_name.toLowerCase().includes(e.toLowerCase())&&t++})),Q(t)}})}),Object(S.jsxs)(M.a,{name:"Add Raw Material",className:"table-add",type:"primary",size:"large",icon:Object(S.jsx)($t.a,{}),onClick:function(){return q(!0)},children:["Add Raw Material",Object(S.jsx)(ta,{visible:K,close:function(e){e.stopPropagation(),q(!1)},sendChangesToParent:function(e){var t=l.concat({raw_material_id:e.id,material_name:e.name,company:e.brand,country:e.country,total_amount:0,location:e.location,unit:e.unit,expiration_date:null,image:""});console.log(t),d(t),i(t)}})]})]})})]})]})}),Object(S.jsx)(k.a,{spinning:w,tip:"Loading...",size:"large",children:Object(S.jsx)(Y.a,{className:"table-header",columns:je.filter((function(e){return"form"!==e.dataIndex&&"received_date"!==e.dataIndex&&"raw_material_id"!==e.dataIndex})),dataSource:l,rowKey:"raw_material_id",pagination:{pageSize:8,position:["bottom"]},size:"small",rowSelection:t})})]})},aa=(n(364),function(e){var t=e.filterVisible,n=e.closeFilter,a=e.handleFilter,r=e.handleClear,c=Object(v.useState)([]),s=Object(p.a)(c,2),i=s[0],o=s[1],u=Object(v.useState)(null),l=Object(p.a)(u,2),d=l[0],j=l[1],b=Object(v.useState)(null),f=Object(p.a)(b,2),h=f[0],m=f[1],O=Object(v.useState)(""),x=Object(p.a)(O,2),g=x[0],y=x[1];Object(v.useEffect)((function(){Ue.locations.fetchLocations().then((function(e){return o(e)}))}),[]);return Object(S.jsx)(Qt,{visible:t,onCancel:n,onOk:function(e){return function(e){a({location:d,expiration_date:h,priority:g}),n(e)}(e)},content:Object(S.jsxs)("section",{className:"rows",children:[Object(S.jsxs)("div",{className:"columns",children:[Object(S.jsx)(Bt,{header:"Stored Location",options:i,value:d,placeholder:"All locations...",onChange:function(e){return j(e)},allowClear:!0}),Object(S.jsx)(qt,{header:"Expiration Date",value:h,onChange:function(e){return m(e)}})]}),Object(S.jsxs)("div",{className:"priority-clear",children:[Object(S.jsx)(Jt,{value:g,onClick:function(e){""===e.target.value?y(""):y(e.target.value)}}),Object(S.jsx)(M.a,{type:"dashed",onClick:function(){j(null),m(null),y(""),r()},children:"Reset"})]})]})})}),ra=(n(365),n(181)),ca=(n(366),function(e){var t=e.visible,n=e.onClose,a=e.formulation,r=e.handleFormulation,c=Object(v.useState)([]),s=Object(p.a)(c,2),i=s[0],o=s[1];Object(v.useEffect)((function(){if(void 0!==a){var e=Object.keys(a).map((function(e){return a[e].raw_material_id}));o(e)}}),[a]);var u={type:function(){return Object(S.jsx)(Vt.a,{children:"Checkbox"})},selectedRowKeys:i,onChange:function(e){o(e)},hideSelectAll:function(){return!1}};return Object(S.jsx)(Gt.a,{centered:!0,width:"1100px",visible:t,onCancel:function(e){return n(e)},onOk:function(e){return function(e){Ue.rawMaterial.fetchAll().then((function(e){var t=[];i.forEach((function(n){var a=e.find((function(e){return e.raw_material_id===n}));void 0!==a&&t.push({raw_material_id:a.raw_material_id,percentage:0,country:a.country,company:a.company,material_name:a.material_name})})),r(t)})),n(e)}(e)},children:Object(S.jsx)("section",{className:"ManageFormulation",children:Object(S.jsx)(na,{rowSelection:Object(tt.a)({},u)})})})}),sa=Object(fn.a)("sfp_id"),ia=Object(fn.a)("sfp_name"),oa=Object(fn.a)("unit"),ua=Object(fn.a)("location"),la=Object(fn.a)("image"),da=Object(fn.a)("process_steps"),ja=function(){function e(t){Object(T.a)(this,e),Object.defineProperty(this,sa,{writable:!0,value:null}),Object.defineProperty(this,ia,{writable:!0,value:""}),Object.defineProperty(this,oa,{writable:!0,value:""}),Object.defineProperty(this,ua,{writable:!0,value:""}),Object.defineProperty(this,la,{writable:!0,value:""}),Object.defineProperty(this,da,{writable:!0,value:""}),void 0!==t&&(Object(pn.a)(this,sa)[sa]=t.sfp_id,Object(pn.a)(this,ia)[ia]=t.sfp_name,Object(pn.a)(this,oa)[oa]=t.unit,Object(pn.a)(this,ua)[ua]=t.location,Object(pn.a)(this,la)[la]=t.image,Object(pn.a)(this,da)[da]=t.process_steps)}return Object(bn.a)(e,[{key:"toJsonObject",value:function(){return{sfp_id:Object(pn.a)(this,sa)[sa],sfp_name:Object(pn.a)(this,ia)[ia],unit:Object(pn.a)(this,oa)[oa],location:Object(pn.a)(this,ua)[ua],image:Object(pn.a)(this,la)[la],process_steps:Object(pn.a)(this,da)[da]}}},{key:"isEqual",value:function(e){return Object(jn.isEqual)(this.toJsonObject(),e.toJsonObject())}},{key:"sfp_id",get:function(){return Object(pn.a)(this,sa)[sa]},set:function(e){return this.propTypes={n:mn.a.number},e>=0&&(Object(pn.a)(this,sa)[sa]=e),this}},{key:"sfp_name",get:function(){return Object(pn.a)(this,ia)[ia]},set:function(e){return this.propTypes={s:mn.a.string},console.log("HERE"+e),en(e,Object(pn.a)(this,ia)[ia])&&(Object(pn.a)(this,ia)[ia]=e),this}},{key:"unit",get:function(){return Object(pn.a)(this,oa)[oa]},set:function(e){return this.propTypes={s:mn.a.string},en(e,Object(pn.a)(this,oa)[oa])&&(Object(pn.a)(this,oa)[oa]=e),this}},{key:"location",get:function(){return Object(pn.a)(this,ua)[ua]},set:function(e){return this.propTypes={s:mn.a.string},en(e,Object(pn.a)(this,ua)[ua])&&(Object(pn.a)(this,ua)[ua]=e),this}},{key:"image",get:function(){return Object(pn.a)(this,la)[la]},set:function(e){return this.propTypes={s:mn.a.string},tn(e,Object(pn.a)(this,la)[la])&&(Object(pn.a)(this,la)[la]=e),this}},{key:"process_steps",get:function(){return Object(pn.a)(this,da)[da]},set:function(e){return this.propTypes={s:mn.a.string},en(e,Object(pn.a)(this,da)[da])&&(Object(pn.a)(this,da)[da]=e),this}}]),e}(),ba=n(153),pa=n(154),fa=n.n(pa),ha=(n(380),function(e){var t=e.originalData,n=e.onChange,a=e.disabled;return Object(S.jsx)("section",{className:"TextEditor",children:Object(S.jsx)(ba.CKEditor,{editor:fa.a,data:t,disabled:a,config:{removePlugins:["EasyImage","ImageUpload"]},onReady:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();n(a),console.log({event:e,editor:t,data:a})},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}})})}),ma=ra.a.TabPane,Oa=function(e){var t=e.visible,n=e.onClose,a=e.sendChangesToParent,r=Object(b.g)(),c=Object(v.useState)([]),s=Object(p.a)(c,2),i=s[0],o=s[1],u=Object(v.useState)([]),l=Object(p.a)(u,2),d=l[0],j=l[1],f=Object(v.useState)([]),h=Object(p.a)(f,2),m=h[0],g=h[1],w=Object(v.useState)(""),k=Object(p.a)(w,2),_=k[0],N=k[1],C=Object(v.useState)("g"),I=Object(p.a)(C,2),E=I[0],P=I[1],D=Object(v.useState)(""),T=Object(p.a)(D,2),F=T[0],A=T[1],R=Object(v.useState)("Ambient"),z=Object(p.a)(R,2),B=z[0],U=z[1],K=Object(v.useState)(""),q=Object(p.a)(K,2),V=q[0],J=q[1],H=Object(v.useState)(!1),W=Object(p.a)(H,2),G=W[0],Q=W[1];Object(v.useEffect)((function(){Ue.locations.fetchLocations().then((function(e){return g(e)})),o(new ja)}),[]);var X=[{title:"raw_material_id",dataIndex:"raw_material_id",key:"raw_material_id"},{title:"Material Name",dataIndex:"material_name",key:"material_name",render:function(e,t){return Object(S.jsx)(y.b,{to:"/inventory/rawmaterial/".concat(t.raw_material_id),children:e})}},{title:"Brand",dataIndex:"company",key:"company"},{title:"Country",dataIndex:"country",key:"country"},{title:"Percentage (%)",dataIndex:"percentage",key:"percentage",render:function(e,t){return Object(S.jsx)(dn,{style:{width:"8rem"},placeholder:"0 - 100%",max:100,defaultValue:0,onChange:function(e){return Z(e,t)}})}}],Z=function(e,t){0<=e<=100&&d.forEach((function(n){n.raw_material_id===t.raw_material_id&&(n.percentage=e)})),console.log(d)},$=function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===F||null===F||""===F){e.next=3;break}return e.next=3,Ue.sfp.uploadImage(F,i.sfp_id).then((function(e){console.log("uploading picture"),console.log(e),i.image=e}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===_?(L.b.warning("Please enter a SFP name!"),0):0!==d.length||(L.b.warning("Please add raw materials to your formulation!"),0)){e.next=2;break}return e.abrupt("return");case 2:return i.sfp_name=_,i.unit=E,i.location=B,i.process_steps=V,e.next=8,te().then(function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("failed"===t){e.next=3;break}return e.next=3,$().then((function(){a(i),r.push("/inventory/sfp/".concat(i.sfp_id))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:n(t);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue.sfp.createSfp(i.toJsonObject()).then((function(e){i.sfp_id=e}));case 2:return t=e.sent,e.next=5,Ue.sfp.createFormulation(i.sfp_id,d);case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=Object(S.jsx)(ca,{visible:G,onClose:function(e){e.stopPropagation(),Q(!1)},formulation:d,handleFormulation:function(e){e.forEach((function(e){d.forEach((function(t){t.raw_material_id!==e.raw_material_id||(e.percentage=t.percentage)}))})),j(e)}});return Object(S.jsx)(Gt.a,{maskClosable:!1,visible:t,width:"800px",centered:!0,onCancel:function(e){return n(e)},onOk:function(e){return ee(e)},children:Object(S.jsxs)("section",{className:"CreateSfp",children:[Object(S.jsx)("h1",{children:"Add a Semi-Finished Product"}),Object(S.jsxs)("div",{className:"rows",children:[Object(S.jsxs)("div",{className:"information",children:[Object(S.jsx)(Ht,{header:"Semi-Finished Product Name",onChange:function(e){return N(e.target.value)},value:_,placeholder:"Enter SFP name..."}),Object(S.jsxs)("div",{className:"side-by-side",children:[Object(S.jsx)(Bt,{header:"Units",options:Qn,value:E,onChange:function(e){e!==E&&P(e)}}),Object(S.jsx)(Bt,{header:"Location",options:m,value:B,onChange:function(e){e!==B&&U(e)}})]})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Image"}),Object(S.jsx)(Gn,{handleImage:function(e){A(e||null)},imageURL:""})]})]}),Object(S.jsxs)(ra.a,{defaultActiveKey:1,children:[Object(S.jsx)(ma,{tab:"Formulation",children:Object(S.jsx)("div",{className:"formulation",children:Object(S.jsx)("div",{className:"table",children:Object(S.jsx)(Y.a,{size:"small",columns:X.filter((function(e){return"raw_material_id"!==e.dataIndex})),dataSource:d,rowKey:"raw_material_id",footer:function(){return Object(S.jsxs)("div",{style:{display:"grid",justifyContent:"center"},children:[Object(S.jsx)(M.a,{type:"primary",onClick:function(){return Q(!0)},children:"Manage Formulation"}),ne]})},bordered:!0,pagination:!1})})})},"1"),Object(S.jsx)(ma,{tab:"Process Steps",children:Object(S.jsx)("div",{className:"process-steps",children:Object(S.jsx)(ha,{originalData:V,onChange:function(e){return J(e)}})})},"2")]})]})})},xa=Object(v.createContext)({}),va=function(e){var t=Object(v.useState)({}),n=Object(p.a)(t,2),a=n[0],r=n[1],c={openEdit:function(e){r(Object(cn.a)({},e,!0))},closeEdit:function(e,t){e.stopPropagation(),r(Object(cn.a)({},t,!1))},editVisible:a};return Object(S.jsx)(xa.Provider,Object(tt.a)({value:c},e))},ga=function(){return g.a.useContext(xa)},ya=(n(381),ra.a.TabPane),wa=function(e){var t=e.visible,n=e.data,a=e.sendChangesToParent,r=e.deleteSfp,c=Object(v.useState)({originalData:null,editData:null}),s=Object(p.a)(c,2),i=s[0],o=i.originalData,u=i.editData,l=s[1],d=Object(v.useState)({editForm:[],originalForm:[]}),j=Object(p.a)(d,2),b=j[0],f=b.editForm,h=b.originalForm,m=j[1],g=Object(v.useState)([]),w=Object(p.a)(g,2),k=w[0],_=w[1],N=Object(v.useState)(""),C=Object(p.a)(N,2),I=C[0],E=C[1],P=Object(v.useState)(""),D=Object(p.a)(P,2),T=D[0],F=D[1],A=Object(v.useState)(""),R=Object(p.a)(A,2),z=R[0],B=R[1],U=Object(v.useState)(""),K=Object(p.a)(U,2),q=K[0],V=K[1],J=Object(v.useState)(""),H=Object(p.a)(J,2),W=H[0],G=H[1],Q=Object(v.useState)(""),X=Object(p.a)(Q,2),Z=X[0],$=X[1],ee=Object(v.useState)(),te=Object(p.a)(ee,2),ne=te[0],ae=te[1],re=ga().closeEdit;Object(v.useEffect)((function(){Ue.locations.fetchLocations().then((function(e){return _(e)}));null!==n&&void 0!==n&&(E(n.sfp_name),F(n.unit),B(n.location),V(n.process_steps),G(n.image),ae(n.sfp_id),l({originalData:new ja(n),editData:new ja(n)}),Ue.sfp.fetchFormulation(n.sfp_id).then((function(e){m({editForm:JSON.parse(JSON.stringify(e)),originalForm:JSON.parse(JSON.stringify(e))})})))}),[n]);var ce=[{title:"raw_material_id",dataIndex:"raw_material_id",key:"raw_material_id"},{title:"Material Name",dataIndex:"material_name",key:"material_name",render:function(e,t){return Object(S.jsx)(y.b,{to:"/inventory/rawmaterial/".concat(t.raw_material_id),children:e})}},{title:"Brand",dataIndex:"company",key:"company"},{title:"Country",dataIndex:"country",key:"country"},{title:"Percentage (%)",dataIndex:"percentage",key:"percentage",render:function(e,t){return Object(S.jsx)(ln.a,{className:"input-number",size:"small",style:{width:"8rem"},placeholder:0,min:0,max:100,defaultValue:e,step:.1,onChange:function(e){return se(e,t)}})}}],se=function(e,t){f.forEach((function(n){n.raw_material_id===t.raw_material_id&&(n.percentage=e)}))},ie=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.sfp_name=I,u.unit=T,u.location=z,u.process_steps=q,e.next=6,oe().then(Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.isEqual(o)&&Object(jn.isEqual)(f,h)?L.b.success("No changes made."):(a({editForm:f,sfp_id:ne,sfp_name:I,unit:T,location:z,process_steps:q,image:u.image}),Ue.sfp.editInformation(ne,u.toJsonObject()),f.forEach((function(e){Ue.sfp.editFormulation(ne,e)})),o.name=I,o.unit=T,o.location=z,o.process_steps=q,L.b.success("Successfully edited SFP.")),re(t,ne);case 2:case"end":return e.stop()}}),e)}))));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==Z){e.next=4;break}return e.abrupt("return");case 4:if(null===Z||""!==u.image){e.next=9;break}return e.next=7,Ue.sfp.uploadImage(Z,ne).then((function(e){console.log("uploading picture"),u.image=e}));case 7:e.next=17;break;case 9:if(null===Z||""===u.image){e.next=14;break}return e.next=12,Ue.sfp.updateImage(Z,ne).then((function(e){console.log("updating picture"),u.image=e}));case 12:e.next=17;break;case 14:if(null!==Z||""===u.image){e.next=17;break}return e.next=17,Ue.sfp.deleteImage(ne).then((function(){console.log("deleting picture"),u.image=""}));case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsx)(Gt.a,{maskClosable:!1,visible:t,width:"800px",centered:!0,footer:[Object(S.jsxs)("section",{className:"edit-raw-material-footer",children:[Object(S.jsx)("div",{children:Object(S.jsx)(qe.a,{title:"Are you sure?",okType:"danger",okText:"Delete",onConfirm:function(e){return r(e,ne)},children:Object(S.jsx)(M.a,{type:"danger",children:"Delete"})})}),Object(S.jsxs)("div",{children:[Object(S.jsx)(M.a,{onClick:function(e){return re(e,ne)},children:"Cancel"},"close"),Object(S.jsx)(M.a,{type:"primary",onClick:function(e){return ie(e)},children:"OK"},"submit")]})]})],onCancel:function(e){return re(e,ne)},children:Object(S.jsxs)("section",{className:"EditSfp",children:[Object(S.jsxs)("h1",{children:["Edit ",I]}),Object(S.jsxs)("div",{className:"rows",children:[Object(S.jsxs)("div",{className:"information",children:[Object(S.jsx)(Ht,{header:"Semi-Finished Product Name",onChange:function(e){E(e.target.value)},value:I,placeholder:"Enter a name..."}),Object(S.jsxs)("div",{className:"side-by-side",children:[Object(S.jsx)(Bt,{header:"Units",options:Qn,value:T,onChange:function(e){e!==T&&F(e)}}),Object(S.jsx)(Bt,{header:"Location",options:k,value:z,onChange:function(e){e!==z&&B(e)}})]})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Image"}),Object(S.jsx)(Gn,{handleImage:function(e){$(e||null)},imageURL:W})]})]}),Object(S.jsxs)(ra.a,{defaultActiveKey:1,children:[Object(S.jsx)(ya,{tab:"Formulation",children:Object(S.jsx)("div",{className:"formulation",children:Object(S.jsx)("div",{className:"table",children:Object(S.jsx)(Y.a,{columns:ce.filter((function(e){return"raw_material_id"!==e.dataIndex})),dataSource:h||[],rowKey:"raw_material_id",bordered:!0,pagination:!1,size:"middle"})})})},"1"),Object(S.jsx)(ya,{tab:"Process Steps",children:Object(S.jsx)("div",{className:"process-steps",children:Object(S.jsx)(ha,{originalData:q,onChange:function(e){return V(e)}})})},"2")]})]})})},ka=Ot.a.Text,_a=Mt.a.Search,Na=function(){var e=Object(v.useState)(!0),t=Object(p.a)(e,2),n=t[0],a=t[1],r=Object(v.useState)(""),c=Object(p.a)(r,2),s=c[0],i=c[1],o=Object(v.useState)([]),u=Object(p.a)(o,2),l=u[0],d=u[1],j=Object(v.useState)([]),b=Object(p.a)(j,2),f=b[0],h=b[1],m=Object(v.useState)(!1),g=Object(p.a)(m,2),w=g[0],_=g[1],E=Object(v.useState)([]),P=Object(p.a)(E,1)[0],T=Object(v.useState)(0),L=Object(p.a)(T,2),F=L[0],A=L[1],R=Object(v.useState)(0),z=Object(p.a)(R,2),B=z[0],U=z[1],K=Object(v.useState)(!1),q=Object(p.a)(K,2),V=q[0],J=q[1],H=Object(v.useState)([]),W=Object(p.a)(H,2),G=W[0],Q=W[1],X=Object(v.useState)([]),Z=Object(p.a)(X,2),$=(Z[0],Z[1]),ee=ga(),te=ee.openEdit,ne=ee.editVisible,ae=ee.closeEdit;Object(v.useEffect)((function(){Ue.sfp.fetchTable().then((function(e){h(e),d(e),A(e.length),a(!1)}))}),[]);var re=function(){h(l),i(""),U(0),A(l.length)},ce=Object(S.jsx)(Oa,{visible:V,onClose:function(e){e.stopPropagation(),J(!1)},sendChangesToParent:function(e){var t=f.concat({sfp_id:e.sfp_id,sfp_name:e.sfp_name,total_amount:0,location:e.location,expiration_date:null,unit:e.unit,image:"",country:"Sweden",company:"Accelerator Lab"});h(t),d(t)}}),se=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue.sfp.fetchFormulation(t.sfp_id).then((function(e){$(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(e,t){ae(e);var n=f.filter((function(e){return e.sfp_id!==t}));h(n),d(n),Ue.sfp.disableSfp(t).then((function(e){console.log(e)}))},oe=function(e){var t=f.findIndex((function(t){return t.sfp_id===e.sfp_id}));f[t].sfp_name=e.sfp_name,f[t].location=e.location,f[t].unit=e.unit},ue=[{title:"sfp_id",dataIndex:"sfp_id",key:"sfp_id"},{title:"Item name",dataIndex:"sfp_name",key:"sfp_name",render:function(e,t){return Object(S.jsx)(y.b,{to:"/inventory/sfp/"+t.sfp_id,children:e})},sorter:function(e,t){return e.name.localeCompare(t.name)}},{title:"Brand",dataIndex:"company",key:"company",sorter:function(e,t){return e.company.localeCompare(t.company)}},{title:"Country",dataIndex:"country",key:"country",sorter:!0},{title:"Amount (g/unit)",dataIndex:"total_amount",key:"total_amount",sorter:function(e,t){return e.amount-t.amount}},{title:"Unit",dataIndex:"unit",key:"unit"},{title:"Location",dataIndex:"location",key:"location",sorter:function(e,t){return e.location.localeCompare(t.location)}},{title:"Expiration Date",dataIndex:"expiration_date",key:"expiration_date",render:function(e){return null===e?Object(S.jsx)("p",{children:" "}):Object(S.jsx)("p",{style:{marginBottom:"auto"},children:N()(e).format("MMM D, YYYY")})},sorter:function(e,t){return N()(e.expiration_date).format("YYYYMMDD")-N()(t.expiration_date).format("YYYYMMDD")}},{title:"Priority",sorter:function(e,t){return N()(e.expiration_date).format("YYYYMMDD")-N()(t.expiration_date).format("YYYYMMDD")},render:function(e,t){return I(t.expiration_date)}},{title:"Edit",dataIndex:"",key:"",render:function(e){return Object(S.jsx)("div",{style:{display:"grid",justifyContent:"center",alignContent:"center"},children:Object(S.jsx)(xt.a,{overlay:function(){return function(e){return Object(S.jsx)(st.a,{style:{borderRadius:"4px"},children:Object(S.jsxs)(st.a.Item,{onClick:function(){return te(e.sfp_id)},style:{borderRadius:"4px"},children:[Object(S.jsx)(ka,{children:" Edit item "}),Object(S.jsx)(wa,{visible:ne[e.sfp_id],data:G,sendChangesToParent:oe,deleteSfp:ie})]},"1")})}(e)},placement:"bottomCenter",trigger:"hover",children:Object(S.jsxs)(M.a,{className:"edit-button",onClick:function(){!function(e){console.log(e),Q(e)}(e),se(e)},children:[Object(S.jsx)(Zt.a,{style:{fontSize:"22px"}})," "]})})})}}];return Object(S.jsxs)("div",{className:"SfpTable",children:[Object(S.jsx)("div",{className:"table-headers",children:Object(S.jsxs)("div",{className:"table-header-position",children:[Object(S.jsx)("div",{className:"table-text",children:Object(S.jsx)("div",{children:Object(S.jsxs)("h2",{className:"main-header-table",children:["Semi-Finished Products (",F,")"]})})}),Object(S.jsxs)("div",{className:"table-buttons",children:[Object(S.jsxs)("div",{children:[Object(S.jsx)(D,{text:"Clear search and filters",component:Object(S.jsx)(M.a,{className:"table-clear",size:"large",onClick:re,children:"Clear"})}),Object(S.jsxs)(M.a,{name:"Filter Table",className:"table-filter",type:"primary",size:"large",onClick:function(){return _(!0)},children:[Object(S.jsx)(aa,{filterVisible:w,closeFilter:function(e){e.stopPropagation(),_(!1)},handleFilter:function(e){var t=e;console.log(t);var n=0;for(var a in t){var r=t[a];null==r||"Invalid date"===r||""===r?t[a]="":U(n++)}U(n);var c=l.filter((function(e){return e.location.includes(t.location)&&N()(e.expiration_date).format("YYYYMMDD").includes(an(e.expiration_date,t.expiration_date[0],t.expiration_date[1]))&&C(e.expiration_date).toLowerCase().includes(t.priority)}));A(c.length),h(c)},handleClear:re}),"Filter (",B,")"]})]}),Object(S.jsx)("div",{children:Object(S.jsxs)("div",{className:"search-add",children:[Object(S.jsx)(Ft.a,{className:"auto-complete",options:P,children:Object(S.jsx)(_a,{className:"table-search",placeholder:"Search for a Semi-Finished Product...",allowClear:!0,size:"large",value:s,onSearch:function(e){i(e),h(l.filter((function(t){return t.sfp_name.toLowerCase().includes(e.toLowerCase())})));var t=0;l.forEach((function(n){n.sfp_name.toLowerCase().includes(e.toLowerCase())&&t++})),A(t)}})}),Object(S.jsxs)(M.a,{className:"table-add",type:"primary",size:"large",icon:Object(S.jsx)($t.a,{}),onClick:function(){J(!0)},children:["Add SFP",ce]})]})})]})]})}),Object(S.jsx)(k.a,{spinning:n,tip:"Loading...",size:"large",children:Object(S.jsx)(Y.a,{className:"table-header",columns:ue.filter((function(e){return"form"!==e.dataIndex&&"received_date"!==e.dataIndex&&"sfp_id"!==e.dataIndex})),dataSource:f,rowKey:"sfp_id",pagination:{pageSize:8,position:["bottomCenter"]},size:"small"})})]})},Sa=function(){return Object(S.jsx)(St,{content:Object(S.jsxs)("section",{name:"Inventory",children:[Object(S.jsxs)("div",{children:[Object(S.jsx)("h1",{className:"blue-text",children:" Inventory "}),Object(S.jsx)("span",{className:"sub-header",children:"Create, edit and retrieve raw materials and semi-finished products from the inventory"})]}),Object(S.jsx)("div",{style:{marginTop:"1.5rem"},children:Object(S.jsx)(na,{})}),Object(S.jsx)("div",{style:{marginTop:"3rem"},children:Object(S.jsx)(Na,{})})]})})},Ca=n(124),Ia=[{title:"raw_material_id",dataIndex:"raw_material_id",key:"raw_material_id"},{title:"Material Name",dataIndex:"material_name",key:"material_name"},{title:"Brand",dataIndex:"company",key:"company"},{title:"Country",dataIndex:"country",key:"country"},{title:"Total Amount",dataIndex:"total_amount",key:"total_amount"},{title:"Unit",dataIndex:"unit",key:"unit"},{title:"Form",dataIndex:"form",key:"form"},{title:"Stored Location",dataIndex:"location",key:"location"}],Ea=[{title:"Fat",dataIndex:"fat",key:"fat"},{title:"Carbohydrate",dataIndex:"carbohydrate",key:"carbohydrate"},{title:"Protein",dataIndex:"protein",key:"protein"},{title:"Salt",dataIndex:"salt",key:"salt"},{title:"Fiber",dataIndex:"fiber",key:"fiber"},{title:"Sugar",dataIndex:"sugar",key:"sugar"},{title:"Content",dataIndex:"content",key:"content"}],Ma=[{title:"Stock ID",dataIndex:"stock_id",key:"stock_id"},{title:"Amount",dataIndex:"amount",key:"amount"},{title:"Order Date",dataIndex:"order_date",key:"order_date",render:function(e){return null===e?Object(S.jsx)("p",{}):Object(S.jsx)("p",{style:{marginBottom:"auto"},children:N()(e).format("MMM D, YYYY")})}},{title:"Received Date",dataIndex:"received_date",key:"received_date",render:function(e){return Object(S.jsx)("p",{style:{marginBottom:"auto"},children:N()(e).format("MMM D, YYYY")})}},{title:"Expiration Date",dataIndex:"expiration_date",key:"expiration_date",render:function(e){return Object(S.jsx)("p",{style:{marginBottom:"auto"},children:N()(e).format("MMM D, YYYY")})}},{title:"Priority of Usage",dataIndex:"priority",key:"priority",render:function(e,t){return I(t.expiration_date)}}],Ya=(n(382),n(163)),Pa=n(235),Da=ra.a.TabPane,Ta=function(e){var t=e.name,n=e.information,a=e.products,r=e.history,c=e.manageStock,s=e.openManageStock,i=e.edit,o=e.openEdit;return Object(S.jsxs)("section",{className:"RawMaterial",children:[Object(S.jsxs)("div",{className:"content-header",children:[Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{className:"header-information",children:[Object(S.jsx)("h1",{className:"blue-text",children:"Inventory"}),Object(S.jsx)(D,{text:"Create, edit and retrieve information of items.",component:Object(S.jsx)(Ya.a,{}),trigger:"hover"})]}),Object(S.jsx)("span",{className:"sub-header",children:t})]}),Object(S.jsxs)("div",{className:"buttons",children:[Object(S.jsxs)(M.a,{className:"table-add",type:"primary",size:"large",icon:Object(S.jsx)($t.a,{}),onClick:s,children:["Manage Stock",c]}),Object(S.jsxs)(M.a,{className:"table-add",type:"primary",size:"large",icon:Object(S.jsx)(Pa.a,{}),onClick:o,children:["Edit",i]})]})]}),Object(S.jsx)("div",{}),Object(S.jsx)("div",{className:"tabs",children:Object(S.jsxs)(ra.a,{defaultActiveKey:"1",size:"large",style:{marginBottom:32},tabPosition:"top",children:[Object(S.jsx)(Da,{tab:"Information",children:n},"1"),Object(S.jsx)(Da,{tab:"Products",disabled:!0,children:a},"2"),Object(S.jsx)(Da,{tab:"History",disabled:!0,children:r},"3")]})})]})},La=(n(383),[{value:"Consumtion"},{value:"Spill/Waste",name:"Spill/Waste"},{value:"Correction",name:"Correction"}]),Fa=ra.a.TabPane,Aa=function(e){var t=e.visible,n=e.close,a=e.addStock,r=e.reduceStock,c=e.editForm,s=e.originalForm,i=e.AddStockComponents,o=e.logistics,u=Object(v.useState)("Consumtion"),l=Object(p.a)(u,2),d=l[0],j=l[1],b=Object(v.useState)("add"),f=Object(p.a)(b,2),h=f[0],m=f[1],O=[{title:"Stock ID",dataIndex:"stock_id",key:"stock_id"},{title:"Amount",key:"amount",render:function(e){return Object(S.jsx)(dn,{style:{width:"8rem"},placeholder:"0 - ".concat(e.amount),max:e.amount,defaultValue:0,onChange:function(t){return function(e,t){c.edit(t.stock_id,e,t.amount)}(t,e)}})}},{title:"In Stock",dataIndex:"amount",key:"amount"},{title:"Order Date",dataIndex:"order_date",key:"order_date",render:function(e){return null===e?Object(S.jsx)("p",{}):Object(S.jsx)("p",{style:{marginBottom:"auto"},children:N()(e).format("MMM D, YYYY")})}},{title:"Received Date",dataIndex:"received_date",key:"received_date",render:function(e){return Object(S.jsx)("p",{style:{marginBottom:"auto"},children:N()(e).format("MMM D, YYYY")})}},{title:"Expiration Date",dataIndex:"expiration_date",key:"expiration_date",render:function(e){return Object(S.jsx)("p",{style:{marginBottom:"auto"},children:N()(e).format("MMM D, YYYY")})}},{title:"Priority of Usage",dataIndex:"priority",key:"priority",render:function(e,t){return I(t.expiration_date)}}];return Object(S.jsx)(Gt.a,{centered:!0,maskClosable:!1,width:1050,visible:t,onCancel:n,footer:[Object(S.jsx)(M.a,{onClick:n,children:"Cancel"},"submit"),Object(S.jsx)(qe.a,{title:function(){return"add"===h?Object(S.jsx)("span",{children:" Are you sure to add this stock? "}):Object(S.jsx)("span",{children:" Are you sure to reduce these quantities? "})},onConfirm:function(e){switch(h){case"add":a(e);break;case"reduce":Object(jn.isEqual)(c.stocks,s.stocks)?(L.b.success("No changes made."),n(e)):(r(e),L.b.success("You have succesfully reduced stocks."));break;default:console.log("reached default")}},okText:"Yes",cancelText:"No",children:Object(S.jsx)(M.a,{type:"primary",children:"OK"},"submit")})],children:Object(S.jsx)("section",{className:"StockInterface",children:Object(S.jsxs)(ra.a,{tabPosition:"right",onTabClick:function(e){return function(e){m("1"===e?"add":"reduce")}(e)},children:[Object(S.jsx)(Fa,{tab:"Add",children:Object(S.jsxs)("section",{className:"add",children:[Object(S.jsx)("h1",{children:"Add Stock"}),Object(S.jsx)("div",{className:"rows",children:i})]})},"1"),Object(S.jsx)(Fa,{tab:"Reduce",children:Object(S.jsxs)("section",{className:"reduce",children:[Object(S.jsx)("h1",{children:"Reduce Stocks"}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Reason:"}),Object(S.jsx)(zt.a,{className:"input-select",options:La,defaultValue:d,style:{width:"450px"},onSelect:function(e){return j(e)}}),Object(S.jsx)(Y.a,{columns:O,dataSource:o,size:"middle",pagination:{pageSize:6,position:["bottomRight"]},rowKey:"stock_id"})]})]})},"2")]})})})},Ra=n(232),za=function(e){Ra.a.success({message:"Success",description:e,duration:6})},Ba=Object(fn.a)("stocks"),Ua=function(){function e(t){var n=this;Object(T.a)(this,e),Object.defineProperty(this,Ba,{writable:!0,value:[]}),void 0!==t&&null!==t&&t.forEach((function(e){Object(pn.a)(n,Ba)[Ba].push({stock_id:e.stock_id,old_amount:e.amount,subtracted_amount:0,new_amount:e.amount})}))}return Object(bn.a)(e,[{key:"stocks",get:function(){return Object(pn.a)(this,Ba)[Ba]}},{key:"edit",value:function(e,t,n){null!==t&&0<=t<=n&&Object(pn.a)(this,Ba)[Ba].forEach((function(n){n.stock_id===e&&(n.subtracted_amount=t,n.new_amount=n.old_amount-t)}))}},{key:"add",value:function(e,t){Object(pn.a)(this,Ba)[Ba].push({stock_id:e,old_amount:t,subtracted_amount:0,new_amount:t}),console.log(Object(pn.a)(this,Ba)[Ba])}},{key:"updateForm",value:function(){var e=Object(pn.a)(this,Ba)[Ba].filter((function(e){return 0!==e.new_amount}));Object(pn.a)(this,Ba)[Ba]=e}},{key:"toJsonObject",value:function(){return JSON.stringify(Object(pn.a)(this,Ba)[Ba])}}]),e}(),Ka=function(e){var t=e.close,n=e.visible,a=e.unit,r=e.logistics,c=e.id,s=e.sendAddToParent,i=e.sendReductionToParent,o=(e.totalAmount,Object(v.useState)([])),u=Object(p.a)(o,2),l=u[0],d=u[1],j=Object(v.useState)(),b=Object(p.a)(j,2),f=b[0],h=b[1],m=Object(v.useState)(),g=Object(p.a)(m,2),y=g[0],w=g[1],k=Object(v.useState)(),_=Object(p.a)(k,2),C=_[0],I=_[1],E=Object(v.useState)(""),M=Object(p.a)(E,2),Y=M[0],P=M[1],D=Object(v.useState)(""),T=Object(p.a)(D,2),F=T[0],A=T[1],R=Object(v.useState)(""),z=Object(p.a)(R,2),B=z[0],U=z[1];Object(v.useEffect)((function(){r.length>=0&&(d(r),h(new Ua(r)),w(new Ua(r)))}),[r]);var K=function(e){return""===e||"Invalid date"===e||null===e?null:N()(e).format("YYYYMMDD")},q=function(){if(null!=C&&rn(F)&&rn(B)){if(C<=0)return L.b.error("The amount needs to be a positive number!"),!1;if(rn(Y)){if(Y.isSameOrAfter(F)&&Y.isSameOrAfter(B))return L.b.error("Order date must come before received date and expiration date!"),!1}else if(B.isSameOrBefore(F))return L.b.error("Received date must come before expiration date!"),!1;return!0}return L.b.error("Amount, received date and expiration date needs to be filled!"),!1},V=function(){var e=Object(x.a)(O.a.mark((function e(n){var a,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(q()){e.next=2;break}return e.abrupt("return");case 2:return a={raw_material_id:parseInt(c),stock_id:"",amount:C,order_date:K(Y),received_date:K(F),expiration_date:K(B)},e.next=5,Ue.rawMaterial.addStock(c,a).then((function(e){a.stock_id=e.stock_id,f.add(e.stock_id,C)}));case 5:Ue.rawMaterial.updateTotalAmount(c),i=r.concat(a),d(i),s(i),za("You have successfully added a new stock"),t(n);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){f.stocks.forEach((function(e){0===e.new_amount?Ue.rawMaterial.disableStock(c,e):e.new_amount!==e.old_amount&&e.new_amount>0&&e.new_amount<e.old_amount&&Ue.rawMaterial.updateStock(c,e)}))},H=Object(S.jsxs)("div",{className:"rows",children:[Object(S.jsxs)("div",{className:"column-1",children:[Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Amount"}),Object(S.jsx)(dn,{onChange:function(e){return I(e)},value:C,placeholder:"e.g. 1000",min:0})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Unit"}),a]})]}),Object(S.jsxs)("div",{className:"column-2",children:[Object(S.jsx)(Wt,{header:"Order Date",value:Y,onChange:P}),Object(S.jsx)(Wt,{header:"Received Date",value:F,onChange:A}),Object(S.jsx)(Wt,{header:"Expiration Date",value:B,onChange:U})]})]});return Object(S.jsx)(Aa,{visible:n,close:t,editForm:f,originalForm:y,logistics:l,addStock:V,reduceStock:function(e){for(var n=0,a=0;a<l.length;a++)n+=f.stocks[a].subtracted_amount,l[a].amount-=f.stocks[a].subtracted_amount;l.forEach((function(e){0===e.amount&&za("You have successfully removed Stock "+e.stock_id)})),J(),Ue.rawMaterial.updateTotalAmount(c),f.updateForm();var r=l.filter((function(e){return 0!==e.amount}));d(r),i(r,n),t(e)},AddStockComponents:H})},qa=function(e){var t=un(),n=t.openEdit,a=t.closeEdit,r=t.editVisible,c=Object(v.useState)([]),s=Object(p.a)(c,2),i=s[0],o=s[1],u=Object(v.useState)(""),l=Object(p.a)(u,2),d=l[0],j=l[1],f=Object(v.useState)(),h=Object(p.a)(f,2),m=h[0],g=h[1],y=Object(v.useState)([]),w=Object(p.a)(y,2),_=w[0],N=w[1],C=Object(v.useState)(!0),I=Object(p.a)(C,2),E=I[0],M=I[1],P=Object(v.useState)(!0),D=Object(p.a)(P,2),T=D[0],F=D[1],A=Object(v.useState)(!1),R=Object(p.a)(A,2),z=R[0],B=R[1],U=Object(v.useState)(""),K=Object(p.a)(U,2),q=K[0],V=K[1],J=Object(v.useState)(""),H=Object(p.a)(J,2),W=H[0],G=H[1],Q=Object(v.useState)(0),X=Object(p.a)(Q,2),Z=X[0],$=X[1],ee=e.match.params.id,te=Object(b.g)();Object(v.useEffect)((function(){Ue.rawMaterial.fetchMaterial(ee).then((function(e){o(e),j(e[0].material_name),V(e[0].unit),G(e[0].image),g(e[0].shopping_list),$(e[0].total_amount),M(!1)})),Ue.rawMaterial.fetchLogistics(ee).then((function(e){N(e),console.log(e),F(!1)}))}),[ee]);var ne=function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(!m),Ue.rawMaterial.handleRestock(ee),m?L.b.warning("Item removed from Shopping List"):L.b.success("Item added to Shopping List");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=Object(S.jsxs)("div",{className:"material-header",children:[Object(S.jsxs)("section",{className:"item-image",children:[Object(S.jsx)("div",{name:"image",children:Object(S.jsx)(vt.a,{size:275,shape:"square",alt:"Company Logotype",src:W})}),Object(S.jsx)("div",{className:"shopping-list",children:Object(S.jsx)(Ca.a,{checked:m,onChange:ne,children:"Add to Shopping List"})})]}),Object(S.jsxs)("section",{className:"material-information",children:[Object(S.jsxs)("div",{className:"table-section-header",children:[Object(S.jsx)("h3",{children:" General Information "}),Object(S.jsx)(k.a,{spinning:E,tip:"Loading...",size:"medium",children:Object(S.jsx)(Y.a,{columns:Ia.filter((function(e){return"raw_material_id"!==e.dataIndex})),dataSource:i,pagination:!1,scroll:{x:"400px"},rowKey:"material_name"})})]}),Object(S.jsxs)("div",{className:"table-section-header",children:[Object(S.jsx)("h3",{children:" Nuitritional Facts (per 100g) "}),Object(S.jsx)(k.a,{spinning:E,tip:"Loading...",size:"medium",children:Object(S.jsx)(Y.a,{columns:Ea,dataSource:i,pagination:!1,rowKey:"fat"})})]}),Object(S.jsxs)("div",{className:"table-section-header",children:[Object(S.jsx)("h3",{children:" In Stock "}),Object(S.jsx)(k.a,{spinning:T,tip:"Loading...",size:"medium",children:Object(S.jsx)(Y.a,{className:"table-logistics",columns:Ma.filter((function(e){return"stock_id"!==e.dataIndex})),dataSource:_,pagination:{pageSize:7},rowKey:"stock_id"})})]})]})]}),re=Object(S.jsx)(Ka,{close:function(e){e.stopPropagation(),B(!1)},visible:z,id:ee,unit:q,logistics:_,sendAddToParent:function(e){var t=e[e.length-1].amount;i[0].total_amount+=t,$(i[0].totalAmount),N(e)},sendReductionToParent:function(e,t){i[0].total_amount-=t,$(i[0].total_amount),N(e)},totalAmount:Z}),ce=Object(S.jsx)(Zn,{visible:r[ee],close:function(e){return a(e,ee)},data:i[0],sendChangesToParent:function(e){i[0].material_name=e.name,i[0].content=e.content,i[0].unit=e.unit,i[0].fat=e.fat,i[0].carbohydrate=e.carb,i[0].protein=e.protein,i[0].salt=e.salt,i[0].fiber=e.fiber,i[0].sugar=e.sugar,i[0].country=e.country,i[0].company=e.brand,i[0].location=e.location,i[0].form=e.form,i[0].image=e.image,"string"===typeof e.image&&G(e.image),j(e.name)},deleteRawMaterial:function(e,t){Ue.rawMaterial.disableRawMaterial(t).then((function(e){if("success"===e)return te.push("/inventory")}))}});return Object(S.jsx)(St,{content:Object(S.jsx)(Ta,{name:d,openManageStock:function(){return B(!0)},manageStock:re,openEdit:function(){return n(ee)},edit:ce,information:ae})})},Va=[{title:"sfp_id",dataIndex:"sfp_id",key:"sfp_id"},{title:"Name",dataIndex:"sfp_name",key:"sfp_name"},{title:"Total Amount",dataIndex:"total_amount",key:"total_amount"},{title:"Unit",dataIndex:"unit",key:"unit"},{title:"Stored Location",dataIndex:"location",key:"location"}],Ja=[{title:"Stock ID",dataIndex:"stock_id",key:"stock_id"},{title:"Amount",dataIndex:"amount",key:"amount"},{title:"Production Date",dataIndex:"production_date",key:"production_date",render:function(e){return Object(S.jsx)("p",{style:{marginBottom:"auto"},children:N()(e).format("MMM D, YYYY")})}},{title:"Expiration Date",dataIndex:"expiration_date",key:"expiration_date",render:function(e){return null===e?Object(S.jsx)("p",{}):Object(S.jsx)("p",{style:{marginBottom:"auto"},children:N()(e).format("MMM D, YYYY")})}},{title:"Priority of Usage",dataIndex:"priority",key:"priority",render:function(e,t){return I(t.expiration_date)}}],Ha=[{title:"raw_material_id",dataIndex:"raw_material_id",key:"raw_material_id"},{title:"Material Name",dataIndex:"material_name",key:"material_name",render:function(e,t){return Object(S.jsx)(y.b,{to:"/inventory/rawmaterial/".concat(t.raw_material_id),children:e})}},{title:"Brand",dataIndex:"company",key:"company"},{title:"Country",dataIndex:"country",key:"country"},{title:"Percentage (%)",dataIndex:"percentage",key:"percentage"}],Wa=function(e){var t=e.close,n=e.visible,a=e.unit,r=e.logistics,c=e.id,s=e.sendAddToParent,i=e.sendReductionToParent,o=(e.totalAmount,Object(v.useState)([])),u=Object(p.a)(o,2),l=u[0],d=u[1],j=Object(v.useState)(),b=Object(p.a)(j,2),f=b[0],h=b[1],m=Object(v.useState)(),g=Object(p.a)(m,2),y=g[0],w=g[1],k=Object(v.useState)(),_=Object(p.a)(k,2),C=_[0],I=_[1],E=Object(v.useState)(""),M=Object(p.a)(E,2),Y=M[0],P=M[1],D=Object(v.useState)(""),T=Object(p.a)(D,2),F=T[0],A=T[1];Object(v.useEffect)((function(){r.length>=0&&(d(r),h(new Ua(r)),w(new Ua(r)))}),[r]);var R=function(e){return""===e||"Invalid date"===e||null===e?null:N()(e).format("YYYYMMDD")},z=function(){var e=Object(x.a)(O.a.mark((function e(n){var a,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=C&&rn(Y)?!(C<=0)||(L.b.error("The amount needs to be a positive number!"),0):(L.b.error("Amount and production date need to be filled!"),0)){e.next=2;break}return e.abrupt("return");case 2:return a={raw_material_id:parseInt(c),stock_id:"",amount:C,production_date:R(Y),expiration_date:R(F)},e.next=5,Ue.sfp.addStock(c,a).then((function(e){a.stock_id=e.stock_id,f.add(e.stock_id,C)}));case 5:Ue.sfp.updateTotalAmount(c),i=r.concat(a),d(i),s(i),za("You have successfully added a new stock"),t(n);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){f.stocks.forEach((function(e){0===e.new_amount?Ue.sfp.disableStock(c,e):e.new_amount!==e.old_amount&&e.new_amount>0&&e.new_amount<e.old_amount&&Ue.sfp.updateStock(c,e)}))},U=Object(S.jsxs)("div",{className:"rows",children:[Object(S.jsxs)("div",{className:"column-1",children:[Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Amount"}),Object(S.jsx)(dn,{onChange:function(e){return I(e)},value:C,placeholder:"e.g. 1000",min:0})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Unit"}),a]})]}),Object(S.jsxs)("div",{className:"column-2",children:[Object(S.jsx)(Wt,{header:"Production Date",value:Y,onChange:P}),Object(S.jsx)(Wt,{header:"Expiration Date",value:F,onChange:A})]})]});return Object(S.jsx)(Aa,{visible:n,close:t,editForm:f,originalForm:y,logistics:l,addStock:z,reduceStock:function(e){for(var n=0,a=0;a<l.length;a++)l[a].amount-=f.stocks[a].subtracted_amount,n+=f.stocks[a].subtracted_amount;l.forEach((function(e){0===e.amount&&za("You have successfully removed Stock "+e.stock_id)})),B(),Ue.sfp.updateTotalAmount(c);var r=l.filter((function(e){return 0!==e.amount}));f.updateForm(),d(r),i(r,n),t(e)},AddStockComponents:U})},Ga=n(224),Qa=n.n(Ga),Xa=(n(384),function(e){var t=e.originalData;return Object(S.jsx)(ba.CKEditor,{editor:fa.a,data:t,disabled:!0,config:{removePlugins:["toolbar"],toolbar:[]},onReady:function(e){console.log("Ready to read!",e)},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}})}),Za=function(e){var t=e.match.params.id,n=Object(b.g)(),a=ga(),r=a.openEdit,c=a.closeEdit,s=a.editVisible,i=Object(v.useState)([]),o=Object(p.a)(i,2),u=o[0],l=o[1],d=Object(v.useState)([]),j=Object(p.a)(d,2),f=j[0],h=j[1],m=Object(v.useState)([]),O=Object(p.a)(m,2),x=O[0],g=O[1],y=Object(v.useState)(""),w=Object(p.a)(y,2),_=w[0],N=w[1],C=Object(v.useState)(""),I=Object(p.a)(C,2),E=I[0],M=I[1],P=Object(v.useState)("g"),D=Object(p.a)(P,2),T=D[0],L=D[1],F=Object(v.useState)(""),A=Object(p.a)(F,2),R=A[0],z=A[1],B=Object(v.useState)(),U=Object(p.a)(B,2),K=U[0],q=U[1],V=Object(v.useState)(!0),J=Object(p.a)(V,2),H=J[0],W=J[1],G=Object(v.useState)(!0),Q=Object(p.a)(G,2),X=Q[0],Z=Q[1],$=Object(v.useState)(!0),ee=Object(p.a)($,2),te=ee[0],ne=ee[1],ae=Object(v.useState)(!1),re=Object(p.a)(ae,2),ce=re[0],se=re[1];Object(v.useEffect)((function(){Ue.sfp.fetchSfp(t).then((function(e){l(e),N(e[0].process_steps),M(e[0].sfp_name),L(e[0].unit),z(e[0].image),q(e[0].total_amount),W(!1)})),Ue.sfp.fetchFormulation(t).then((function(e){g(e),Z(!1)})),Ue.sfp.fetchLogistics(t).then((function(e){h(e),ne(!1)}))}),[t]);var ie=Object(S.jsxs)("div",{className:"material-header",children:[Object(S.jsx)("section",{className:"item-image",children:Object(S.jsx)("div",{name:"image",children:Object(S.jsx)(vt.a,{size:275,shape:"square",alt:"Company Logotype",src:R})})}),Object(S.jsxs)("section",{className:"material-information",children:[Object(S.jsxs)("div",{className:"table-section-header",children:[Object(S.jsx)("h3",{children:" General Information "}),Object(S.jsx)(k.a,{spinning:H,tip:"Loading...",size:"medium",children:Object(S.jsx)(Y.a,{columns:Va.filter((function(e){return"sfp_id"!==e.dataIndex})),dataSource:u,pagination:!1,rowKey:"sfp_id"})})]}),Object(S.jsxs)("div",{className:"table-section-header",children:[Object(S.jsx)("h3",{children:" Formulation "}),Object(S.jsx)(k.a,{spinning:X,tip:"Loading...",size:"medium",children:Object(S.jsx)(Y.a,{columns:Ha.filter((function(e){return"raw_material_id"!==e.dataIndex})),dataSource:x,rowKey:"raw_material_id",pagination:!1})})]}),Object(S.jsxs)("div",{className:"table-section-header",children:[Object(S.jsx)("h3",{children:" Process Steps "}),Object(S.jsx)(Xa,{originalData:Qa.a.sanitize(_)}),Object(S.jsxs)("div",{className:"table-section-header",children:[Object(S.jsx)("h3",{children:" In Stock "}),Object(S.jsx)(k.a,{spinning:te,tip:"Loading...",size:"medium",children:Object(S.jsx)(Y.a,{columns:Ja.filter((function(e){return"stock_id"!==e.dataIndex})),rowKey:"stock_id",dataSource:f})})]})]})]})]}),oe=Object(S.jsx)(wa,{visible:s[t],onClose:function(e){return c(e,t)},data:u[0],sendChangesToParent:function(e){u[0].sfp_name=e.sfp_name,u[0].location=e.location,u[0].unit=e.unit,u[0].process_steps=e.process_steps,z(e.image),M(e.name),N(e.process_steps),g(e.editForm)},deleteSfp:function(e,t){Ue.sfp.disableSfp(t).then((function(e){if("success"===e)return n.push("/inventory")}))}}),ue=Object(S.jsx)(Wa,{visible:ce,close:function(e){e.stopPropagation(),se(!1)},logistics:f,unit:T,id:t,sendAddToParent:function(e){var t=e[e.length-1].amount;u[0].total_amount+=t,q(u[0].total_amount),h(e)},sendReductionToParent:function(e,t){u[0].total_amount-=t,q(u[0].total_amount),h(e)},totalAmount:K});return Object(S.jsx)(St,{content:Object(S.jsx)(Ta,{name:E,information:ie,openEdit:function(){return r(t)},edit:oe,manageStock:ue,openManageStock:function(){return se(!0)}})})},$a=n.p+"static/media/cones.12c901ef.png",er={display:"grid",justifyItems:"center",gridTemplateRows:"3fr 1fr"},tr={width:"400px",height:"400px"},nr=function(){return Object(S.jsx)(St,{content:Object(S.jsxs)("div",{style:er,id:"wrapper",children:[Object(S.jsx)("img",{style:tr,src:$a,alt:""}),Object(S.jsx)("div",{id:"info",children:Object(S.jsx)("h3",{children:"This page could not be found."})})]})})},ar=function(){return rt().loggedIn?Object(S.jsxs)(b.d,{children:[Object(S.jsx)(b.b,{exact:!0,path:"/",component:Ct}),Object(S.jsx)(b.b,{exact:!0,path:"/dashboard",component:Ct}),Object(S.jsx)(b.b,{exact:!0,path:"/inventory",component:Sa}),Object(S.jsx)(b.b,{exact:!0,path:"/inventory/rawmaterial/:id",component:qa}),Object(S.jsx)(b.b,{exact:!0,path:"/inventory/sfp/:id",component:Za}),Object(S.jsx)(b.b,{component:nr})]}):Object(S.jsx)(b.d,{children:Object(S.jsx)(b.b,{path:"/",component:Tt})})},rr=n(225),cr=Object(rr.a)();j.a.render(Object(S.jsxs)(y.a,{history:cr,children:[Object(S.jsx)(at,{children:Object(S.jsx)(on,{children:Object(S.jsxs)(va,{children:[Object(S.jsx)(ar,{}),","]})})}),","]}),document.getElementById("root"))}},[[385,1,2]]]);
//# sourceMappingURL=main.c40e477a.chunk.js.map