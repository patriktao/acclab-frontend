(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{183:function(e,t,a){},241:function(e,t,a){},242:function(e,t,a){},243:function(e,t,a){},244:function(e,t,a){},245:function(e,t,a){},345:function(e,t,a){},346:function(e,t,a){},347:function(e,t,a){},348:function(e,t,a){},350:function(e,t,a){},352:function(e,t,a){},353:function(e,t,a){},354:function(e,t,a){},355:function(e,t,a){},356:function(e,t,a){},362:function(e,t,a){},363:function(e,t,a){},364:function(e,t,a){},365:function(e,t,a){},366:function(e,t,a){},367:function(e,t,a){},381:function(e,t,a){},382:function(e,t,a){},383:function(e,t,a){},384:function(e,t,a){},385:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"fetchCompanies",(function(){return R})),a.d(n,"fetchMaterial",(function(){return z})),a.d(n,"fetchLogistics",(function(){return B})),a.d(n,"fetchTotalAmount",(function(){return U})),a.d(n,"fetchCountries",(function(){return K})),a.d(n,"fetchAll",(function(){return q})),a.d(n,"editMaterial",(function(){return V})),a.d(n,"handleRestock",(function(){return J})),a.d(n,"addStock",(function(){return W})),a.d(n,"updateStock",(function(){return G})),a.d(n,"disableStock",(function(){return H})),a.d(n,"updateTotalAmount",(function(){return Q})),a.d(n,"uploadImage",(function(){return X})),a.d(n,"deleteImage",(function(){return Z})),a.d(n,"updateImage",(function(){return $})),a.d(n,"updateExpirationDate",(function(){return ee})),a.d(n,"createRawMaterial",(function(){return te})),a.d(n,"deleteAllLogistics",(function(){return ae})),a.d(n,"deleteRawMaterial",(function(){return ne})),a.d(n,"disableRawMaterial",(function(){return re})),a.d(n,"disableAllLogistics",(function(){return ce}));var r={};a.r(r),a.d(r,"fetchShoppingList",(function(){return se})),a.d(r,"fetchExpiringMaterials",(function(){return ie}));var c={};a.r(c),a.d(c,"fetchTotalMaterials",(function(){return oe})),a.d(c,"fetchTotalExpiredMaterials",(function(){return ue}));var s={};a.r(s),a.d(s,"fetchAllCompanies",(function(){return le})),a.d(s,"fetchAllCountries",(function(){return de})),a.d(s,"deleteCompany",(function(){return je})),a.d(s,"addCompany",(function(){return be})),a.d(s,"updateCompany",(function(){return pe}));var i={};a.r(i),a.d(i,"fetchLocations",(function(){return fe})),a.d(i,"addLocation",(function(){return he})),a.d(i,"updateLocation",(function(){return me})),a.d(i,"deleteLocation",(function(){return Oe}));var o={};a.r(o),a.d(o,"login",(function(){return xe})),a.d(o,"loggedIn",(function(){return ve}));var u={};a.r(u),a.d(u,"fetchForms",(function(){return ge}));var l={};a.r(l),a.d(l,"fetchTable",(function(){return ye})),a.d(l,"fetchSfp",(function(){return we})),a.d(l,"fetchFormulation",(function(){return ke})),a.d(l,"fetchLogistics",(function(){return _e})),a.d(l,"editInformation",(function(){return Ne})),a.d(l,"editFormulation",(function(){return Se})),a.d(l,"uploadImage",(function(){return Ce})),a.d(l,"deleteImage",(function(){return Ie})),a.d(l,"updateImage",(function(){return Ee})),a.d(l,"updateExpirationDate",(function(){return Me})),a.d(l,"addStock",(function(){return Ye})),a.d(l,"updateStock",(function(){return Pe})),a.d(l,"disableStock",(function(){return De})),a.d(l,"updateTotalAmount",(function(){return Te})),a.d(l,"createSfp",(function(){return Le})),a.d(l,"createFormulation",(function(){return Fe})),a.d(l,"deleteAllLogistics",(function(){return Ae})),a.d(l,"deleteSfp",(function(){return Re})),a.d(l,"disableAllLogistics",(function(){return ze})),a.d(l,"disableSfp",(function(){return Be}));var d=a(39),j=a.n(d),b=(a(241),a(183),a(242),a(31)),p=a(8),f=(a(243),a(113)),h=a(69),m=a(7),O=a.n(m),x=a(11),v=a(0),g=a.n(v),y=(a(244),a(36)),w=a(403),k=a(148),_=a(24),N=a.n(_),S=(a(245),a(1)),C=function(e){var t=N()(e).diff(N()(),"days");return t<0?"expired":t<30?"high":t<365?"normal":"low"},I=function(e){var t=N()(e).diff(N()(),"days"),a="",n="";return t<0?(n="Expired",a="#ff4d4f"):t<30?(n="High",a="#F2C94C"):t<365?(n="Normal",a="#29CC97"):(n="Low",a="#9A9DA5"),Object(S.jsx)("div",{className:"Priority",children:Object(S.jsx)("div",{className:"priority-design",style:{background:"".concat(a)},children:n.toUpperCase()})})},E=[{title:"ID",dataIndex:"id",key:"id"},{title:"Item name",dataIndex:"name",key:"name",sorter:function(e,t){return e.name.localeCompare(t.name)},render:function(e,t){return Object(S.jsx)(y.b,{to:"/inventory/rawmaterial/"+t.id,children:e})}},{title:"Brand",dataIndex:"company",key:"company",sorter:function(e,t){return e.company.localeCompare(t.company)}},{title:"Country",dataIndex:"country",key:"country",sorter:function(e,t){return e.country.localeCompare(t.country)}},{title:"Expiration Date",dataIndex:"expiration_date",key:"expiration_date",sorter:function(e,t){return N()(e.expiration_date).format("YYYYMMDD")-N()(t.expiration_date).format("YYYYMMDD")},render:function(e){return null===e?Object(S.jsx)("p",{children:" "}):Object(S.jsx)("p",{style:{marginBottom:"auto"},children:N()(e).format("MMM D, YYYY")})}},{title:"Priority",dataIndex:"priority",key:"priority",sorter:function(e,t){return N()(e.expiration_date).format("YYYYMMDD")-N()(t.expiration_date).format("YYYYMMDD")},render:function(e,t){return I(t.expiration_date)}}],M=a(42),Y=a(392),P=a(50),D=function(e){var t=e.component,a=e.text,n=e.trigger;return Object(S.jsx)(P.a,{title:a,color:"#00bdf2",trigger:n,children:t})},T=a(85),L=a(229),F=a(23),A=a.n(F),R=function(){var e=Object(x.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/brands/raw_material_companies");case 3:return t=e.sent,a=[],t.data.forEach((function(e){a.push({value:e.company,name:e.company})})),e.abrupt("return",a.sort((function(e,t){return e.name.localeCompare(t.name)})));case 9:if(e.prev=9,e.t0=e.catch(0),!e.t0.response){e.next=14;break}return console.log("Error: ".concat(e.t0.message)),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(x.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/raw_material/".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message)),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(x.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/raw_material_logistics/".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message)),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(x.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/raw_material_logistics/".concat(t,"/total_amount"));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message)),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(x.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/brands/raw_material_countries");case 3:return t=e.sent,a=[],t.data.forEach((function(e){a.push({value:e.country,name:e.country})})),e.abrupt("return",a.sort((function(e,t){return e.name.localeCompare(t.name)})));case 9:if(e.prev=9,e.t0=e.catch(0),!e.t0.response){e.next=14;break}return console.log("Error: ".concat(e.t0.message)),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/raw_material_table");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.t0.response&&console.log("Error: ".concat(e.t0.message)),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(x.a)(O.a.mark((function e(t,a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.put("/raw_material/".concat(t,"/edit"),a).catch((function(e){e.response&&console.log(e.response)}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),J=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.put("/raw_material/".concat(t,"/restock")).catch((function(e){e.response&&console.log("Error: ".concat(e.message))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(x.a)(O.a.mark((function e(t,a){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.post("/raw_material_logistics/".concat(t,"/add"),a).catch((function(e){e.response&&console.log("Error: ".concat(e.message))}));case 2:return n=e.sent,ee(t),e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),G=function(){var e=Object(x.a)(O.a.mark((function e(t,a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.put("/raw_material_logistics/".concat(t,"/update"),a).catch((function(e){e.response&&console.log("Error: ".concat(e.message))}));case 2:ee(t);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),H=function(){var e=Object(x.a)(O.a.mark((function e(t,a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.put("/raw_material_logistics/".concat(t,"/disable"),a).catch((function(e){e.response&&console.log("Error: ".concat(e.message))}));case 2:ee(t);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Q=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.put("/raw_material_logistics/".concat(t,"/update_total_amount"));case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message)),L.b.error("Failed updating the total amount.");case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(x.a)(O.a.mark((function e(t,a){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new FormData,console.log(t),n.append("image",t),r=null,e.next=7,A.a.post("/upload/raw_materials/".concat(a),n,{headers:{"Content-type":"multipart/form-data"}}).catch((function(e){e.response&&(console.log(e.response),console.log("error",e.message))})).then((function(e){r=e}));case 7:return e.abrupt("return",r.data.Location);case 10:return e.prev=10,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message)),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}(),Z=function(){var e=Object(x.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.delete("/upload/raw_materials/".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data.message);case 7:return e.prev=7,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message)),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(x.a)(O.a.mark((function e(t,a){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("image",t),r=null,e.next=5,A.a.delete("/upload/raw_materials/".concat(a)).catch((function(e){if(e.response)return console.log("Error: ".concat(e.message)),null})).then(Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.post("/upload/raw_materials/".concat(a),n,{headers:{"Content-type":"multipart/form-data"}}).catch((function(e){return console.log("Error: ".concat(e.message)),null})).then((function(e){r=e}));case 2:case"end":return e.stop()}}),e)}))));case 5:return e.abrupt("return",r.data.Location);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ee=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.put("/raw_material/".concat(t,"/update_expiration_date"));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),e.t0.response&&console.log("Error: ".concat(e.t0.message));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(x.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=0,e.next=4,A.a.post("/raw_material/create",t).then((function(e){a=e.data.raw_material_id[0]}));case 4:return L.b.success(t.name+" has been added to inventory."),e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message)),L.b.error("Unable to add new raw material."),e.abrupt("return","failed");case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.delete("/raw_material_logistics/".concat(t,"/all"));case 3:return e.abrupt("return");case 6:e.prev=6,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message)),L.b.error("Unable to delete all");case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(x.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="failed",e.prev=1,Z(t),ae(t),e.next=6,A.a.delete("/raw_material/".concat(t)).then((function(){L.b.success("Successfully deleted the raw material."),a="success"}));case 6:return e.abrupt("return",a);case 9:if(e.prev=9,e.t0=e.catch(1),!e.t0.response){e.next=15;break}return console.log("Error: ".concat(e.t0.message)),L.b.error("Unable to delete the raw material."),e.abrupt("return",a);case 15:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(x.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="failed",e.prev=1,Z(t),ae(t),e.next=6,A.a.put("/raw_material/".concat(t,"/disable")).then((function(){L.b.success("Successfully deleted the raw material."),a="success"}));case 6:return e.abrupt("return",a);case 9:if(e.prev=9,e.t0=e.catch(1),!e.t0.response){e.next=15;break}return console.log("Error: ".concat(e.t0.message)),L.b.error("Unable to delete the raw material."),e.abrupt("return",a);case 15:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.put("/raw_material_logistics/".concat(t,"/disable_all"));case 3:return e.abrupt("return");case 6:e.prev=6,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message)),L.b.error("Unable to delete all");case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/shopping_list");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),e.t0.response&&console.log("Error: ".concat(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/expiring_materials");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),e.t0.response&&console.log("Error: ".concat(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/total_materials");case 3:return t=e.sent,e.abrupt("return",t.data.map((function(e){return e.total})));case 7:return e.prev=7,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message)),e.abrupt("return",0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/total_expired_materials");case 3:return t=e.sent,e.abrupt("return",t.data.map((function(e){return e.total})));case 7:return e.prev=7,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message)),e.abrupt("return",0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(x.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/brands/all_companies");case 3:return t=e.sent,a=[],t.data.forEach((function(e){a.push({value:e.company,name:e.company})})),e.abrupt("return",a.sort((function(e,t){return e.name.localeCompare(t.name)})));case 9:if(e.prev=9,e.t0=e.catch(0),!e.t0.response){e.next=14;break}return console.log("Error: ".concat(e.t0.message)),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(x.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/brands/all_countries");case 3:return t=e.sent,a=[],t.data.forEach((function(e){a.push({value:e.country,name:e.country})})),e.abrupt("return",a.sort((function(e,t){return e.name.localeCompare(t.name)})));case 9:if(e.prev=9,e.t0=e.catch(0),!e.t0.response){e.next=14;break}return console.log("Error: ".concat(e.t0.message)),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.delete("/brands/delete_company",{data:{company:t}}).catch((function(e){e.response&&(console.log("Error: ".concat(e.message)),L.b.warning(t+" could not be removed."))}));case 2:L.b.success(t+" has been succesfully removed.");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.post("/brands/add_company",{company:t}).catch((function(e){e.response&&(console.log("Error: ".concat(e.message)),L.b.warning(t+" could not be added."))}));case 2:L.b.success(t+" has been added.");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=Object(x.a)(O.a.mark((function e(t,a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.put("/brands/update_company",{company:t,new_company:a}).catch((function(e){e.response&&console.log("Error: ".concat(e.message)),L.b.warning(t+" could not be updated.")}));case 2:L.b.success(t+" has been changed to "+a);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),fe=function(){var e=Object(x.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/stored_locations/all");case 3:return t=e.sent,a=[],t.data.forEach((function(e){a.push({value:e.location,name:e.location})})),e.abrupt("return",a.sort((function(e,t){return e.name.localeCompare(t.name)})));case 9:if(e.prev=9,e.t0=e.catch(0),!e.t0.response){e.next=14;break}return console.log("Error: ".concat(e.t0.message)),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),he=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.post("/stored_locations/add",{location:t}).catch((function(e){e.response&&(console.log("Error: ".concat(e.message)),L.b.warning(t+" could not be added."))}));case 2:L.b.success(t+" has been added.");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(x.a)(O.a.mark((function e(t,a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.put("/stored_locations/put",{location:t,new_location:a}).catch((function(e){e.response&&console.log("Error: ".concat(e.message)),L.b.warning(t+" could not be updated.")}));case 2:L.b.success(t+" has been changed to "+a);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.delete("/stored_locations/delete",{data:{location:t}}).catch((function(e){e.response&&(console.log("Error: ".concat(e.message)),L.b.warning(t+" could not be removed."))}));case 2:L.b.success(t+" has been succesfully removed.");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=Object(x.a)(O.a.mark((function e(t,a){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={email:t,password:a},e.prev=1,e.next=4,A.a.post("/authentication/login",n,{timeout:2e3}).then((function(){if("success"===r.data.message){var e=r.data.user;localStorage.setItem("email",e.email),localStorage.setItem("firstname",e.firstname),localStorage.setItem("lastname",e.lastname)}}));case 4:return r=e.sent,e.abrupt("return",r.data);case 8:return e.prev=8,e.t0=e.catch(1),e.t0.response&&(localStorage.clear(),L.b.error("Not connected to server."),console.log("Error: ".concat(e.t0.message)),console.log("Error in HTTP Request to API")),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}(),ve=function(){var e=Object(x.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.post("/authentication/loggedIn",{email:t});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.t0.response&&(localStorage.clear(),console.log("Error: ".concat(e.t0.message))),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(x.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/material_forms");case 3:return t=e.sent,a=[],t.data.forEach((function(e){a.push({value:e.form,name:e.form})})),e.abrupt("return",a.sort((function(e,t){return e.name.localeCompare(t.name)})));case 9:if(e.prev=9,e.t0=e.catch(0),!e.t0.response){e.next=14;break}return console.log("Error: ".concat(e.t0.message)),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/sfp/table");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.t0.response&&console.log("Error: ".concat(e.t0.message)),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=Object(x.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/sfp/".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.t0.response&&console.log("Error: ".concat(e.t0.message)),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=Object(x.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/sfp/".concat(t,"/formulation"));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.t0.response&&console.log("Error: ".concat(e.t0.message)),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),_e=function(){var e=Object(x.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/sfp_logistics/".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.t0.response&&console.log("Error: ".concat(e.t0.message)),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(x.a)(O.a.mark((function e(t,a){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.put("/sfp/".concat(t,"/edit_information"),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),e.t0.response&&console.log("Error: ".concat(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),Se=function(){var e=Object(x.a)(O.a.mark((function e(t,a){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.put("/sfp/".concat(t,"/edit_formulation"),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),e.t0.response&&console.log("Error: ".concat(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(x.a)(O.a.mark((function e(t,a){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new FormData,console.log(t),n.append("image",t),r=null,e.next=7,A.a.post("/upload/sfp/".concat(a),n,{headers:{"Content-type":"multipart/form-data"}}).catch((function(e){e.response&&(console.log(e.response),console.log("error",e.message))})).then((function(e){r=e}));case 7:return e.abrupt("return",r.data.Location);case 10:return e.prev=10,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message)),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(x.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.delete("/upload/sfp/".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data.message);case 7:return e.prev=7,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message)),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(x.a)(O.a.mark((function e(t,a){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("image",t),r=null,e.next=5,A.a.delete("/upload/sfp/".concat(a)).catch((function(e){if(e.response)return console.log("Error: ".concat(e.message)),null})).then(Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.post("/upload/sfp/".concat(a),n,{headers:{"Content-type":"multipart/form-data"}}).catch((function(e){return console.log("Error: ".concat(e.message)),null})).then((function(e){r=e}));case 2:case"end":return e.stop()}}),e)}))));case 5:return e.abrupt("return",r.data.Location);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Me=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.put("/sfp/".concat(t,"/update_expiration_date"));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),e.t0.response&&console.log("Error: ".concat(e.t0.message));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(x.a)(O.a.mark((function e(t,a){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.post("/sfp_logistics/".concat(t,"/add"),a).catch((function(e){e.response&&console.log("Error: ".concat(e.message))}));case 2:return n=e.sent,Me(t),e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(x.a)(O.a.mark((function e(t,a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.put("/sfp_logistics/".concat(t,"/update"),a).catch((function(e){e.response&&console.log("Error: ".concat(e.message))}));case 2:Me(t);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),De=function(){var e=Object(x.a)(O.a.mark((function e(t,a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.put("/sfp_logistics/".concat(t,"/disable"),a).catch((function(e){e.response&&console.log("Error: ".concat(e.message))}));case 2:Me(t);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Te=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.put("/sfp_logistics/".concat(t,"/update_total_amount"));case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message)),L.b.error("Failed updating the total amount.");case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=Object(x.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=0,e.next=4,A.a.post("/sfp",t).then((function(e){a=e.data.sfp_id[0]}));case 4:return L.b.success(t.sfp_name+" has been added to inventory."),e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message)),L.b.error("Unable to add new raw material."),e.abrupt("return","failed");case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(x.a)(O.a.mark((function e(t,a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(a),e.next=4,a.forEach((function(e){A.a.post("/sfp/".concat(t,"/formulation"),e)}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.delete("/sfp_logistics/".concat(t,"/all"));case 3:return e.abrupt("return");case 6:e.prev=6,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message)),L.b.error("Unable to delete all");case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=Object(x.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="failed",e.prev=1,Ie(t),Ae(t),e.next=6,A.a.delete("/sfp/".concat(t)).then((function(){L.b.success("Successfully deleted the raw material."),a="success"}));case 6:return e.abrupt("return",a);case 9:if(e.prev=9,e.t0=e.catch(1),!e.t0.response){e.next=15;break}return console.log("Error: ".concat(e.t0.message)),L.b.error("Unable to delete the raw material."),e.abrupt("return",a);case 15:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),ze=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.put("/sfp_logistics/".concat(t,"/disable_all"));case 3:return e.abrupt("return");case 6:e.prev=6,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message)),L.b.error("Unable to delete logistics");case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Be=function(){var e=Object(x.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="failed",e.prev=1,Ie(t),ze(t),e.next=6,A.a.put("/sfp/".concat(t,"/disable")).then((function(){L.b.success("Successfully deleted the Semi-Finished Product."),a="success"}));case 6:return e.abrupt("return",a);case 9:if(e.prev=9,e.t0=e.catch(1),!e.t0.response){e.next=15;break}return console.log("Error: ".concat(e.t0.message)),L.b.error("Unable to delete the Semi-Finished Product."),e.abrupt("return",a);case 15:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),Ue=function e(){Object(T.a)(this,e)};Ue.rawMaterial=n,Ue.dashboard=r,Ue.statistics=c,Ue.brands=s,Ue.locations=i,Ue.authentication=o,Ue.materialforms=u,Ue.sfp=l;var Ke=function(){var e=Object(v.useState)(!0),t=Object(p.a)(e,2),a=t[0],n=t[1],r=Object(v.useState)([]),c=Object(p.a)(r,2),s=c[0],i=c[1];Object(v.useEffect)((function(){(function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue.dashboard.fetchExpiringMaterials().then((function(e){i(e)}));case 2:e.sent instanceof Error||n(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var o=N()().format("MMMM D YYYY").toUpperCase();return Object(S.jsxs)("div",{className:"ExpiringTable",children:[Object(S.jsxs)("div",{className:"table-headers",children:[Object(S.jsxs)("div",{children:[Object(S.jsxs)("span",{className:"sub-header-table",children:["TODAY, ",o]}),Object(S.jsx)("br",{}),Object(S.jsx)("h4",{className:"main-header-table",children:"Expiring Materials"})]}),Object(S.jsx)("div",{className:"expand-button",children:Object(S.jsx)(D,{text:"Show inventory",component:Object(S.jsx)(M.a,{shape:"circle",size:"large",children:Object(S.jsx)(y.b,{to:"/inventory",children:Object(S.jsx)(w.a,{})})})})})]}),Object(S.jsx)(k.a,{spinning:a,tip:"Loading...",size:"medium",children:Object(S.jsx)(Y.a,{className:"table-header",columns:E.filter((function(e){return"id"!==e.dataIndex})),dataSource:s,pagination:{pageSize:7},rowKey:"name",size:"small"})})]})},qe=a(387),Ve=a(234),Je=(a(345),function(){var e=Object(v.useState)({tableLoading:!0}),t=Object(p.a)(e,2),a=t[0],n=t[1],r=Object(v.useState)([]),c=Object(p.a)(r,2),s=c[0],i=c[1];Object(v.useEffect)((function(){(function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue.dashboard.fetchShoppingList().then((function(e){return i(e)}));case 2:e.sent instanceof Error||n(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var o=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(s.filter((function(e){return e.id!==t}))),Ue.rawMaterial.handleRestock(t),L.b.success("Item removed from list");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=[{title:"ID",dataIndex:"id",key:"id"},{title:"Item name",dataIndex:"name",key:"name",render:function(e,t){return Object(S.jsx)(y.b,{to:"/inventory/rawmaterial/"+t.id,children:e})}},{title:"Brand",dataIndex:"company",key:"company"},{title:"Country",dataIndex:"country",key:"country"},{title:"Action",dataIndex:"",key:"",render:function(e){return Object(S.jsx)("div",{style:{display:"grid",justifyContent:"center",alignContent:"center"},children:Object(S.jsx)(qe.a,{title:"Remove from the list?",onConfirm:function(){return o(e.id)},okText:"Yes",cancelText:"No",children:Object(S.jsx)(M.a,{type:"primary",className:"shopping-button",danger:!0,children:Object(S.jsx)(Ve.a,{style:{fontSize:"18px"}})})})})}}];return Object(S.jsxs)("div",{className:"shopping-table",children:[Object(S.jsx)("span",{className:"sub-header-table",children:"RESTOCK"}),Object(S.jsx)("br",{}),Object(S.jsx)("h4",{className:"main-header-table",children:"Shopping List"}),Object(S.jsx)(k.a,{spinning:a,tip:"Loading...",size:"medium",children:Object(S.jsx)(Y.a,{className:"table-content",columns:u.filter((function(e){return"id"!==e.dataIndex})),dataSource:s,pagination:{pageSize:8},rowKey:"id",size:"small"})})]})}),We=a(401),Ge=a(388),He=(a(346),a(404)),Qe=a(405),Xe=a(406),Ze=a(407),$e={lightBlue:"#00bdf2",darkBlue:"023f88",text:"#404040"},et=function(){var e=Object(v.useState)(0),t=Object(p.a)(e,2),a=t[0],n=t[1],r=Object(v.useState)(0),c=Object(p.a)(r,2),s=c[0],i=c[1];return Object(v.useEffect)((function(){var e=function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(0),Ue.statistics.fetchTotalMaterials().then((function(e){return i(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(0),e.next=3,Ue.statistics.fetchTotalExpiredMaterials().then((function(e){return n(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),t()}),[]),Object(S.jsx)("div",{className:"site-card-wrapper",children:Object(S.jsxs)(f.a,{gutter:24,children:[Object(S.jsx)(h.a,{span:6,children:Object(S.jsxs)(We.a,{className:"card",bordered:!1,children:[Object(S.jsxs)("div",{className:"card-container",children:[Object(S.jsxs)("div",{children:[Object(S.jsx)("span",{className:"card-header",children:"Total Materials"}),Object(S.jsx)("br",{}),Object(S.jsx)("span",{className:"card-value",children:s})]}),Object(S.jsx)("div",{children:Object(S.jsx)("div",{className:"icon-material-background",children:Object(S.jsx)(He.a,{className:"icon-material"})})})]}),Object(S.jsx)(Ge.a,{className:"divider"})]})}),Object(S.jsx)(h.a,{span:6,children:Object(S.jsxs)(We.a,{className:"card",bordered:!1,children:[Object(S.jsxs)("div",{className:"card-container",children:[Object(S.jsxs)("div",{children:[Object(S.jsx)("span",{className:"card-header",children:"Expired Materials"}),Object(S.jsx)("br",{}),Object(S.jsx)("span",{className:"card-value",children:a})]}),Object(S.jsx)("div",{children:Object(S.jsx)("div",{className:"icon-expired-background",children:Object(S.jsx)(Qe.a,{className:"icon-expired"})})})]}),Object(S.jsx)(Ge.a,{className:"divider"})]})}),Object(S.jsx)(h.a,{span:6,children:Object(S.jsxs)(We.a,{className:"card",bordered:!1,children:[Object(S.jsxs)("div",{className:"card-container",children:[Object(S.jsxs)("div",{children:[Object(S.jsx)("span",{className:"card-header",style:$e,children:"Reports In Progress"}),Object(S.jsx)("br",{}),Object(S.jsx)("span",{className:"card-value",children:" 0 "})]}),Object(S.jsx)("div",{children:Object(S.jsx)("div",{className:"icon-progress-background",children:Object(S.jsx)(Xe.a,{className:"icon-progress"})})})]}),Object(S.jsx)(Ge.a,{className:"divider"})]})}),Object(S.jsx)(h.a,{span:6,children:Object(S.jsxs)(We.a,{className:"card",bordered:!1,children:[Object(S.jsxs)("div",{className:"card-container",children:[Object(S.jsxs)("div",{children:[Object(S.jsx)("span",{className:"card-header",children:"Finished Reports"}),Object(S.jsx)("br",{}),Object(S.jsx)("span",{className:"card-value",children:"0 "})]}),Object(S.jsx)("div",{children:Object(S.jsx)("div",{className:"icon-finished-background",children:Object(S.jsx)(Ze.a,{className:"icon-finished"})})})]}),Object(S.jsx)(Ge.a,{className:"divider"})]})})]})})},tt=a(88),at=Object(v.createContext)({}),nt=function(e){var t=Object(v.useState)(),a=Object(p.a)(t,2),n=a[0],r=a[1],c=Object(v.useState)({}),s=Object(p.a)(c,2),i=s[0],o=s[1];Object(v.useEffect)((function(){(function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=localStorage.getItem("email"))){e.next=4;break}return e.next=4,Ue.authentication.loggedIn(t).then((function(e){e.loggedIn&&(r(!0),o(e.user))}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var u={login:function(){r(!0)},logout:function(){r(!1)},loggedIn:n,userSession:function(){return i}};return Object(S.jsx)(at.Provider,Object(tt.a)({value:u},e))},rt=function(){return g.a.useContext(at)},ct=a(389),st=a(98),it=a(408),ot=a(409),ut=a(410),lt=a(411),dt=a(412),jt=a(413),bt=(a(347),ct.a.Sider),pt=function(){var e=rt().loggedIn,t=Object(b.g)(),a=Object(b.h)().pathname;return Object(v.useEffect)((function(){e&&"/"===a&&t.push("/dashboard")}),[e,t,a]),Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(bt,{className:"sidebar",breakpoint:"lg",collapsedWidth:"0",trigger:null,children:[Object(S.jsx)("div",{className:"sidebar-wrapper",children:Object(S.jsxs)("div",{className:"sidebar-header",children:[Object(S.jsx)(it.a,{style:{marginRight:"8px"}}),"Accelerator",Object(S.jsx)("span",{className:"blue-text",children:"LAB"})]})}),Object(S.jsxs)(st.a,{className:"sidebar-menu",theme:"dark",mode:"inline",selectedKeys:a.split("/")[1],children:[Object(S.jsx)(st.a.Item,{className:"sidebar-item",icon:Object(S.jsx)(ot.a,{}),children:Object(S.jsx)(y.b,{to:"/dashboard",children:"Dashboard"})},"dashboard"),Object(S.jsx)(st.a.Item,{className:"sidebar-item",icon:Object(S.jsx)(ut.a,{}),children:Object(S.jsx)(y.b,{to:"/inventory",children:"Inventory"})},"inventory"),Object(S.jsx)(st.a.Item,{className:"sidebar-item",icon:Object(S.jsx)(lt.a,{}),children:"Products"},"products"),Object(S.jsx)(st.a.Item,{className:"sidebar-item",icon:Object(S.jsx)(dt.a,{}),children:"Reports"},"reports"),Object(S.jsx)(st.a.Item,{className:"sidebar-item",icon:Object(S.jsx)(jt.a,{}),children:"History"},"history")]})]})})},ft=(a(348),a(349),a(350),a(399)),ht=a(414),mt=function(){var e=Object(v.useState)(!1),t=Object(p.a)(e,2),a=t[0],n=t[1],r=Object(b.h)().pathname;return Object(S.jsxs)("section",{className:"SidebarDrawer",children:[Object(S.jsx)("nav",{className:"menu-button",children:Object(S.jsx)(M.a,{className:"button",onClose:function(){return n(!1)},onClick:function(){n(!0)},icon:Object(S.jsx)(ht.a,{})})}),Object(S.jsx)("div",{className:"drawer",children:Object(S.jsx)(ft.a,{visible:a,onClose:function(){n(!1)},placement:"left",title:"Accelerator Lab",width:270,children:Object(S.jsx)("div",{children:Object(S.jsxs)(st.a,{selectedKeys:r.split("/")[1],mode:"inline",theme:"light",children:[Object(S.jsx)(st.a.Item,{className:"drawer-item",children:Object(S.jsx)(y.b,{to:"/dashboard",children:"Dashboard"})},"dashboard"),Object(S.jsx)(st.a.Item,{className:"drawer-item",children:Object(S.jsx)(y.b,{to:"/inventory",children:"Inventory"})},"inventory"),Object(S.jsx)(st.a.Item,{className:"drawer-item",children:"Products"},"products"),Object(S.jsx)(st.a.Item,{className:"drawer-item",children:"Reports"},"reports"),Object(S.jsx)(st.a.Item,{className:"drawer-item",children:"History"},"history")]})})})})]})},Ot=a(395),xt=a(158),vt=a(400),gt=a(415),yt=ct.a.Header,wt=Ot.a.Text,kt=function(){var e=rt(),t=e.logout,a=e.userSession,n=Object(b.g)(),r=N()().format("MMMM D, YYYY"),c=Object(v.useState)({}),s=Object(p.a)(c,2),i=s[0],o=s[1];Object(v.useEffect)((function(){o({firstname:localStorage.getItem("firstname"),lastname:localStorage.getItem("lastname")})}),[a]);var u=function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L.b.success("You successfully logged out"),e.next=3,t();case 3:return localStorage.clear(),e.abrupt("return",n.push("/"));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=Object(S.jsx)(st.a,{style:{borderRadius:"4px"},children:Object(S.jsx)(st.a.Item,{style:{borderRadius:"4px"},onClick:u,children:Object(S.jsx)(wt,{children:"Logout"})})});return Object(S.jsx)("section",{className:"navbar-layout",children:Object(S.jsxs)(yt,{className:"navbar",children:[Object(S.jsx)("div",{className:"drawer-layout",children:Object(S.jsx)(mt,{})}),Object(S.jsxs)("section",{className:"right-side",children:[Object(S.jsx)("div",{style:{fontSize:"14px"},children:r}),Object(S.jsxs)("div",{className:"account-component",children:[Object(S.jsx)("div",{className:"divider-component",children:Object(S.jsx)("div",{className:"v-divider"})}),Object(S.jsx)("div",{children:Object(S.jsx)(xt.a,{className:"dropdown-layout",overlay:l,children:Object(S.jsxs)(wt,{onClick:function(e){return e.preventDefault()},children:[Object(S.jsx)(vt.a,{className:"avatar",size:"medium",icon:Object(S.jsx)(gt.a,{})}),Object(S.jsxs)("span",{className:"account-name",children:[i.firstname," ",i.lastname]})]})})})]})]})]})})},_t=ct.a.Content,Nt=ct.a.Footer,St=function(e){var t=e.content;return Object(S.jsxs)(ct.a,{className:"sidebar-header-layout",children:[Object(S.jsx)(pt,{}),Object(S.jsxs)(ct.a,{children:[Object(S.jsx)(kt,{}),Object(S.jsxs)(_t,{className:"content-layout",children:[Object(S.jsx)("div",{className:"content-wrapper",children:t}),Object(S.jsx)(Nt,{className:"footer",children:"Accelerator Lab \xa92021 Tetra Pak"})]})]})]})},Ct=function(){var e=Object(v.useState)({}),t=Object(p.a)(e,2),a=t[0],n=t[1],r=rt().userSession;return Object(v.useEffect)((function(){n(r())}),[r]),Object(S.jsx)(St,{content:Object(S.jsxs)("section",{name:"Dashboard",children:[Object(S.jsxs)("div",{title:"Paragraph-Wrapper",children:[Object(S.jsx)("span",{className:"content-sub-header",children:" DASHBOARD "}),Object(S.jsxs)("h1",{className:"blue-text",children:[" Good Morning, ",a.firstname," "]}),Object(S.jsx)("span",{className:"content-sub-header",children:"Here's what's happening with your inventory today"})]}),Object(S.jsx)("section",{title:"Card-Wrapper",children:Object(S.jsx)(f.a,{gutter:16,children:Object(S.jsx)(h.a,{span:24,style:{marginTop:"1.5rem"},children:Object(S.jsx)(et,{})})})}),Object(S.jsxs)("section",{className:"table-wrapper",style:{marginTop:"1.5rem"},children:[Object(S.jsx)("div",{children:Object(S.jsx)(Ke,{})}),Object(S.jsx)("div",{children:Object(S.jsx)(Je,{})})]})]})})},It=(a(352),a.p+"static/media/tetrapak_logo.3263c975.png"),Et=a(394),Mt=a(398),Yt=a(416),Pt=a(165),Dt=(a(353),function(){var e=rt().login,t=Object(b.g)(),a=function(){var a=Object(x.a)(O.a.mark((function a(){return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e();case 2:return L.b.success("You successfully logged in"),a.abrupt("return",t.push("/dashboard"));case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),n=function(){var e=Object(x.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ue.authentication.login(t.email,t.password);case 3:n=e.sent,e.t0=n.message,e.next="success"===e.t0?7:"user not found"===e.t0?9:"wrong password"===e.t0?11:13;break;case 7:return a(),e.abrupt("break",15);case 9:case 11:return L.b.warning("Your email or password is wrong")&&b.a,e.abrupt("break",15);case 13:return L.b.error("Error occurred when logging in")&&b.a,e.abrupt("break",15);case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(0),L.b.error("Not connected to server.");case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsx)("div",{className:"login-forms",children:Object(S.jsxs)(Et.a,{name:"basic",initialValues:{remember:!0},onFinish:n,onFinishFailed:function(e){console.log("Failed:",e)},children:[Object(S.jsxs)("div",{className:"login-form",children:[Object(S.jsx)(Et.a.Item,{name:"email",rules:[{required:!0,message:"Please input your email"}],children:Object(S.jsx)(Mt.a,{prefix:Object(S.jsx)(Yt.a,{}),placeholder:"Enter your email",className:"username-input"})}),Object(S.jsx)(Et.a.Item,{className:"input-bar",name:"password",rules:[{required:!0,message:"Please input your password"}],children:Object(S.jsx)(Mt.a.Password,{prefix:Object(S.jsx)(Pt.a,{}),placeholder:"Enter your password"})})]}),Object(S.jsx)("div",{className:"login-button",children:Object(S.jsx)(Et.a.Item,{wrapperCol:{offset:8},children:Object(S.jsx)(M.a,{type:"primary",htmlType:"submit",children:"Login"})})})]})})}),Tt=function(){return Object(S.jsx)("section",{className:"LoginPage",children:Object(S.jsxs)("div",{className:"background",children:[Object(S.jsxs)("div",{className:"main-container",children:[Object(S.jsx)("div",{className:"header-container",children:Object(S.jsxs)("span",{className:"header",children:["Log in to ",Object(S.jsx)("br",{})," Accelerator",Object(S.jsx)("span",{className:"blue-text",children:"LAB"})]})}),Object(S.jsx)("div",{className:"login-container",children:Object(S.jsxs)("div",{className:"login-container-style",children:[Object(S.jsx)("div",{className:"login-header",children:"Login"}),Object(S.jsx)("div",{className:"login-form-container",children:Object(S.jsx)(Dt,{})})]})})]}),Object(S.jsx)("div",{className:"logo-container",children:Object(S.jsx)("img",{src:It,alt:"Tetra Pak Logo",className:"logo"})})]})})},Lt=a(223),Ft=(a(354),a(390)),At=a(166),Rt=function(e){var t=e.header,a=e.onChange,n=e.value,r=e.options,c=e.placeholder;return Object(S.jsxs)("div",{name:"".concat(t),className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:t}),Object(S.jsx)(Ft.a,{options:r,filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())},onChange:a,value:n,children:Object(S.jsx)(Mt.a,{allowClear:!0,className:"input-text",placeholder:c,suffix:Object(S.jsx)(At.a,{style:{fontSize:"1rem"}})})})]})},zt=a(79),Bt=function(e){var t=e.header,a=e.options,n=e.onChange,r=e.value,c=e.placeholder,s=e.allowClear;return Object(S.jsxs)("div",{name:"".concat(t),className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:t}),Object(S.jsx)(zt.a,{options:a,placeholder:c,onChange:n,value:r,allowClear:s})]})},Ut=a(391),Kt=Ut.a.RangePicker,qt=function(e){var t=e.header,a=e.value,n=e.onChange;return Object(S.jsxs)("div",{name:"".concat(t),className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:t}),Object(S.jsx)(Kt,{allowClear:!0,showToday:!0,className:"input-date",format:"MMM D, YYYY",value:a,onChange:n})]})},Vt=a(156),Jt=function(e){e.header;var t=e.value,a=e.onClick;return Object(S.jsxs)("div",{name:"priority",className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Priority for Usage"}),Object(S.jsxs)(Vt.a.Group,{defaultValue:"",value:t,buttonStyle:"solid",children:[Object(S.jsx)(Vt.a.Button,{value:"",onClick:a,children:"All"}),Object(S.jsx)(Vt.a.Button,{value:"low",onClick:a,children:"Low"}),Object(S.jsx)(Vt.a.Button,{value:"normal",onClick:a,children:"Normal"}),Object(S.jsx)(Vt.a.Button,{value:"high",onClick:a,children:"High"}),Object(S.jsx)(Vt.a.Button,{value:"expired",onClick:a,children:"Expired"})]})]})},Wt=function(e){var t=e.header,a=e.onChange,n=e.value,r=e.placeholder;return Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:t}),Object(S.jsx)(Mt.a,{className:"input-text",onChange:a,value:n,placeholder:r,required:!0})]})},Gt=function(e){var t=e.header,a=e.value,n=e.onChange;return Object(S.jsxs)("div",{name:"".concat(t),className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:t}),Object(S.jsx)(Ut.a,{allowClear:!0,showToday:!0,className:"input-date",format:"MMM D, YYYY",value:a,onChange:n})]})},Ht=a(397),Qt=(a(355),function(e){var t=e.visible,a=e.onOk,n=e.onCancel,r=e.content;return Object(S.jsx)(Ht.a,{visible:t,onOk:a,onCancel:n,maskClosable:!1,width:"650px",children:Object(S.jsxs)("section",{className:"FilterComponent",children:[Object(S.jsx)("span",{className:"sub-header",children:" What are you looking for?"}),Object(S.jsx)("h1",{style:{paddingBottom:"1rem"},children:"Choose your filters"}),r]})})}),Xt=function(e){var t=e.filterVisible,a=e.closeFilter,n=e.handleFilter,r=e.handleClear,c=Object(v.useState)([]),s=Object(p.a)(c,2),i=s[0],o=s[1],u=Object(v.useState)([]),l=Object(p.a)(u,2),d=l[0],j=l[1],b=Object(v.useState)([]),f=Object(p.a)(b,2),h=f[0],m=f[1],g=Object(v.useState)([]),y=Object(p.a)(g,2),w=y[0],k=y[1],_=Object(v.useState)(""),N=Object(p.a)(_,2),C=N[0],I=N[1],E=Object(v.useState)(""),Y=Object(p.a)(E,2),P=Y[0],D=Y[1],T=Object(v.useState)(null),L=Object(p.a)(T,2),F=L[0],A=L[1],R=Object(v.useState)(null),z=Object(p.a)(R,2),B=z[0],U=z[1],K=Object(v.useState)(null),q=Object(p.a)(K,2),V=q[0],J=q[1],W=Object(v.useState)(null),G=Object(p.a)(W,2),H=G[0],Q=G[1],X=Object(v.useState)(""),Z=Object(p.a)(X,2),$=Z[0],ee=Z[1];Object(v.useEffect)((function(){Ue.rawMaterial.fetchCompanies().then((function(e){return o(e)})),Ue.rawMaterial.fetchCountries().then((function(e){return j(e)})),Ue.locations.fetchLocations().then((function(e){return k(e)})),Ue.materialforms.fetchForms().then((function(e){return m(e)}))}),[]);var te=function(){var e=Object(x.a)(O.a.mark((function e(t){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new Map).set("brand",C),r.set("country",P),r.set("location",F),r.set("form",B),r.set("receivedDate",V),r.set("expirationDate",H),r.set("priority",$),e.next=10,n(r);case 10:a(t);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsx)(Qt,{visible:t,onOk:te,onCancel:a,content:Object(S.jsxs)("section",{className:"rows",children:[Object(S.jsxs)("div",{className:"columns",children:[Object(S.jsx)(Rt,{header:"Brand",onChange:function(e){return I(e)},value:C,options:i,placeholder:"All brands..."}),Object(S.jsx)(Rt,{header:"Country",onChange:function(e){return D(e)},value:P,options:d,placeholder:"All countries..."})]}),Object(S.jsxs)("div",{className:"columns",children:[Object(S.jsx)(Bt,{header:"Stored Location",options:w,value:F,placeholder:"All locations...",onChange:function(e){return A(e)}}),Object(S.jsx)(Bt,{header:"Material Form",options:h,value:B,placeholder:"All forms...",onChange:function(e){return U(e)}})]}),Object(S.jsxs)("div",{className:"columns",children:[Object(S.jsx)(qt,{header:"Received Date",value:V,onChange:function(e){return J(e)}}),Object(S.jsx)(qt,{header:"Expiration Date",value:H,onChange:function(e){return Q(e)}})]}),Object(S.jsxs)("div",{className:"priority-clear",children:[Object(S.jsx)(Jt,{value:$,onClick:function(e){""===e.target.value?ee(""):ee(e.target.value)}}),Object(S.jsx)(M.a,{type:"dashed",onClick:function(){I(""),D(""),A(null),U(null),J(null),Q(null),ee(""),r()},children:"Reset"})]})]})})},Zt=a(109),$t=a(233),ea=function(e,t){return null!==e&&e!==t},ta=function(e,t){return null!==e&&e!==t},aa=function(e,t){return null!=e&&e!==t&&e<=100&&e>=0||(e>100&&e<0&&console.log("Raw material nuitritional fact could not be updated"),!1)},na=function(e,t,a){var n=N()(e);return null==t||null==a?"":(n.isAfter(t)||n.isSame(t,"date"))&&(n.isBefore(a)||n.isSame(a,"date"))?n.format("YYYYMMDD"):void 0},ra=function(e){return""!==e&&null!==e},ca=a(55),sa=Object(v.createContext)({}),ia=function(e){var t=Object(v.useState)({}),a=Object(p.a)(t,2),n=a[0],r=a[1],c={openEdit:function(e){r(Object(ca.a)({},e,!0))},closeEdit:function(e,t){e.stopPropagation(),r(Object(ca.a)({},t,!1))},editVisible:n};return Object(S.jsx)(sa.Provider,Object(tt.a)({value:c},e))},oa=function(){return g.a.useContext(sa)},ua=(a(356),a(396)),la=function(e){var t=e.children,a=e.value,n=e.onChange,r=e.defaultValue,c=e.max,s=e.style,i=e.placeholder,o=Object(v.useState)(),u=Object(p.a)(o,2),l=u[0],d=u[1];return Object(v.useEffect)((function(){d(typeof a===String?parseInt(a):a)}),[a]),Object(S.jsx)(ua.a,{className:"input-number",type:"number",placeholder:i,value:l,size:"small",onChange:n,min:0,max:c,style:s,step:.1,defaultValue:r,children:t})},da=a(64),ja=a(105),ba=a(10),pa=a(35),fa=a(29),ha=a.n(fa),ma=Object(pa.a)("id"),Oa=Object(pa.a)("name"),xa=Object(pa.a)("brand"),va=Object(pa.a)("country"),ga=Object(pa.a)("unit"),ya=Object(pa.a)("form"),wa=Object(pa.a)("location"),ka=Object(pa.a)("fat"),_a=Object(pa.a)("carb"),Na=Object(pa.a)("protein"),Sa=Object(pa.a)("salt"),Ca=Object(pa.a)("sugar"),Ia=Object(pa.a)("fiber"),Ea=Object(pa.a)("content"),Ma=Object(pa.a)("image"),Ya=Object(pa.a)("data"),Pa=function(){function e(t){Object(T.a)(this,e),Object.defineProperty(this,ma,{writable:!0,value:null}),Object.defineProperty(this,Oa,{writable:!0,value:""}),Object.defineProperty(this,xa,{writable:!0,value:""}),Object.defineProperty(this,va,{writable:!0,value:""}),Object.defineProperty(this,ga,{writable:!0,value:""}),Object.defineProperty(this,ya,{writable:!0,value:""}),Object.defineProperty(this,wa,{writable:!0,value:""}),Object.defineProperty(this,ka,{writable:!0,value:0}),Object.defineProperty(this,_a,{writable:!0,value:0}),Object.defineProperty(this,Na,{writable:!0,value:0}),Object.defineProperty(this,Sa,{writable:!0,value:0}),Object.defineProperty(this,Ca,{writable:!0,value:0}),Object.defineProperty(this,Ia,{writable:!0,value:0}),Object.defineProperty(this,Ea,{writable:!0,value:""}),Object.defineProperty(this,Ma,{writable:!0,value:""}),Object.defineProperty(this,Ya,{writable:!0,value:null}),void 0!==t&&null!==t&&(Object(ba.a)(this,Ya)[Ya]=t,Object(ba.a)(this,ma)[ma]=t.raw_material_id,Object(ba.a)(this,Oa)[Oa]=t.material_name,Object(ba.a)(this,xa)[xa]=t.company,Object(ba.a)(this,va)[va]=t.country,Object(ba.a)(this,ga)[ga]=t.unit,Object(ba.a)(this,ya)[ya]=t.form,Object(ba.a)(this,wa)[wa]=t.location,Object(ba.a)(this,ka)[ka]=t.fat,Object(ba.a)(this,_a)[_a]=t.carbohydrate,Object(ba.a)(this,Na)[Na]=t.protein,Object(ba.a)(this,Sa)[Sa]=t.salt,Object(ba.a)(this,Ca)[Ca]=t.sugar,Object(ba.a)(this,Ia)[Ia]=t.fiber,Object(ba.a)(this,Ea)[Ea]=t.content,Object(ba.a)(this,Ma)[Ma]=t.image)}return Object(ja.a)(e,[{key:"toJsonObject",value:function(){return{id:Object(ba.a)(this,ma)[ma],name:Object(ba.a)(this,Oa)[Oa],company:Object(ba.a)(this,xa)[xa],country:Object(ba.a)(this,va)[va],unit:Object(ba.a)(this,ga)[ga],form:Object(ba.a)(this,ya)[ya],location:Object(ba.a)(this,wa)[wa],fat:Object(ba.a)(this,ka)[ka],carb:Object(ba.a)(this,_a)[_a],protein:Object(ba.a)(this,Na)[Na],salt:Object(ba.a)(this,Sa)[Sa],sugar:Object(ba.a)(this,Ca)[Ca],fiber:Object(ba.a)(this,Ia)[Ia],content:Object(ba.a)(this,Ea)[Ea],image:this.image}}},{key:"id",get:function(){return Object(ba.a)(this,ma)[ma]},set:function(e){return this.propTypes={input:ha.a.number},e>=0&&(Object(ba.a)(this,ma)[ma]=e),this}},{key:"name",get:function(){return Object(ba.a)(this,Oa)[Oa]},set:function(e){return this.propTypes={input:ha.a.string},ea(e,Object(ba.a)(this,Oa)[Oa])&&(Object(ba.a)(this,Oa)[Oa]=e),this}},{key:"brand",get:function(){return Object(ba.a)(this,xa)[xa]},set:function(e){return this.propTypes={input:ha.a.string},ea(e,Object(ba.a)(this,xa)[xa])&&(Object(ba.a)(this,xa)[xa]=e),this}},{key:"country",get:function(){return Object(ba.a)(this,va)[va]},set:function(e){return this.propTypes={props:ha.a.string},ea(e,Object(ba.a)(this,va)[va])&&(Object(ba.a)(this,va)[va]=e),this}},{key:"unit",get:function(){return Object(ba.a)(this,ga)[ga]},set:function(e){return this.propTypes={input:ha.a.string},ea(e,Object(ba.a)(this,ga)[ga])&&(Object(ba.a)(this,ga)[ga]=e),this}},{key:"form",get:function(){return Object(ba.a)(this,ya)[ya]},set:function(e){return this.propTypes={input:ha.a.string},ea(e,Object(ba.a)(this,ya)[ya])&&(Object(ba.a)(this,ya)[ya]=e),this}},{key:"location",get:function(){return Object(ba.a)(this,wa)[wa]},set:function(e){return this.propTypes={input:ha.a.string},ea(e,Object(ba.a)(this,wa)[wa])&&(Object(ba.a)(this,wa)[wa]=e),this}},{key:"fat",get:function(){return Object(ba.a)(this,ka)[ka]},set:function(e){return this.propTypes={input:ha.a.number},aa(e,Object(ba.a)(this,ka)[ka])&&(Object(ba.a)(this,ka)[ka]=e),this}},{key:"carb",get:function(){return Object(ba.a)(this,_a)[_a]},set:function(e){return this.propTypes={input:ha.a.number},aa(e,Object(ba.a)(this,_a)[_a])&&(Object(ba.a)(this,_a)[_a]=e),this}},{key:"protein",get:function(){return Object(ba.a)(this,Na)[Na]},set:function(e){return this.propTypes={input:ha.a.number},aa(e,Object(ba.a)(this,Na)[Na])&&(Object(ba.a)(this,Na)[Na]=e),this}},{key:"salt",get:function(){return Object(ba.a)(this,Sa)[Sa]},set:function(e){return this.propTypes={input:ha.a.number},aa(e,Object(ba.a)(this,Sa)[Sa])&&(Object(ba.a)(this,Sa)[Sa]=e),this}},{key:"sugar",get:function(){return Object(ba.a)(this,Ca)[Ca]},set:function(e){return this.propTypes={input:ha.a.number},aa(e,Object(ba.a)(this,Ca)[Ca])&&(Object(ba.a)(this,Ca)[Ca]=e),this}},{key:"fiber",get:function(){return Object(ba.a)(this,Ia)[Ia]},set:function(e){return this.propTypes={input:ha.a.number},aa(e,Object(ba.a)(this,Ia)[Ia])&&(Object(ba.a)(this,Ia)[Ia]=e),this}},{key:"content",get:function(){return Object(ba.a)(this,Ea)[Ea]},set:function(e){return this.propTypes={input:ha.a.string},ea(e,Object(ba.a)(this,Ea)[Ea])&&(Object(ba.a)(this,Ea)[Ea]=e),this}},{key:"image",get:function(){return Object(ba.a)(this,Ma)[Ma]},set:function(e){return this.propTypes={input:ha.a.setImage},ta(e,Object(ba.a)(this,Ma)[Ma])&&(Object(ba.a)(this,Ma)[Ma]=e),this}},{key:"data",get:function(){return Object(ba.a)(this,Ya)[Ya]}}]),e}();Pa.propTypes={name:ha.a.string,brand:ha.a.string,country:ha.a.string,unit:ha.a.string,form:ha.a.string,location:ha.a.string,fat:ha.a.number,carb:ha.a.number,protein:ha.a.number,salt:ha.a.number,fiber:ha.a.number,content:ha.a.string,image:ha.a.string};var Da=Pa,Ta=a(402),La=a(222),Fa=a(152),Aa=a.n(Fa),Ra=(a(362),function e(t){return e.propTypes={array:ha.a.array},t.forEach((function(e){return console.log(e)})),t.sort((function(e,t){return e.name.localeCompare(t.name)}))}),za=Ot.a.Link,Ba=Ot.a.Text,Ua=function(e){var t=e.visible,a=e.close,n=e.sendChangesToParent,r=Object(v.useState)([]),c=Object(p.a)(r,2),s=c[0],i=c[1],o=Object(v.useState)([]),u=Object(p.a)(o,2),l=u[0],d=u[1],j=Object(v.useState)(""),b=Object(p.a)(j,2),f=b[0],h=b[1],m=Object(v.useState)(""),O=Object(p.a)(m,2),x=O[0],g=O[1],y=Object(v.useState)({}),w=Object(p.a)(y,2),k=w[0],_=w[1];Object(v.useEffect)((function(){Ue.brands.fetchAllCompanies().then((function(e){i(e),d(e)}))}),[]);var N=function(e){return k[e]?Object(S.jsx)(D,{component:Object(S.jsx)(Mt.a,{required:!0,className:"input-text",defaultValue:"".concat(e),onPressEnter:function(t){E(e,t.target.value),_(Object(ca.a)({},e,!k[e]))}}),text:"Press Enter to save brand",trigger:"focus"}):Object(S.jsx)(Ba,{children:e})},C=function(){if(""===x)L.b.warning("Please enter a brand name.");else if(function(){for(var e=0;e<s.length;e++)if(s[e].name.toLowerCase()===x.toLowerCase())return!0;return!1}())L.b.warning("The brand already exists.");else{var e=s.concat([{value:x,name:x}]),t=Ra(e);i(t),d(t),n(t),Ue.brands.addCompany(x)}},I=function(e){var t=s.filter((function(t){return t.name.toLowerCase()!==e.toLowerCase()}));i(t),d(t),n(t),Ue.brands.deleteCompany(e)},E=function(e,t){e!==t&&(s.forEach((function(a){a.name===e&&(a.name=t,a.value=t)})),d(s),n(s),Ue.brands.updateCompany(e,t))};return Object(S.jsx)(Ht.a,{width:"760px",centered:!0,visible:t,onCancel:a,onOk:a,maskClosable:!1,footer:[Object(S.jsx)(M.a,{type:"primary",onClick:a,children:"Close"},"submit")],children:Object(S.jsxs)("section",{className:"EditBrands",children:[Object(S.jsx)("section",{className:"header",children:Object(S.jsx)("h1",{children:"Edit Brands"})}),Object(S.jsxs)("section",{className:"body",children:[Object(S.jsxs)("div",{className:"options",children:[Object(S.jsx)(Mt.a,{onChange:function(e){return function(e){h(e);var t=l.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));i(t)}(e.target.value)},value:f,size:"large",className:"input-text",placeholder:"Search for a brand name...",allowClear:!0,enterbutton:"true"}),Object(S.jsx)(La.a,{trigger:"click",placement:"bottom",content:function(){return Object(S.jsxs)("div",{className:"popover",children:[Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{children:"Add a new brand"}),Object(S.jsx)(Mt.a,{value:x,allowClear:!0,className:"input-text",onChange:function(e){return g(e.target.value)},placeholder:"Type a new brand name...",onPressEnter:C})]}),Object(S.jsx)("div",{className:"button",children:Object(S.jsx)(M.a,{type:"primary",onClick:C,children:"Add"})})]})},children:Object(S.jsx)(M.a,{type:"primary",style:{height:"100%",borderRadius:"12px"},size:"large",children:"Add a new Brand"})})]}),Object(S.jsx)("div",{className:"list",children:Object(S.jsx)(Aa.a,{initialLoad:!1,loadMore:function(){return console.log("infinite scroll")},useWindow:!1,children:Object(S.jsx)(Ta.b,{size:"large",dataSource:Object(da.sortBy)("company.company",s||[]),renderItem:function(e){return Object(S.jsx)(Ta.b.Item,{className:"row",actions:[Object(S.jsx)(za,{onClick:function(){_(Object(ca.a)({},e.name,!k[e.name]))},type:"primary",children:k[e.name]?"Close":"Edit"}),Object(S.jsx)(qe.a,{title:"Are you sure to delete this brand?\nThis brand will be deleted from all raw materials who uses it",onConfirm:function(){return I(e.name)},children:Object(S.jsx)(za,{type:"danger",children:"Delete"})})],children:Object(S.jsx)(Ta.b.Item.Meta,{className:"item",description:N(e.name)})})},rowKey:"company"})})})]})]})})},Ka=Ot.a.Link,qa=Ot.a.Text,Va=function(e){var t=e.visible,a=e.close,n=e.sendChangesToParent,r=Object(v.useState)([]),c=Object(p.a)(r,2),s=c[0],i=c[1],o=Object(v.useState)([]),u=Object(p.a)(o,2),l=u[0],d=u[1],j=Object(v.useState)(""),b=Object(p.a)(j,2),f=b[0],h=b[1],m=Object(v.useState)(""),O=Object(p.a)(m,2),x=O[0],g=O[1],y=Object(v.useState)({}),w=Object(p.a)(y,2),k=w[0],_=w[1];Object(v.useEffect)((function(){Ue.locations.fetchLocations().then((function(e){i(e),d(e)}))}),[]);var N=function(e){var t=s.filter((function(t){return t.name.toLowerCase()!==e.toLowerCase()}));i(t),d(t),n(t),Ue.locations.deleteLocation(e)},C=function(e){return k[e]?Object(S.jsx)(D,{component:Object(S.jsx)(Mt.a,{required:!0,className:"input-text",defaultValue:"".concat(e),onPressEnter:function(t){!function(e,t){e!==t&&(s.forEach((function(a){a.name===e&&(a.name=t,a.value=t)})),d(s),n(s),Ue.locations.updateLocation(e,t))}(e,t.target.value),_(Object(ca.a)({},e,!k[e]))}}),text:"Press Enter to save brand",trigger:"focus"}):Object(S.jsx)(qa,{children:e})},I=function(){if(""===f)L.b.warning("Please enter a brand name.");else if(function(){for(var e=0;e<s.length;e++)if(s[e].name.toLowerCase()===f.toLowerCase())return!0;return!1}())L.b.warning("The brand already exists.");else{var e=s.concat([{value:f,name:f}]),t=Ra(e);i(t),d(t),n(t),Ue.locations.addLocation(f)}};return Object(S.jsx)(Ht.a,{width:"760px",centered:!0,visible:t,onCancel:a,onOk:a,maskClosable:!1,footer:[Object(S.jsx)(M.a,{type:"primary",onClick:a,children:"Close"},"submit")],children:Object(S.jsxs)("section",{className:"EditBrands",children:[Object(S.jsx)("section",{className:"header",children:Object(S.jsx)("h1",{children:"Edit Stored Locations"})}),Object(S.jsxs)("section",{className:"body",children:[Object(S.jsxs)("div",{className:"options",children:[Object(S.jsx)(Mt.a,{onChange:function(e){return function(e){g(e);var t=l.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));i(t)}(e.target.value)},value:x,size:"large",className:"input-text",placeholder:"searchField for a location name...",allowClear:!0,enterbutton:"true"}),Object(S.jsx)(La.a,{trigger:"click",placement:"bottom",content:function(){return Object(S.jsxs)("div",{className:"popover",children:[Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{children:"Add a new stored location"}),Object(S.jsx)(Mt.a,{value:f,allowClear:!0,className:"input-text",onChange:function(e){return h(e.target.value)},placeholder:"Type a new stored location...",onPressEnter:I})]}),Object(S.jsx)("div",{className:"button",children:Object(S.jsx)(M.a,{type:"primary",onClick:I,children:"Add"})})]})},children:Object(S.jsx)(M.a,{type:"primary",style:{height:"100%",borderRadius:"12px"},size:"large",children:"Add a new Stored Location"})})]}),Object(S.jsx)("div",{className:"list",children:Object(S.jsx)(Aa.a,{initialLoad:!1,loadMore:function(){return console.log("infinite scroll")},useWindow:!1,children:Object(S.jsx)(Ta.b,{size:"large",dataSource:Object(da.sortBy)("location.location",s||[]),renderItem:function(e){return Object(S.jsx)(Ta.b.Item,{className:"row",actions:[Object(S.jsx)(Ka,{onClick:function(){_(Object(ca.a)({},e.name,!k[e.name]))},type:"primary",children:k[e.name]?"Close":"Edit"}),Object(S.jsx)(qe.a,{title:"Are you sure to delete this stored location?\nThis stored location will be deleted from all raw materials who uses it",onConfirm:function(){return N(e.name)},children:Object(S.jsx)(Ka,{type:"danger",children:"Delete"})})],children:Object(S.jsx)(Ta.b.Item.Meta,{className:"item",description:C(e.name)})})},rowKey:"location"})})})]})]})})},Ja=a(393),Wa=a(417),Ga=function(e){var t=e.handleImage,a=e.imageURL;return Object(S.jsx)(Ja.a,{maxCount:1,defaultFileList:function(){return""===a?[]:[{url:a}]},listType:"picture-card",onChange:function(e){"done"===e.file.status?L.b.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&L.b.error("".concat(e.file.name," file upload failed."))},customRequest:function(e){var a=e.onSuccess,n=e.onError,r=e.file;setTimeout((function(){try{!function(e){var t="image/jpeg"===e.type||"image/png"===e.type||"image/jpg"===e.type;t||L.b.error("You can only upload JPG/PNG file!");var a=e.size<7e6;return a||L.b.error("Image must smaller than 7MB!"),t&&a}(r)?n():(a(null,r),t(r))}catch(e){console.log(e),n()}}),1)},onRemove:function(e){t(null),console.log("Dropped files",e)},children:Object(S.jsxs)("div",{style:{display:"flex",flexDirection:"column",rowGap:"8px"},children:[Object(S.jsx)(Wa.a,{}),"Upload ",Object(S.jsx)("br",{}),"Image"]})})},Ha=[{value:"g",name:"g"},{value:"units",name:"units"}],Qa=Mt.a.TextArea,Xa=function(e){var t=e.visible,a=e.data,n=e.sendChangesToParent,r=e.deleteRawMaterial,c=oa().closeEdit,s=Object(v.useState)(!1),i=Object(p.a)(s,2),o=i[0],u=i[1],l=Object(v.useState)(!1),d=Object(p.a)(l,2),j=d[0],b=(d[1],Object(v.useState)([])),f=Object(p.a)(b,2),h=f[0],m=f[1],g=Object(v.useState)([]),y=Object(p.a)(g,2),w=y[0],k=y[1],_=Object(v.useState)([]),N=Object(p.a)(_,2),C=N[0],I=N[1],E=Object(v.useState)([]),Y=Object(p.a)(E,2),P=Y[0],D=Y[1],T=Object(v.useState)(),F=Object(p.a)(T,2),A=F[0],R=F[1],z=Object(v.useState)(""),B=Object(p.a)(z,2),U=B[0],K=B[1],q=Object(v.useState)(""),V=Object(p.a)(q,2),J=V[0],W=V[1],G=Object(v.useState)(""),H=Object(p.a)(G,2),Q=H[0],X=H[1],Z=Object(v.useState)(""),$=Object(p.a)(Z,2),ee=$[0],te=$[1],ae=Object(v.useState)(""),ne=Object(p.a)(ae,2),re=ne[0],ce=ne[1],se=Object(v.useState)(""),ie=Object(p.a)(se,2),oe=ie[0],ue=ie[1],le=Object(v.useState)(0),de=Object(p.a)(le,2),je=de[0],be=de[1],pe=Object(v.useState)(0),fe=Object(p.a)(pe,2),he=fe[0],me=fe[1],Oe=Object(v.useState)(0),xe=Object(p.a)(Oe,2),ve=xe[0],ge=xe[1],ye=Object(v.useState)(0),we=Object(p.a)(ye,2),ke=we[0],_e=we[1],Ne=Object(v.useState)(0),Se=Object(p.a)(Ne,2),Ce=Se[0],Ie=Se[1],Ee=Object(v.useState)(0),Me=Object(p.a)(Ee,2),Ye=Me[0],Pe=Me[1],De=Object(v.useState)(""),Te=Object(p.a)(De,2),Le=Te[0],Fe=Te[1],Ae=Object(v.useState)(),Re=Object(p.a)(Ae,2),ze=Re[0],Be=Re[1],Ke=Object(v.useState)(),Ve=Object(p.a)(Ke,2),Je=Ve[0],We=Ve[1],Ge=Object(v.useState)(""),He=Object(p.a)(Ge,2),Qe=He[0],Xe=He[1],Ze=Object(v.useState)(null),$e=Object(p.a)(Ze,2),et=$e[0],tt=$e[1];Object(v.useEffect)((function(){Ue.brands.fetchAllCompanies().then((function(e){return m(e)})),Ue.brands.fetchAllCountries().then((function(e){return k(e)})),Ue.locations.fetchLocations().then((function(e){return D(e)})),Ue.materialforms.fetchForms().then((function(e){return I(e)})),null!=a&&(R(a.raw_material_id),K(a.material_name),W(a.company),X(a.country),te(a.unit),ce(a.form),ue(a.location),be(a.fat),me(a.carbohydrate),ge(a.protein),_e(a.salt),Ie(a.sugar),Pe(a.fiber),Fe(a.content),tt(a.image),Be(new Da(a)),We(new Da(a)))}),[a]);var at=function(e,t){return void 0!==e.find((function(e){return e.name===t}))},nt=function(){return""===U||null===U?(L.b.error("Please type a material name!"),!1):at(h,J)?at(w,Q)?!!at(P,oe)||(L.b.error("Please select a storage location"),!1):(L.b.error("Please select a country from the list!"),!1):(L.b.error("Please select a brand from the list!"),!1)},rt=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ze.name=U,ze.brand=J,ze.country=Q,ze.unit=ee,ze.location=oe,ze.form=re,ze.fat=je,ze.protein=ve,ze.salt=ke,ze.carb=he,ze.sugar=Ce,ze.fiber=Ye,ze.content=Le,e.next=15,ct().then((function(){Object(da.isEqual)(ze.toJsonObject(),Je.toJsonObject())?L.b.success("No changes made."):(Ue.rawMaterial.editMaterial(a.raw_material_id,ze.toJsonObject()),n(ze),L.b.success("Successfully edited raw material.")),c(t,A)}));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ct=function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==Qe){e.next=4;break}return e.abrupt("return");case 4:if(null===Qe||""!==ze.image){e.next=9;break}return e.next=7,Ue.rawMaterial.uploadImage(Qe,A).then((function(e){console.log("uploading picture"),ze.image=e}));case 7:e.next=17;break;case 9:if(null===Qe||""===ze.image){e.next=14;break}return e.next=12,Ue.rawMaterial.updateImage(Qe,A).then((function(e){console.log("updating picture"),ze.image=e}));case 12:e.next=17;break;case 14:if(null!==Qe||""===ze.image){e.next=17;break}return e.next=17,Ue.rawMaterial.deleteImage(A).then((function(){console.log("deleting picture"),ze.image=""}));case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsx)(Ht.a,{maskClosable:!1,centered:!0,visible:t,onCancel:function(e){return c(e,A)},width:"950px",footer:[Object(S.jsxs)("section",{className:"edit-raw-material-footer",children:[Object(S.jsx)("div",{children:Object(S.jsx)(qe.a,{title:"Are you sure?",okType:"danger",okText:"Delete",onConfirm:function(e){return r(e,A)},children:Object(S.jsx)(M.a,{type:"danger",children:"Delete"})})}),Object(S.jsxs)("div",{children:[Object(S.jsx)(M.a,{onClick:function(e){return c(e,A)},children:"Cancel"},"submit"),Object(S.jsx)(M.a,{type:"primary",onClick:function(e){nt()&&rt(e)},children:"OK"},"submit")]})]})],children:Object(S.jsx)(Et.a,{onFinishFailed:function(e){console.log("Failed:",e),L.b.success("Failed editing raw material")},initialValues:{name:U,brand:J,country:Q},children:Object(S.jsxs)("section",{className:"EditRawMaterial",children:[Object(S.jsxs)("section",{className:"GeneralInformation",children:[Object(S.jsxs)("h1",{children:["Edit ",U]}),Object(S.jsxs)("div",{className:"rows",children:[Object(S.jsxs)("div",{className:"image-general-information",children:[Object(S.jsxs)("div",{className:"column-wrapper",children:[Object(S.jsx)("div",{className:"column-1",children:Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Material Name"}),Object(S.jsx)(Et.a.Item,{name:"name",rules:[{required:!0,message:"Please input material name!"}],children:Object(S.jsx)(Mt.a,{className:"input-text",onChange:function(e){return e.target.value!==U&&K(e.target.value)},value:U,placeholder:"Enter material name...",required:!0})})]})}),Object(S.jsxs)("div",{className:"column-2",children:[Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Brand"}),Object(S.jsxs)("div",{className:"field-add-wrapper",children:[Object(S.jsx)(Et.a.Item,{name:"brand",rules:[{required:!0,message:"Please select a brand!"}],children:Object(S.jsx)(Ft.a,{options:h,filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())},onChange:function(e){return W(e)},value:J,children:Object(S.jsx)(Mt.a,{allowClear:!0,className:"input-text",placeholder:"Select a brand...",suffix:Object(S.jsx)(At.a,{style:{fontSize:"1rem"}})})})}),Object(S.jsxs)(M.a,{className:"button",onClick:function(){return u(!0)},children:[Object(S.jsx)($t.a,{}),Object(S.jsx)(Ua,{visible:o,close:function(e){e.stopPropagation(),u(!1)},sendChangesToParent:function(e){m(e)}})]})]})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Country"}),Object(S.jsx)(Et.a.Item,{name:"country",rules:[{required:!0,message:"Please select a country!"}],children:Object(S.jsx)(Ft.a,{options:w,filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())},onChange:function(e){return e!==Q&&X(e)},value:Q,children:Object(S.jsx)(Mt.a,{allowClear:!0,className:"input-text",placeholder:"Choose a country...",suffix:Object(S.jsx)(At.a,{style:{fontSize:"1rem"}})})})})]})]})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Image"}),Object(S.jsx)(Ga,{handleImage:function(e){console.log("reached"),Xe(e||null)},imageURL:et})]})]}),Object(S.jsxs)("div",{className:"column-3",children:[Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Unit"}),Object(S.jsx)(zt.a,{options:Ha,onChange:function(e){return e!==ee&&te(e)},value:ee})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Material Form"}),Object(S.jsx)(zt.a,{options:C,placeholder:"Select here...",onChange:function(e){return e!==re&&ce(e)},value:re})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Stored Location"}),Object(S.jsxs)("div",{className:"field-add-wrapper",children:[Object(S.jsx)(zt.a,{options:P,value:oe,placeholder:"Select here...",onChange:function(e){return e!==oe&&ue(e)}}),Object(S.jsxs)(M.a,{className:"button",onClick:function(){return u(!0)},children:[Object(S.jsx)($t.a,{}),Object(S.jsx)(Va,{visible:j,close:function(e){e.stopPropagation(),u(!1)},sendChangesToParent:function(e){D(e)}})]})]})]})]})]})]}),Object(S.jsxs)("section",{className:"NuitritionalFacts",children:[Object(S.jsx)("h2",{children:"Nuitritional Facts (per 100g)"}),Object(S.jsxs)("div",{className:"rows",children:[Object(S.jsxs)("div",{className:"column-4",children:[Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Fat"}),Object(S.jsx)(la,{value:je,onChange:function(e){return e!==je&&be(e)}})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Carbohydrate"}),Object(S.jsx)(la,{value:he,onChange:function(e){return me(e)}})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Protein"}),Object(S.jsx)(la,{value:ve,onChange:function(e){return ge(e)}})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Salt"}),Object(S.jsx)(la,{value:ke,onChange:function(e){return _e(e)}})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Sugar"}),Object(S.jsx)(la,{value:Ce,onChange:function(e){return Ie(e)}})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Fiber"}),Object(S.jsx)(la,{value:Ye,onChange:function(e){return Pe(e)}})]})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Content"}),Object(S.jsx)(Qa,{className:"input-text",placeholder:"Write the content of the raw material...",autoSize:{minRows:3},value:Le,onChange:function(e){return Fe(e.target.value)}})]})]})]})]})})})},Za=(a(363),[{value:"g",name:"g"},{value:"units",name:"units"}]),$a=Mt.a.TextArea,en=function(e){var t=e.visible,a=e.close,n=e.sendChangesToParent,r=Object(b.g)(),c=Object(v.useState)(!1),s=Object(p.a)(c,2),i=s[0],o=s[1],u=Object(v.useState)(!1),l=Object(p.a)(u,2),d=l[0],j=l[1],f=Object(v.useState)([]),h=Object(p.a)(f,2),m=h[0],g=h[1],y=Object(v.useState)([]),w=Object(p.a)(y,2),k=w[0],_=w[1],N=Object(v.useState)([]),C=Object(p.a)(N,2),I=C[0],E=C[1],Y=Object(v.useState)([]),P=Object(p.a)(Y,2),D=P[0],T=P[1],F=Object(v.useState)(""),A=Object(p.a)(F,2),R=A[0],z=A[1],B=Object(v.useState)(""),U=Object(p.a)(B,2),K=U[0],q=U[1],V=Object(v.useState)(""),J=Object(p.a)(V,2),W=J[0],G=J[1],H=Object(v.useState)("g"),Q=Object(p.a)(H,2),X=Q[0],Z=Q[1],$=Object(v.useState)("Liquid"),ee=Object(p.a)($,2),te=ee[0],ae=ee[1],ne=Object(v.useState)("Ambient"),re=Object(p.a)(ne,2),ce=re[0],se=re[1],ie=Object(v.useState)(0),oe=Object(p.a)(ie,2),ue=oe[0],le=oe[1],de=Object(v.useState)(0),je=Object(p.a)(de,2),be=je[0],pe=je[1],fe=Object(v.useState)(0),he=Object(p.a)(fe,2),me=he[0],Oe=he[1],xe=Object(v.useState)(0),ve=Object(p.a)(xe,2),ge=ve[0],ye=ve[1],we=Object(v.useState)(0),ke=Object(p.a)(we,2),_e=ke[0],Ne=ke[1],Se=Object(v.useState)(0),Ce=Object(p.a)(Se,2),Ie=Ce[0],Ee=Ce[1],Me=Object(v.useState)(""),Ye=Object(p.a)(Me,2),Pe=Ye[0],De=Ye[1],Te=Object(v.useState)(),Le=Object(p.a)(Te,2),Fe=Le[0],Ae=Le[1],Re=Object(v.useState)(),ze=Object(p.a)(Re,2),Be=ze[0],Ke=ze[1];Object(v.useEffect)((function(){Ue.brands.fetchAllCompanies().then((function(e){return g(e)})),Ue.brands.fetchAllCountries().then((function(e){return _(e)})),Ue.locations.fetchLocations().then((function(e){return T(e)})),Ue.materialforms.fetchForms().then((function(e){return E(e)})),Ae(new Da)}),[]);var qe=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ve()&&We(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ve=function(){return""===R||null===R?(L.b.warning("Please type a material name!"),!1):Je(m,K)?Je(k,W)?!!Je(D,ce)||(L.b.warning("Please select a storage location"),!1):(L.b.warning("Please select a country from the list!"),!1):(L.b.warning("Please select a brand from the list!"),!1)},Je=function(e,t){return void 0!==e.find((function(e){return e.name===t}))},We=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fe.name=R,Fe.brand=K,Fe.country=W,Fe.unit=X,Fe.location=ce,Fe.form=te,Fe.fat=ue,Fe.protein=me,Fe.salt=ge,Fe.carb=be,Fe.sugar=_e,Fe.fiber=Ie,Fe.content=Pe,e.next=15,He().then(function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("failed"===t){e.next=3;break}return e.next=3,Ge().then((function(){n(Fe),r.push("/inventory/rawmaterial/".concat(Fe.id))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:a(t);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===Be||null===Be||""===Be){e.next=3;break}return e.next=3,Ue.rawMaterial.uploadImage(Be,Fe.id).then((function(e){console.log("uploading picture"),console.log(e),Fe.image=e}));case 3:return e.abrupt("return");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),He=function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue.rawMaterial.createRawMaterial(Fe.toJsonObject()).then((function(e){Fe.id=e,console.log(e)}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsx)(Ht.a,{maskClosable:!1,centered:!0,visible:t,onCancel:function(e){return a(e)},width:"950px",footer:[Object(S.jsx)(M.a,{onClick:function(e){return a(e)},children:"Cancel"},"submit"),Object(S.jsx)(M.a,{onClick:qe,type:"primary",children:"OK"},"submit")],children:Object(S.jsx)(Et.a,{onFinish:function(e){console.log("Success:",e),L.b.success("Succesfully edited raw material")},onFinishFailed:function(e){console.log("Failed:",e),L.b.success("Failed editing raw material")},initialValues:{name:R,brand:K,country:W},children:Object(S.jsxs)("section",{className:"CreateRawMaterial",children:[Object(S.jsxs)("section",{className:"GeneralInformation",children:[Object(S.jsx)("h1",{children:"Add a Raw Material"}),Object(S.jsxs)("div",{className:"rows",children:[Object(S.jsxs)("div",{className:"image-general-information",children:[Object(S.jsxs)("div",{className:"column-wrapper",children:[Object(S.jsx)("div",{className:"column-1",children:Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Material Name"}),Object(S.jsx)(Et.a.Item,{name:"name",rules:[{required:!0,message:"Please input material name!"}],children:Object(S.jsx)(Mt.a,{className:"input-text",onChange:function(e){return e.target.value!==R&&z(e.target.value)},value:R,placeholder:"Enter material name...",required:!0})})]})}),Object(S.jsxs)("div",{className:"column-2",children:[Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Brand"}),Object(S.jsxs)("div",{className:"field-add-wrapper",children:[Object(S.jsx)(Et.a.Item,{name:"brand",rules:[{required:!0,message:"Please choose a brand!"}],children:Object(S.jsx)(Ft.a,{options:m,filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())},onChange:function(e){return q(e)},value:K,children:Object(S.jsx)(Mt.a,{allowClear:!0,className:"input-text",placeholder:"Select a brand...",suffix:Object(S.jsx)(At.a,{style:{fontSize:"1rem"}})})})}),Object(S.jsxs)(M.a,{className:"button",onClick:function(){return o(!0)},children:[Object(S.jsx)($t.a,{}),Object(S.jsx)(Ua,{visible:i,close:function(e){e.stopPropagation(),o(!1)},sendChangesToParent:function(e){g(e)}})]})]})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Country"}),Object(S.jsx)(Et.a.Item,{name:"country",rules:[{required:!0,message:"Please choose a country!"}],children:Object(S.jsx)(Ft.a,{options:k,filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())},onChange:function(e){return e!==W&&G(e)},value:W,children:Object(S.jsx)(Mt.a,{allowClear:!0,className:"input-text",placeholder:"Choose a country...",suffix:Object(S.jsx)(At.a,{style:{fontSize:"1rem"}})})})})]})]})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Image"}),Object(S.jsx)(Ga,{handleImage:function(e){Ke(e||null)},imageURL:""})]})]}),Object(S.jsxs)("div",{className:"column-3",children:[Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Unit"}),Object(S.jsx)(zt.a,{options:Za,placeholder:"Select here...",onChange:function(e){return e!==X&&Z(e)},value:X})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Material Form"}),Object(S.jsx)(zt.a,{options:I,placeholder:"Select here...",onChange:function(e){return e!==te&&ae(e)},value:te})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Stored Location"}),Object(S.jsxs)("div",{className:"field-add-wrapper",children:[Object(S.jsx)(zt.a,{options:D,value:ce,placeholder:"Select here...",onChange:function(e){return e!==ce&&se(e)}}),Object(S.jsxs)(M.a,{className:"button",onClick:function(){return j(!0)},children:[Object(S.jsx)($t.a,{}),Object(S.jsx)(Va,{visible:d,close:function(e){e.stopPropagation(),j(!1)},sendChangesToParent:function(e){T(e)}})]})]})]})]})]})]}),Object(S.jsxs)("section",{className:"NuitritionalFacts",children:[Object(S.jsx)("h2",{children:"Nuitritional Facts (per 100g)"}),Object(S.jsxs)("div",{className:"rows",children:[Object(S.jsxs)("div",{className:"column-4",children:[Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Fat"}),Object(S.jsx)(la,{value:ue,onChange:function(e){return e!==ue&&le(e)}})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Carbohydrate"}),Object(S.jsx)(la,{value:be,onChange:function(e){return pe(e)}})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Protein"}),Object(S.jsx)(la,{value:me,onChange:function(e){return Oe(e)}})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Salt"}),Object(S.jsx)(la,{value:ge,onChange:function(e){return ye(e)}})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Sugar"}),Object(S.jsx)(la,{value:_e,onChange:function(e){return Ne(e)}})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Fiber"}),Object(S.jsx)(la,{value:Ie,onChange:function(e){return Ee(e)}})]})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Content"}),Object(S.jsx)($a,{className:"input-text",placeholder:"Write the content of the raw material...",autoSize:{minRows:3},value:Pe,onChange:function(e){return De(e.target.value)}})]})]})]})]})})})},tn=function(e){var t=e.rowSelection,a=Ot.a.Text,n=Mt.a.Search,r=Object(v.useState)([]),c=Object(p.a)(r,2),s=c[0],i=c[1],o=Object(v.useState)([]),u=Object(p.a)(o,2),l=u[0],d=u[1],j=Object(v.useState)(""),b=Object(p.a)(j,2),f=b[0],h=b[1],m=Object(v.useState)(!0),g=Object(p.a)(m,2),w=g[0],_=g[1],E=Object(v.useState)(0),P=Object(p.a)(E,2),T=P[0],L=P[1],F=Object(v.useState)(!1),A=Object(p.a)(F,2),R=A[0],z=A[1],B=Object(v.useState)(!1),U=Object(p.a)(B,2),K=U[0],q=U[1],V=Object(v.useState)([]),J=Object(p.a)(V,2),W=J[0],G=(J[1],Object(v.useState)(0)),H=Object(p.a)(G,2),Q=H[0],X=H[1],Z=Object(v.useState)(!0),$=Object(p.a)(Z,2),ee=$[0],te=$[1];Object(v.useEffect)((function(){(function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue.rawMaterial.fetchAll().then((function(e){i(e),d(e),X(e.length),ee&&(e.forEach((function(e){W.push({value:e.material_name,name:e.id})})),te(!1))}));case 2:e.sent instanceof Error||_(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[W]);var ae=function(){d(s),h(""),L(0),X(s.length)},ne=oa(),re=ne.openEdit,ce=ne.editVisible,se=ne.closeEdit,ie=Object(v.useState)(null),oe=Object(p.a)(ie,2),ue=oe[0],le=oe[1],de=function(e){var t=l.findIndex((function(t){return t.raw_material_id===e.data.raw_material_id}));l[t].material_name=e.name,l[t].country=e.country,l[t].company=e.brand,l[t].location=e.location,l[t].form=e.form},je=function(e,t){se(e);var a=l.filter((function(e){return e.raw_material_id!==t}));d(a),i(a),Ue.rawMaterial.disableRawMaterial(t).then((function(e){console.log(e)}))},be=[{title:"raw_material_id",dataIndex:"raw_material_id",key:"raw_material_id"},{title:"Item name",dataIndex:"material_name",key:"material_name",render:function(e,t){return Object(S.jsx)(y.b,{to:"/inventory/rawmaterial/"+t.raw_material_id,children:e})},sorter:function(e,t){return e.material_name.localeCompare(t.material_name)}},{title:"Brand",dataIndex:"company",key:"company",sorter:function(e,t){return e.company.localeCompare(t.company)}},{title:"Country",dataIndex:"country",key:"country",sorter:function(e,t){return e.country.localeCompare(t.country)}},{title:"Form",dataIndex:"form",key:"form",sorter:function(e,t){return e.form.localeCompare(t.form)}},{title:"Amount (g/unit)",dataIndex:"total_amount",key:"total_amount",sorter:function(e,t){return e.total_amount-t.total_amount}},{title:"Unit",dataIndex:"unit",key:"unit"},{title:"Location",dataIndex:"location",key:"location",sorter:function(e,t){return e.location.localeCompare(t.location)}},{title:"Expiration Date",dataIndex:"expiration_date",key:"expiration_date",render:function(e){return null===e?Object(S.jsx)("p",{children:" "}):Object(S.jsx)("p",{style:{marginBottom:"auto"},children:N()(e).format("MMM D, YYYY")})},sorter:function(e,t){return N()(e.expiration_date).format("YYYYMMDD")-N()(t.expiration_date).format("YYYYMMDD")}},{title:"Priority",sorter:function(e,t){return N()(e.expiration_date).format("YYYYMMDD")-N()(t.expiration_date).format("YYYYMMDD")},render:function(e,t){return I(t.expiration_date)}},{title:"Edit",dataIndex:"",key:"",render:function(e){return Object(S.jsx)("div",{style:{display:"grid",justifyContent:"center",alignContent:"center"},children:Object(S.jsx)(xt.a,{overlay:function(){return function(e){return Object(S.jsx)(st.a,{style:{borderRadius:"4px"},children:Object(S.jsxs)(st.a.Item,{onClick:function(){return re(e.raw_material_id)},style:{borderRadius:"4px"},children:[Object(S.jsx)(a,{children:" Edit item "}),Object(S.jsx)(Xa,{visible:ce[e.raw_material_id],data:ue,sendChangesToParent:de,deleteRawMaterial:je})]},"1")})}(e)},placement:"bottomCenter",trigger:"hover",children:Object(S.jsxs)(M.a,{className:"edit-button",onClick:function(){!function(e){le(e)}(e)},children:[Object(S.jsx)(Zt.a,{style:{fontSize:"22px"}})," "]})})})}}];return Object(S.jsxs)("div",{className:"raw-material-table",children:[Object(S.jsx)("div",{className:"table-headers",children:Object(S.jsxs)("div",{className:"table-header-position",children:[Object(S.jsx)("div",{className:"table-text",children:Object(S.jsx)("div",{children:Object(S.jsxs)("h2",{className:"main-header-table",children:["Raw Materials (",Q,")"]})})}),Object(S.jsxs)("div",{className:"table-buttons",children:[Object(S.jsxs)("div",{children:[Object(S.jsx)(D,{text:"Clear search and filters",component:Object(S.jsx)(M.a,{className:"table-clear",size:"large",onClick:ae,children:"Clear"})}),Object(S.jsxs)(M.a,{name:"Filter Table",className:"table-filter",type:"primary",size:"large",onClick:function(){return z(!0)},children:[Object(S.jsx)(Xt,{filterVisible:R,closeFilter:function(e){e.stopPropagation(),z(!1)},handleFilter:function(e){var t,a=e,n=0,r=Object(Lt.a)(e.entries());try{for(r.s();!(t=r.n()).done;){var c=Object(p.a)(t.value,2),i=c[0],o=c[1];null==o||"Invalid date"===o||""===o?a.set(i,""):L(n++)}}catch(l){r.e(l)}finally{r.f()}L(n);var u=s.filter((function(e){return e.company.toLowerCase().includes(a.get("brand").toLowerCase())&&e.country.toLowerCase().includes(a.get("country").toLowerCase())&&e.location.includes(a.get("location"))&&e.form.includes(a.get("form"))&&N()(e.expiration_date).format("YYYYMMDD").includes(na(e.expiration_date,a.get("expirationDate")[0],a.get("expirationDate")[1]))&&N()(e.received_date).format("YYYYMMDD").includes(na(e.received_date,a.get("receivedDate")[0],a.get("receivedDate")[1]))&&C(e.expiration_date).toLowerCase().includes(a.get("priority"))}));X(u.length),d(u)},handleClear:ae}),"Filter (",T,")"]})]}),Object(S.jsx)("div",{children:Object(S.jsxs)("div",{className:"search-add",children:[Object(S.jsx)(Ft.a,{className:"auto-complete",options:W,filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())},children:Object(S.jsx)(n,{className:"table-search",placeholder:"Search for a raw material...",allowClear:!0,size:"large",value:f,onSearch:function(e){h(e),d(s.filter((function(t){return t.material_name.toLowerCase().includes(e.toLowerCase())})));var t=0;s.forEach((function(a){a.material_name.toLowerCase().includes(e.toLowerCase())&&t++})),X(t)}})}),Object(S.jsxs)(M.a,{name:"Add Raw Material",className:"table-add",type:"primary",size:"large",icon:Object(S.jsx)($t.a,{}),onClick:function(){return q(!0)},children:["Add Raw Material",Object(S.jsx)(en,{visible:K,close:function(e){e.stopPropagation(),q(!1)},sendChangesToParent:function(e){var t=l.concat({raw_material_id:e.id,material_name:e.name,company:e.brand,country:e.country,total_amount:0,location:e.location,unit:e.unit,expiration_date:null,image:""});console.log(t),d(t),i(t)}})]})]})})]})]})}),Object(S.jsx)(k.a,{spinning:w,tip:"Loading...",size:"large",children:Object(S.jsx)(Y.a,{className:"table-header",columns:be.filter((function(e){return"form"!==e.dataIndex&&"received_date"!==e.dataIndex&&"raw_material_id"!==e.dataIndex})),dataSource:l,rowKey:"raw_material_id",pagination:{pageSize:8,position:["bottomCenter"]},size:"small",rowSelection:t})})]})},an=(a(364),function(e){var t=e.filterVisible,a=e.closeFilter,n=e.handleFilter,r=e.handleClear,c=Object(v.useState)([]),s=Object(p.a)(c,2),i=s[0],o=s[1],u=Object(v.useState)(null),l=Object(p.a)(u,2),d=l[0],j=l[1],b=Object(v.useState)(null),f=Object(p.a)(b,2),h=f[0],m=f[1],O=Object(v.useState)(""),x=Object(p.a)(O,2),g=x[0],y=x[1];Object(v.useEffect)((function(){Ue.locations.fetchLocations().then((function(e){return o(e)}))}),[]);return Object(S.jsx)(Qt,{visible:t,onCancel:a,onOk:function(e){return function(e){n({location:d,expiration_date:h,priority:g}),a(e)}(e)},content:Object(S.jsxs)("section",{className:"rows",children:[Object(S.jsxs)("div",{className:"columns",children:[Object(S.jsx)(Bt,{header:"Stored Location",options:i,value:d,placeholder:"All locations...",onChange:function(e){return j(e)},allowClear:!0}),Object(S.jsx)(qt,{header:"Expiration Date",value:h,onChange:function(e){return m(e)}})]}),Object(S.jsxs)("div",{className:"priority-clear",children:[Object(S.jsx)(Jt,{value:g,onClick:function(e){""===e.target.value?y(""):y(e.target.value)}}),Object(S.jsx)(M.a,{type:"dashed",onClick:function(){j(null),m(null),y(""),r()},children:"Reset"})]})]})})}),nn=(a(365),a(181)),rn=(a(366),function(e){var t=e.visible,a=e.onClose,n=e.formulation,r=e.handleFormulation,c=Object(v.useState)([]),s=Object(p.a)(c,2),i=s[0],o=s[1];Object(v.useEffect)((function(){if(void 0!==n){var e=Object.keys(n).map((function(e){return n[e].raw_material_id}));o(e)}}),[]);var u={type:function(){return Object(S.jsx)(Vt.a,{children:"Checkbox"})},selectedRowKeys:i,onChange:function(e){o(e)},hideSelectAll:function(){return!1}};return Object(S.jsx)(Ht.a,{centered:!0,width:"1100px",visible:t,onCancel:function(e){return a(e)},onOk:function(e){return function(e){Ue.rawMaterial.fetchAll().then((function(e){var t=[];i.forEach((function(a){var n=e.find((function(e){return e.raw_material_id===a}));void 0!==n&&t.push({raw_material_id:n.raw_material_id,percentage:0,country:n.country,company:n.company,material_name:n.material_name})})),r(t)})),a(e)}(e)},children:Object(S.jsx)("section",{className:"ManageFormulation",children:Object(S.jsx)(tn,{rowSelection:Object(tt.a)({},u)})})})}),cn=Object(pa.a)("sfp_id"),sn=Object(pa.a)("sfp_name"),on=Object(pa.a)("unit"),un=Object(pa.a)("location"),ln=Object(pa.a)("image"),dn=Object(pa.a)("process_steps"),jn=function(){function e(t){Object(T.a)(this,e),Object.defineProperty(this,cn,{writable:!0,value:null}),Object.defineProperty(this,sn,{writable:!0,value:""}),Object.defineProperty(this,on,{writable:!0,value:""}),Object.defineProperty(this,un,{writable:!0,value:""}),Object.defineProperty(this,ln,{writable:!0,value:""}),Object.defineProperty(this,dn,{writable:!0,value:""}),void 0!==t&&(Object(ba.a)(this,cn)[cn]=t.sfp_id,Object(ba.a)(this,sn)[sn]=t.sfp_name,Object(ba.a)(this,on)[on]=t.unit,Object(ba.a)(this,un)[un]=t.location,Object(ba.a)(this,ln)[ln]=t.image,Object(ba.a)(this,dn)[dn]=t.process_steps)}return Object(ja.a)(e,[{key:"toJsonObject",value:function(){return{sfp_id:Object(ba.a)(this,cn)[cn],sfp_name:Object(ba.a)(this,sn)[sn],unit:Object(ba.a)(this,on)[on],location:Object(ba.a)(this,un)[un],image:Object(ba.a)(this,ln)[ln],process_steps:Object(ba.a)(this,dn)[dn]}}},{key:"isEqual",value:function(e){return Object(da.isEqual)(this.toJsonObject(),e.toJsonObject())}},{key:"sfp_id",get:function(){return Object(ba.a)(this,cn)[cn]},set:function(e){return this.propTypes={n:ha.a.number},e>=0&&(Object(ba.a)(this,cn)[cn]=e),this}},{key:"sfp_name",get:function(){return Object(ba.a)(this,sn)[sn]},set:function(e){return this.propTypes={s:ha.a.string},ea(e,Object(ba.a)(this,sn)[sn])&&(Object(ba.a)(this,sn)[sn]=e),this}},{key:"unit",get:function(){return Object(ba.a)(this,on)[on]},set:function(e){return this.propTypes={s:ha.a.string},ea(e,Object(ba.a)(this,on)[on])&&(Object(ba.a)(this,on)[on]=e),this}},{key:"location",get:function(){return Object(ba.a)(this,un)[un]},set:function(e){return this.propTypes={s:ha.a.string},ea(e,Object(ba.a)(this,un)[un])&&(Object(ba.a)(this,un)[un]=e),this}},{key:"image",get:function(){return Object(ba.a)(this,ln)[ln]},set:function(e){return this.propTypes={s:ha.a.string},ta(e,Object(ba.a)(this,ln)[ln])&&(Object(ba.a)(this,ln)[ln]=e),this}},{key:"process_steps",get:function(){return Object(ba.a)(this,dn)[dn]},set:function(e){return this.propTypes={s:ha.a.string},ea(e,Object(ba.a)(this,dn)[dn])&&(Object(ba.a)(this,dn)[dn]=e),this}}]),e}(),bn=Mt.a.TextArea,pn=nn.a.TabPane,fn=function(e){var t=e.visible,a=e.onClose,n=e.sendChangesToParent,r=Object(b.g)(),c=Object(v.useState)([]),s=Object(p.a)(c,2),i=s[0],o=s[1],u=Object(v.useState)([]),l=Object(p.a)(u,2),d=l[0],j=l[1],f=Object(v.useState)([]),h=Object(p.a)(f,2),m=h[0],g=h[1],w=Object(v.useState)(""),k=Object(p.a)(w,2),_=k[0],N=k[1],C=Object(v.useState)("g"),I=Object(p.a)(C,2),E=I[0],P=I[1],D=Object(v.useState)(""),T=Object(p.a)(D,2),F=T[0],A=T[1],R=Object(v.useState)("Ambient"),z=Object(p.a)(R,2),B=z[0],U=z[1],K=Object(v.useState)(""),q=Object(p.a)(K,2),V=q[0],J=q[1],W=Object(v.useState)(!1),G=Object(p.a)(W,2),H=G[0],Q=G[1];Object(v.useEffect)((function(){Ue.locations.fetchLocations().then((function(e){return g(e)})),o(new jn)}),[]);var X=[{title:"raw_material_id",dataIndex:"raw_material_id",key:"raw_material_id"},{title:"Material Name",dataIndex:"material_name",key:"material_name",render:function(e,t){return Object(S.jsx)(y.b,{to:"/inventory/rawmaterial/".concat(t.raw_material_id),children:e})}},{title:"Brand",dataIndex:"company",key:"company"},{title:"Country",dataIndex:"country",key:"country"},{title:"Percentage (%)",dataIndex:"percentage",key:"percentage",render:function(e,t){return Object(S.jsx)(la,{style:{width:"8rem"},placeholder:"0 - 100%",max:100,defaultValue:0,onChange:function(e){return Z(e,t)}})}}],Z=function(e,t){0<=e<=100&&d.forEach((function(a){a.raw_material_id===t.raw_material_id&&(a.percentage=e)})),console.log(d)},$=function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===F||null===F||""===F){e.next=3;break}return e.next=3,Ue.sfp.uploadImage(F,i.sfp_id).then((function(e){console.log("uploading picture"),console.log(e),i.image=e}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===_?(L.b.warning("Please enter a SFP name!"),0):0!==d.length||(L.b.warning("Please add raw materials to your formulation!"),0)){e.next=2;break}return e.abrupt("return");case 2:return i.sfp_name=_,i.unit=E,i.location=B,i.process_steps=V,e.next=8,te().then(function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("failed"===t){e.next=3;break}return e.next=3,$().then((function(){n(i),r.push("/inventory/sfp/".concat(i.sfp_id))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:a(t);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue.sfp.createSfp(i.toJsonObject()).then((function(e){i.sfp_id=e}));case 2:return t=e.sent,e.next=5,Ue.sfp.createFormulation(i.sfp_id,d);case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=Object(S.jsx)(rn,{visible:H,onClose:function(e){e.stopPropagation(),Q(!1)},formulation:d,handleFormulation:function(e){e.forEach((function(e){d.forEach((function(t){t.raw_material_id!==e.raw_material_id||(e.percentage=t.percentage)}))})),j(e)}});return Object(S.jsx)(Ht.a,{maskClosable:!1,visible:t,width:"800px",centered:!0,onCancel:function(e){return a(e)},onOk:function(e){return ee(e)},children:Object(S.jsxs)("section",{className:"CreateSfp",children:[Object(S.jsx)("h1",{children:"Add a Semi-Finished Product"}),Object(S.jsxs)("div",{className:"rows",children:[Object(S.jsxs)("div",{className:"information",children:[Object(S.jsx)(Wt,{header:"Semi-Finished Product Name",onChange:function(e){return N(e.target.value)},value:_,placeholder:"Enter SFP name..."}),Object(S.jsxs)("div",{className:"side-by-side",children:[Object(S.jsx)(Bt,{header:"Units",options:Ha,value:E,onChange:function(e){e!==E&&P(e)}}),Object(S.jsx)(Bt,{header:"Location",options:m,value:B,onChange:function(e){e!==B&&U(e)}})]})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Image"}),Object(S.jsx)(Ga,{handleImage:function(e){A(e||null)},imageURL:""})]})]}),Object(S.jsxs)(nn.a,{defaultActiveKey:1,children:[Object(S.jsx)(pn,{tab:"Formulation",children:Object(S.jsx)("div",{className:"formulation",children:Object(S.jsx)("div",{className:"table",children:Object(S.jsx)(Y.a,{size:"small",columns:X.filter((function(e){return"raw_material_id"!==e.dataIndex})),dataSource:d,rowKey:"raw_material_id",footer:function(){return Object(S.jsxs)("div",{style:{display:"grid",justifyContent:"center"},children:[Object(S.jsx)(M.a,{type:"primary",onClick:function(){return Q(!0)},children:"Manage Formulation"}),ae]})},bordered:!0,pagination:!1})})})},"1"),Object(S.jsx)(pn,{tab:"Process Steps",children:Object(S.jsx)("div",{className:"process-steps",children:Object(S.jsx)(bn,{showCount:!0,rows:8,onChange:function(e){return J(e.target.value)}})})},"2")]})]})})},hn=Object(v.createContext)({}),mn=function(e){var t=Object(v.useState)({}),a=Object(p.a)(t,2),n=a[0],r=a[1],c={openEdit:function(e){r(Object(ca.a)({},e,!0))},closeEdit:function(e,t){e.stopPropagation(),r(Object(ca.a)({},t,!1))},editVisible:n};return Object(S.jsx)(hn.Provider,Object(tt.a)({value:c},e))},On=function(){return g.a.useContext(hn)},xn=(a(367),a(153)),vn=a(154),gn=a.n(vn),yn=(a(381),function(e){var t=e.originalData,a=e.onChange,n=e.disabled;return Object(S.jsx)("section",{className:"TextEditor",children:Object(S.jsx)(xn.CKEditor,{editor:gn.a,data:t,disabled:n,config:{removePlugins:["EasyImage","ImageUpload"]},onReady:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var n=t.getData();a(n),console.log({event:e,editor:t,data:n})},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}})})}),wn=(Mt.a.TextArea,nn.a.TabPane),kn=function(e){var t=e.visible,a=e.data,n=e.sendChangesToParent,r=e.deleteSfp,c=Object(v.useState)({originalData:null,editData:null}),s=Object(p.a)(c,2),i=s[0],o=i.originalData,u=i.editData,l=s[1],d=Object(v.useState)({editForm:[],originalForm:[]}),j=Object(p.a)(d,2),b=j[0],f=b.editForm,h=b.originalForm,m=j[1],g=Object(v.useState)([]),w=Object(p.a)(g,2),k=w[0],_=w[1],N=Object(v.useState)(""),C=Object(p.a)(N,2),I=C[0],E=C[1],P=Object(v.useState)(""),D=Object(p.a)(P,2),T=D[0],F=D[1],A=Object(v.useState)(""),R=Object(p.a)(A,2),z=R[0],B=R[1],U=Object(v.useState)(""),K=Object(p.a)(U,2),q=K[0],V=K[1],J=Object(v.useState)(""),W=Object(p.a)(J,2),G=W[0],H=W[1],Q=Object(v.useState)(""),X=Object(p.a)(Q,2),Z=X[0],$=X[1],ee=Object(v.useState)(),te=Object(p.a)(ee,2),ae=te[0],ne=te[1],re=On().closeEdit;Object(v.useEffect)((function(){Ue.locations.fetchLocations().then((function(e){return _(e)}));null!==a&&void 0!==a&&(E(a.sfp_name),F(a.unit),B(a.location),V(a.process_steps),H(a.image),ne(a.sfp_id),l({originalData:new jn(a),editData:new jn(a)}),Ue.sfp.fetchFormulation(a.sfp_id).then((function(e){m({editForm:JSON.parse(JSON.stringify(e)),originalForm:JSON.parse(JSON.stringify(e))})})))}),[a]);var ce=[{title:"raw_material_id",dataIndex:"raw_material_id",key:"raw_material_id"},{title:"Material Name",dataIndex:"material_name",key:"material_name",render:function(e,t){return Object(S.jsx)(y.b,{to:"/inventory/rawmaterial/".concat(t.raw_material_id),children:e})}},{title:"Brand",dataIndex:"company",key:"company"},{title:"Country",dataIndex:"country",key:"country"},{title:"Percentage (%)",dataIndex:"percentage",key:"percentage",render:function(e,t){return Object(S.jsx)(ua.a,{className:"input-number",size:"small",style:{width:"8rem"},placeholder:0,min:0,max:100,defaultValue:e,step:.1,onChange:function(e){return se(e,t)}})}}],se=function(e,t){f.forEach((function(a){a.raw_material_id===t.raw_material_id&&(a.percentage=e)}))},ie=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.name=I,u.unit=T,u.location=z,u.process_steps=q,e.next=6,oe().then(Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.isEqual(o)&&Object(da.isEqual)(f,h)?L.b.success("No changes made."):(n({editForm:f,sfp_id:ae,sfp_name:I,unit:T,location:z,process_steps:q,image:u.image}),Ue.sfp.editInformation(ae,u.toJsonObject()),f.forEach((function(e){Ue.sfp.editFormulation(ae,e)})),o.name=I,o.unit=T,o.location=z,o.process_steps=q,L.b.success("Successfully edited SFP.")),re(t,ae);case 2:case"end":return e.stop()}}),e)}))));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==Z){e.next=4;break}return e.abrupt("return");case 4:if(null===Z||""!==u.image){e.next=9;break}return e.next=7,Ue.sfp.uploadImage(Z,ae).then((function(e){console.log("uploading picture"),u.image=e}));case 7:e.next=17;break;case 9:if(null===Z||""===u.image){e.next=14;break}return e.next=12,Ue.sfp.updateImage(Z,ae).then((function(e){console.log("updating picture"),u.image=e}));case 12:e.next=17;break;case 14:if(null!==Z||""===u.image){e.next=17;break}return e.next=17,Ue.sfp.deleteImage(ae).then((function(){console.log("deleting picture"),u.image=""}));case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsx)(Ht.a,{maskClosable:!1,visible:t,width:"800px",centered:!0,footer:[Object(S.jsxs)("section",{className:"edit-raw-material-footer",children:[Object(S.jsx)("div",{children:Object(S.jsx)(qe.a,{title:"Are you sure?",okType:"danger",okText:"Delete",onConfirm:function(e){return r(e,ae)},children:Object(S.jsx)(M.a,{type:"danger",children:"Delete"})})}),Object(S.jsxs)("div",{children:[Object(S.jsx)(M.a,{onClick:function(e){return re(e,ae)},children:"Cancel"},"submit"),Object(S.jsx)(M.a,{type:"primary",onClick:function(e){return ie(e)},children:"OK"},"submit")]})]})],onCancel:function(e){return re(e,ae)},children:Object(S.jsxs)("section",{className:"EditSfp",children:[Object(S.jsxs)("h1",{children:["Edit ",I]}),Object(S.jsxs)("div",{className:"rows",children:[Object(S.jsxs)("div",{className:"information",children:[Object(S.jsx)(Wt,{header:"Semi-Finished Product Name",onChange:function(e){E(e.target.value)},value:I,placeholder:"Enter a name..."}),Object(S.jsxs)("div",{className:"side-by-side",children:[Object(S.jsx)(Bt,{header:"Units",options:Ha,value:T,onChange:function(e){e!==T&&F(e)}}),Object(S.jsx)(Bt,{header:"Location",options:k,value:z,onChange:function(e){e!==z&&B(e)}})]})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Image"}),Object(S.jsx)(Ga,{handleImage:function(e){$(e||null)},imageURL:G})]})]}),Object(S.jsxs)(nn.a,{defaultActiveKey:1,children:[Object(S.jsx)(wn,{tab:"Formulation",children:Object(S.jsx)("div",{className:"formulation",children:Object(S.jsx)("div",{className:"table",children:Object(S.jsx)(Y.a,{columns:ce.filter((function(e){return"raw_material_id"!==e.dataIndex})),dataSource:h||[],rowKey:"raw_material_id",bordered:!0,pagination:!1,size:"middle"})})})},"1"),Object(S.jsx)(wn,{tab:"Process Steps",children:Object(S.jsx)("div",{className:"process-steps",children:Object(S.jsx)(yn,{originalData:q,onChange:function(e){return V(e)}})})},"2")]})]})})},_n=Ot.a.Text,Nn=Mt.a.Search,Sn=function(){var e=Object(v.useState)(!0),t=Object(p.a)(e,2),a=t[0],n=t[1],r=Object(v.useState)(""),c=Object(p.a)(r,2),s=c[0],i=c[1],o=Object(v.useState)([]),u=Object(p.a)(o,2),l=u[0],d=u[1],j=Object(v.useState)([]),b=Object(p.a)(j,2),f=b[0],h=b[1],m=Object(v.useState)(!1),g=Object(p.a)(m,2),w=g[0],_=g[1],E=Object(v.useState)([]),P=Object(p.a)(E,1)[0],T=Object(v.useState)(0),L=Object(p.a)(T,2),F=L[0],A=L[1],R=Object(v.useState)(0),z=Object(p.a)(R,2),B=z[0],U=z[1],K=Object(v.useState)(!1),q=Object(p.a)(K,2),V=q[0],J=q[1],W=Object(v.useState)([]),G=Object(p.a)(W,2),H=G[0],Q=G[1],X=Object(v.useState)([]),Z=Object(p.a)(X,2),$=(Z[0],Z[1]),ee=On(),te=ee.openEdit,ae=ee.editVisible,ne=ee.closeEdit;Object(v.useEffect)((function(){Ue.sfp.fetchTable().then((function(e){h(e),d(e),A(e.length),n(!1)}))}),[]);var re=function(){h(l),i(""),U(0),A(l.length)},ce=Object(S.jsx)(fn,{visible:V,onClose:function(e){e.stopPropagation(),J(!1)},sendChangesToParent:function(e){var t=f.concat({sfp_id:e.sfp_id,sfp_name:e.sfp_name,total_amount:0,location:e.location,expiration_date:null,unit:e.unit,image:"",country:"Sweden",company:"Accelerator Lab"});h(t),d(t)}}),se=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue.sfp.fetchFormulation(t.sfp_id).then((function(e){$(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(e,t){ne(e);var a=f.filter((function(e){return e.sfp_id!==t}));h(a),d(a),Ue.sfp.disableSfp(t).then((function(e){console.log(e)}))},oe=function(e){var t=f.findIndex((function(t){return t.sfp_id===e.sfp_id}));f[t].sfp_name=e.sfp_name,f[t].location=e.location,f[t].unit=e.unit},ue=[{title:"sfp_id",dataIndex:"sfp_id",key:"sfp_id"},{title:"Item name",dataIndex:"sfp_name",key:"sfp_name",render:function(e,t){return Object(S.jsx)(y.b,{to:"/inventory/sfp/"+t.sfp_id,children:e})},sorter:function(e,t){return e.name.localeCompare(t.name)}},{title:"Brand",dataIndex:"company",key:"company",sorter:function(e,t){return e.company.localeCompare(t.company)}},{title:"Country",dataIndex:"country",key:"country",sorter:!0},{title:"Amount (g/unit)",dataIndex:"total_amount",key:"total_amount",sorter:function(e,t){return e.amount-t.amount}},{title:"Unit",dataIndex:"unit",key:"unit"},{title:"Location",dataIndex:"location",key:"location",sorter:function(e,t){return e.location.localeCompare(t.location)}},{title:"Expiration Date",dataIndex:"expiration_date",key:"expiration_date",render:function(e){return null===e?Object(S.jsx)("p",{children:" "}):Object(S.jsx)("p",{style:{marginBottom:"auto"},children:N()(e).format("MMM D, YYYY")})},sorter:function(e,t){return N()(e.expiration_date).format("YYYYMMDD")-N()(t.expiration_date).format("YYYYMMDD")}},{title:"Priority",sorter:function(e,t){return N()(e.expiration_date).format("YYYYMMDD")-N()(t.expiration_date).format("YYYYMMDD")},render:function(e,t){return I(t.expiration_date)}},{title:"Edit",dataIndex:"",key:"",render:function(e){return Object(S.jsx)("div",{style:{display:"grid",justifyContent:"center",alignContent:"center"},children:Object(S.jsx)(xt.a,{overlay:function(){return function(e){return Object(S.jsx)(st.a,{style:{borderRadius:"4px"},children:Object(S.jsxs)(st.a.Item,{onClick:function(){return te(e.sfp_id)},style:{borderRadius:"4px"},children:[Object(S.jsx)(_n,{children:" Edit item "}),Object(S.jsx)(kn,{visible:ae[e.sfp_id],data:H,sendChangesToParent:oe,deleteSfp:ie})]},"1")})}(e)},placement:"bottomCenter",trigger:"hover",children:Object(S.jsxs)(M.a,{className:"edit-button",onClick:function(){!function(e){Q(e)}(e),se(e)},children:[Object(S.jsx)(Zt.a,{style:{fontSize:"22px"}})," "]})})})}}];return Object(S.jsxs)("div",{className:"SfpTable",children:[Object(S.jsx)("div",{className:"table-headers",children:Object(S.jsxs)("div",{className:"table-header-position",children:[Object(S.jsx)("div",{className:"table-text",children:Object(S.jsx)("div",{children:Object(S.jsxs)("h2",{className:"main-header-table",children:["Semi-Finished Products (",F,")"]})})}),Object(S.jsxs)("div",{className:"table-buttons",children:[Object(S.jsxs)("div",{children:[Object(S.jsx)(D,{text:"Clear search and filters",component:Object(S.jsx)(M.a,{className:"table-clear",size:"large",onClick:re,children:"Clear"})}),Object(S.jsxs)(M.a,{name:"Filter Table",className:"table-filter",type:"primary",size:"large",onClick:function(){return _(!0)},children:[Object(S.jsx)(an,{filterVisible:w,closeFilter:function(e){e.stopPropagation(),_(!1)},handleFilter:function(e){var t=e;console.log(t);var a=0;for(var n in t){var r=t[n];null==r||"Invalid date"===r||""===r?t[n]="":U(a++)}U(a);var c=l.filter((function(e){return e.location.includes(t.location)&&N()(e.expiration_date).format("YYYYMMDD").includes(na(e.expiration_date,t.expiration_date[0],t.expiration_date[1]))&&C(e.expiration_date).toLowerCase().includes(t.priority)}));A(c.length),h(c)},handleClear:re}),"Filter (",B,")"]})]}),Object(S.jsx)("div",{children:Object(S.jsxs)("div",{className:"search-add",children:[Object(S.jsx)(Ft.a,{className:"auto-complete",options:P,children:Object(S.jsx)(Nn,{className:"table-search",placeholder:"Search for a Semi-Finished Product...",allowClear:!0,size:"large",value:s,onSearch:function(e){i(e),h(l.filter((function(t){return t.sfp_name.toLowerCase().includes(e.toLowerCase())})));var t=0;l.forEach((function(a){a.sfp_name.toLowerCase().includes(e.toLowerCase())&&t++})),A(t)}})}),Object(S.jsxs)(M.a,{className:"table-add",type:"primary",size:"large",icon:Object(S.jsx)($t.a,{}),onClick:function(){J(!0)},children:["Add SFP",ce]})]})})]})]})}),Object(S.jsx)(k.a,{spinning:a,tip:"Loading...",size:"large",children:Object(S.jsx)(Y.a,{className:"table-header",columns:ue.filter((function(e){return"form"!==e.dataIndex&&"received_date"!==e.dataIndex&&"sfp_id"!==e.dataIndex})),dataSource:f,rowKey:"sfp_id",pagination:{pageSize:8,position:["bottomCenter"]},size:"small"})})]})},Cn=function(){return Object(S.jsx)(St,{content:Object(S.jsxs)("section",{name:"Inventory",children:[Object(S.jsxs)("div",{children:[Object(S.jsx)("h1",{className:"blue-text",children:" Inventory "}),Object(S.jsx)("span",{className:"sub-header",children:"Create, edit and retrieve raw materials and semi-finished products from the inventory"})]}),Object(S.jsx)("div",{style:{marginTop:"1.5rem"},children:Object(S.jsx)(tn,{})}),Object(S.jsx)("div",{style:{marginTop:"3rem"},children:Object(S.jsx)(Sn,{})})]})})},In=a(124),En=[{title:"raw_material_id",dataIndex:"raw_material_id",key:"raw_material_id"},{title:"Material Name",dataIndex:"material_name",key:"material_name"},{title:"Brand",dataIndex:"company",key:"company"},{title:"Country",dataIndex:"country",key:"country"},{title:"Total Amount",dataIndex:"total_amount",key:"total_amount"},{title:"Unit",dataIndex:"unit",key:"unit"},{title:"Form",dataIndex:"form",key:"form"},{title:"Stored Location",dataIndex:"location",key:"location"}],Mn=[{title:"Fat",dataIndex:"fat",key:"fat"},{title:"Carbohydrate",dataIndex:"carbohydrate",key:"carbohydrate"},{title:"Protein",dataIndex:"protein",key:"protein"},{title:"Salt",dataIndex:"salt",key:"salt"},{title:"Fiber",dataIndex:"fiber",key:"fiber"},{title:"Sugar",dataIndex:"sugar",key:"sugar"},{title:"Content",dataIndex:"content",key:"content"}],Yn=[{title:"Stock ID",dataIndex:"stock_id",key:"stock_id"},{title:"Amount",dataIndex:"amount",key:"amount"},{title:"Order Date",dataIndex:"order_date",key:"order_date",render:function(e){return null===e?Object(S.jsx)("p",{}):Object(S.jsx)("p",{style:{marginBottom:"auto"},children:N()(e).format("MMM D, YYYY")})}},{title:"Received Date",dataIndex:"received_date",key:"received_date",render:function(e){return Object(S.jsx)("p",{style:{marginBottom:"auto"},children:N()(e).format("MMM D, YYYY")})}},{title:"Expiration Date",dataIndex:"expiration_date",key:"expiration_date",render:function(e){return Object(S.jsx)("p",{style:{marginBottom:"auto"},children:N()(e).format("MMM D, YYYY")})}},{title:"Priority of Usage",dataIndex:"priority",key:"priority",render:function(e,t){return I(t.expiration_date)}}],Pn=(a(382),a(163)),Dn=a(235),Tn=nn.a.TabPane,Ln=function(e){var t=e.name,a=e.information,n=e.products,r=e.history,c=e.manageStock,s=e.openManageStock,i=e.edit,o=e.openEdit;return Object(S.jsxs)("section",{className:"RawMaterial",children:[Object(S.jsxs)("div",{className:"content-header",children:[Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{className:"header-information",children:[Object(S.jsx)("h1",{className:"blue-text",children:"Inventory"}),Object(S.jsx)(D,{text:"Create, edit and retrieve information of items.",component:Object(S.jsx)(Pn.a,{}),trigger:"hover"})]}),Object(S.jsx)("span",{className:"sub-header",children:t})]}),Object(S.jsxs)("div",{className:"buttons",children:[Object(S.jsxs)(M.a,{className:"table-add",type:"primary",size:"large",icon:Object(S.jsx)($t.a,{}),onClick:s,children:["Manage Stock",c]}),Object(S.jsxs)(M.a,{className:"table-add",type:"primary",size:"large",icon:Object(S.jsx)(Dn.a,{}),onClick:o,children:["Edit",i]})]})]}),Object(S.jsx)("div",{}),Object(S.jsx)("div",{className:"tabs",children:Object(S.jsxs)(nn.a,{defaultActiveKey:"1",size:"large",style:{marginBottom:32},tabPosition:"top",children:[Object(S.jsx)(Tn,{tab:"Information",children:a},"1"),Object(S.jsx)(Tn,{tab:"Products",disabled:!0,children:n},"2"),Object(S.jsx)(Tn,{tab:"History",disabled:!0,children:r},"3")]})})]})},Fn=(a(383),[{value:"Consumtion"},{value:"Spill/Waste",name:"Spill/Waste"},{value:"Correction",name:"Correction"}]),An=nn.a.TabPane,Rn=function(e){var t=e.visible,a=e.close,n=e.addStock,r=e.reduceStock,c=e.editForm,s=e.originalForm,i=e.AddStockComponents,o=e.logistics,u=Object(v.useState)("Consumtion"),l=Object(p.a)(u,2),d=l[0],j=l[1],b=Object(v.useState)("add"),f=Object(p.a)(b,2),h=f[0],m=f[1],O=[{title:"Stock ID",dataIndex:"stock_id",key:"stock_id"},{title:"Amount",key:"amount",render:function(e){return Object(S.jsx)(la,{style:{width:"8rem"},placeholder:"0 - ".concat(e.amount),max:e.amount,defaultValue:0,onChange:function(t){return function(e,t){c.edit(t.stock_id,e,t.amount)}(t,e)}})}},{title:"In Stock",dataIndex:"amount",key:"amount"},{title:"Order Date",dataIndex:"order_date",key:"order_date",render:function(e){return null===e?Object(S.jsx)("p",{}):Object(S.jsx)("p",{style:{marginBottom:"auto"},children:N()(e).format("MMM D, YYYY")})}},{title:"Received Date",dataIndex:"received_date",key:"received_date",render:function(e){return Object(S.jsx)("p",{style:{marginBottom:"auto"},children:N()(e).format("MMM D, YYYY")})}},{title:"Expiration Date",dataIndex:"expiration_date",key:"expiration_date",render:function(e){return Object(S.jsx)("p",{style:{marginBottom:"auto"},children:N()(e).format("MMM D, YYYY")})}},{title:"Priority of Usage",dataIndex:"priority",key:"priority",render:function(e,t){return I(t.expiration_date)}}];return Object(S.jsx)(Ht.a,{centered:!0,maskClosable:!1,width:1050,visible:t,onCancel:a,footer:[Object(S.jsx)(M.a,{onClick:a,children:"Cancel"},"submit"),Object(S.jsx)(qe.a,{title:function(){return"add"===h?Object(S.jsx)("span",{children:" Are you sure to add this stock? "}):Object(S.jsx)("span",{children:" Are you sure to reduce these quantities? "})},onConfirm:function(e){switch(h){case"add":n(e);break;case"reduce":Object(da.isEqual)(c.stocks,s.stocks)?(L.b.success("No changes made."),a(e)):(r(e),L.b.success("You have succesfully reduced stocks."));break;default:console.log("reached default")}},okText:"Yes",cancelText:"No",children:Object(S.jsx)(M.a,{type:"primary",children:"OK"},"submit")})],children:Object(S.jsx)("section",{className:"StockInterface",children:Object(S.jsxs)(nn.a,{tabPosition:"right",onTabClick:function(e){return function(e){m("1"===e?"add":"reduce")}(e)},children:[Object(S.jsx)(An,{tab:"Add",children:Object(S.jsxs)("section",{className:"add",children:[Object(S.jsx)("h1",{children:"Add Stock"}),Object(S.jsx)("div",{className:"rows",children:i})]})},"1"),Object(S.jsx)(An,{tab:"Reduce",children:Object(S.jsxs)("section",{className:"reduce",children:[Object(S.jsx)("h1",{children:"Reduce Stocks"}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Reason:"}),Object(S.jsx)(zt.a,{className:"input-select",options:Fn,defaultValue:d,style:{width:"450px"},onSelect:function(e){return j(e)}}),Object(S.jsx)(Y.a,{columns:O,dataSource:o,size:"middle",pagination:{pageSize:6,position:["bottomRight"]},rowKey:"stock_id"})]})]})},"2")]})})})},zn=a(232),Bn=function(e){zn.a.success({message:"Success",description:e,duration:6})},Un=Object(pa.a)("stocks"),Kn=function(){function e(t){var a=this;Object(T.a)(this,e),Object.defineProperty(this,Un,{writable:!0,value:[]}),void 0!==t&&null!==t&&t.forEach((function(e){Object(ba.a)(a,Un)[Un].push({stock_id:e.stock_id,old_amount:e.amount,subtracted_amount:0,new_amount:e.amount})}))}return Object(ja.a)(e,[{key:"stocks",get:function(){return Object(ba.a)(this,Un)[Un]}},{key:"edit",value:function(e,t,a){null!==t&&0<=t<=a&&Object(ba.a)(this,Un)[Un].forEach((function(a){a.stock_id===e&&(a.subtracted_amount=t,a.new_amount=a.old_amount-t)}))}},{key:"add",value:function(e,t){Object(ba.a)(this,Un)[Un].push({stock_id:e,old_amount:t,subtracted_amount:0,new_amount:t}),console.log(Object(ba.a)(this,Un)[Un])}},{key:"updateForm",value:function(){var e=Object(ba.a)(this,Un)[Un].filter((function(e){return 0!==e.new_amount}));Object(ba.a)(this,Un)[Un]=e}},{key:"toJsonObject",value:function(){return JSON.stringify(Object(ba.a)(this,Un)[Un])}}]),e}(),qn=function(e){var t=e.close,a=e.visible,n=e.unit,r=e.logistics,c=e.id,s=e.sendAddToParent,i=e.sendReductionToParent,o=(e.totalAmount,Object(v.useState)([])),u=Object(p.a)(o,2),l=u[0],d=u[1],j=Object(v.useState)(),b=Object(p.a)(j,2),f=b[0],h=b[1],m=Object(v.useState)(),g=Object(p.a)(m,2),y=g[0],w=g[1],k=Object(v.useState)(),_=Object(p.a)(k,2),C=_[0],I=_[1],E=Object(v.useState)(""),M=Object(p.a)(E,2),Y=M[0],P=M[1],D=Object(v.useState)(""),T=Object(p.a)(D,2),F=T[0],A=T[1],R=Object(v.useState)(""),z=Object(p.a)(R,2),B=z[0],U=z[1];Object(v.useEffect)((function(){r.length>=0&&(d(r),h(new Kn(r)),w(new Kn(r)))}),[r,Kn]);var K=function(e){return""===e||"Invalid date"===e||null===e?null:N()(e).format("YYYYMMDD")},q=function(){if(null!=C&&ra(F)&&ra(B)){if(C<=0)return L.b.error("The amount needs to be a positive number!"),!1;if(ra(Y)){if(Y.isSameOrAfter(F)&&Y.isSameOrAfter(B))return L.b.error("Order date must come before received date and expiration date!"),!1}else if(B.isSameOrBefore(F))return L.b.error("Received date must come before expiration date!"),!1;return!0}return L.b.error("Amount, received date and expiration date needs to be filled!"),!1},V=function(){var e=Object(x.a)(O.a.mark((function e(a){var n,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(q()){e.next=2;break}return e.abrupt("return");case 2:return n={raw_material_id:parseInt(c),stock_id:"",amount:C,order_date:K(Y),received_date:K(F),expiration_date:K(B)},e.next=5,Ue.rawMaterial.addStock(c,n).then((function(e){n.stock_id=e.stock_id,f.add(e.stock_id,C)}));case 5:Ue.rawMaterial.updateTotalAmount(c),i=r.concat(n),d(i),s(i),Bn("You have successfully added a new stock"),t(a);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){f.stocks.forEach((function(e){0===e.new_amount?Ue.rawMaterial.disableStock(c,e):e.new_amount!==e.old_amount&&e.new_amount>0&&e.new_amount<e.old_amount&&Ue.rawMaterial.updateStock(c,e)}))},W=Object(S.jsxs)("div",{className:"rows",children:[Object(S.jsxs)("div",{className:"column-1",children:[Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Amount"}),Object(S.jsx)(la,{onChange:function(e){return I(e)},value:C,placeholder:"e.g. 1000",min:0})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Unit"}),n]})]}),Object(S.jsxs)("div",{className:"column-2",children:[Object(S.jsx)(Gt,{header:"Order Date",value:Y,onChange:P}),Object(S.jsx)(Gt,{header:"Received Date",value:F,onChange:A}),Object(S.jsx)(Gt,{header:"Expiration Date",value:B,onChange:U})]})]});return Object(S.jsx)(Rn,{visible:a,close:t,editForm:f,originalForm:y,logistics:l,addStock:V,reduceStock:function(e){for(var a=0,n=0;n<l.length;n++)a+=f.stocks[n].subtracted_amount,l[n].amount-=f.stocks[n].subtracted_amount;l.forEach((function(e){0===e.amount&&Bn("You have successfully removed Stock "+e.stock_id)})),J(),Ue.rawMaterial.updateTotalAmount(c),f.updateForm();var r=l.filter((function(e){return 0!==e.amount}));d(r),i(r,a),t(e)},AddStockComponents:W})},Vn=function(e){var t=oa(),a=t.openEdit,n=t.closeEdit,r=t.editVisible,c=Object(v.useState)([]),s=Object(p.a)(c,2),i=s[0],o=s[1],u=Object(v.useState)(""),l=Object(p.a)(u,2),d=l[0],j=l[1],f=Object(v.useState)(),h=Object(p.a)(f,2),m=h[0],g=h[1],y=Object(v.useState)([]),w=Object(p.a)(y,2),_=w[0],N=w[1],C=Object(v.useState)(!0),I=Object(p.a)(C,2),E=I[0],M=I[1],P=Object(v.useState)(!0),D=Object(p.a)(P,2),T=D[0],F=D[1],A=Object(v.useState)(!1),R=Object(p.a)(A,2),z=R[0],B=R[1],U=Object(v.useState)(""),K=Object(p.a)(U,2),q=K[0],V=K[1],J=Object(v.useState)(""),W=Object(p.a)(J,2),G=W[0],H=W[1],Q=Object(v.useState)(0),X=Object(p.a)(Q,2),Z=X[0],$=X[1],ee=e.match.params.id,te=Object(b.g)();Object(v.useEffect)((function(){Ue.rawMaterial.fetchMaterial(ee).then((function(e){o(e),j(e[0].material_name),V(e[0].unit),H(e[0].image),g(e[0].shopping_list),$(e[0].total_amount),M(!1)})),Ue.rawMaterial.fetchLogistics(ee).then((function(e){N(e),console.log(e),F(!1)}))}),[ee]);var ae=function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(!m),Ue.rawMaterial.handleRestock(ee),m?L.b.warning("Item removed from Shopping List"):L.b.success("Item added to Shopping List");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=Object(S.jsxs)("div",{className:"material-header",children:[Object(S.jsxs)("section",{className:"item-image",children:[Object(S.jsx)("div",{name:"image",children:Object(S.jsx)(vt.a,{size:275,shape:"square",alt:"Company Logotype",src:G})}),Object(S.jsx)("div",{className:"shopping-list",children:Object(S.jsx)(In.a,{checked:m,onChange:ae,children:"Add to Shopping List"})})]}),Object(S.jsxs)("section",{className:"material-information",children:[Object(S.jsxs)("div",{className:"table-section-header",children:[Object(S.jsx)("h3",{children:" General Information "}),Object(S.jsx)(k.a,{spinning:E,tip:"Loading...",size:"medium",children:Object(S.jsx)(Y.a,{columns:En.filter((function(e){return"raw_material_id"!==e.dataIndex})),dataSource:i,pagination:!1,scroll:{x:"400px"},rowKey:"material_name"})})]}),Object(S.jsxs)("div",{className:"table-section-header",children:[Object(S.jsx)("h3",{children:" Nuitritional Facts (per 100g) "}),Object(S.jsx)(k.a,{spinning:E,tip:"Loading...",size:"medium",children:Object(S.jsx)(Y.a,{columns:Mn,dataSource:i,pagination:!1,rowKey:"fat"})})]}),Object(S.jsxs)("div",{className:"table-section-header",children:[Object(S.jsx)("h3",{children:" In Stock "}),Object(S.jsx)(k.a,{spinning:T,tip:"Loading...",size:"medium",children:Object(S.jsx)(Y.a,{className:"table-logistics",columns:Yn.filter((function(e){return"stock_id"!==e.dataIndex})),dataSource:_,pagination:{pageSize:7},rowKey:"stock_id"})})]})]})]}),re=Object(S.jsx)(qn,{close:function(e){e.stopPropagation(),B(!1)},visible:z,id:ee,unit:q,logistics:_,sendAddToParent:function(e){var t=e[e.length-1].amount;i[0].total_amount+=t,$(i[0].totalAmount),N(e)},sendReductionToParent:function(e,t){i[0].total_amount-=t,$(i[0].total_amount),N(e)},totalAmount:Z}),ce=Object(S.jsx)(Xa,{visible:r[ee],close:function(e){return n(e,ee)},data:i[0],sendChangesToParent:function(e){i[0].material_name=e.name,i[0].content=e.content,i[0].unit=e.unit,i[0].fat=e.fat,i[0].carbohydrate=e.carb,i[0].protein=e.protein,i[0].salt=e.salt,i[0].fiber=e.fiber,i[0].sugar=e.sugar,i[0].country=e.country,i[0].company=e.brand,i[0].location=e.location,i[0].form=e.form,i[0].image=e.image,"string"===typeof e.image&&H(e.image),j(e.name)},deleteRawMaterial:function(e,t){Ue.rawMaterial.disableRawMaterial(t).then((function(e){if("success"===e)return te.push("/inventory")}))}});return Object(S.jsx)(St,{content:Object(S.jsx)(Ln,{name:d,openManageStock:function(){return B(!0)},manageStock:re,openEdit:function(){return a(ee)},edit:ce,information:ne})})},Jn=[{title:"sfp_id",dataIndex:"sfp_id",key:"sfp_id"},{title:"Name",dataIndex:"sfp_name",key:"sfp_name"},{title:"Total Amount",dataIndex:"total_amount",key:"total_amount"},{title:"Unit",dataIndex:"unit",key:"unit"},{title:"Stored Location",dataIndex:"location",key:"location"}],Wn=[{title:"Stock ID",dataIndex:"stock_id",key:"stock_id"},{title:"Amount",dataIndex:"amount",key:"amount"},{title:"Production Date",dataIndex:"production_date",key:"production_date",render:function(e){return Object(S.jsx)("p",{style:{marginBottom:"auto"},children:N()(e).format("MMM D, YYYY")})}},{title:"Expiration Date",dataIndex:"expiration_date",key:"expiration_date",render:function(e){return null===e?Object(S.jsx)("p",{}):Object(S.jsx)("p",{style:{marginBottom:"auto"},children:N()(e).format("MMM D, YYYY")})}},{title:"Priority of Usage",dataIndex:"priority",key:"priority",render:function(e,t){return I(t.expiration_date)}}],Gn=[{title:"raw_material_id",dataIndex:"raw_material_id",key:"raw_material_id"},{title:"Material Name",dataIndex:"material_name",key:"material_name",render:function(e,t){return Object(S.jsx)(y.b,{to:"/inventory/rawmaterial/".concat(t.raw_material_id),children:e})}},{title:"Brand",dataIndex:"company",key:"company"},{title:"Country",dataIndex:"country",key:"country"},{title:"Percentage (%)",dataIndex:"percentage",key:"percentage"}],Hn=function(e){var t=e.close,a=e.visible,n=e.unit,r=e.logistics,c=e.id,s=e.sendAddToParent,i=e.sendReductionToParent,o=(e.totalAmount,Object(v.useState)([])),u=Object(p.a)(o,2),l=u[0],d=u[1],j=Object(v.useState)(),b=Object(p.a)(j,2),f=b[0],h=b[1],m=Object(v.useState)(),g=Object(p.a)(m,2),y=g[0],w=g[1],k=Object(v.useState)(),_=Object(p.a)(k,2),C=_[0],I=_[1],E=Object(v.useState)(""),M=Object(p.a)(E,2),Y=M[0],P=M[1],D=Object(v.useState)(""),T=Object(p.a)(D,2),F=T[0],A=T[1];Object(v.useEffect)((function(){r.length>=0&&(d(r),h(new Kn(r)),w(new Kn(r)))}),[r]);var R=function(e){return""===e||"Invalid date"===e||null===e?null:N()(e).format("YYYYMMDD")},z=function(){var e=Object(x.a)(O.a.mark((function e(a){var n,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=C&&ra(Y)?!(C<=0)||(L.b.error("The amount needs to be a positive number!"),0):(L.b.error("Amount and production date need to be filled!"),0)){e.next=2;break}return e.abrupt("return");case 2:return n={raw_material_id:parseInt(c),stock_id:"",amount:C,production_date:R(Y),expiration_date:R(F)},e.next=5,Ue.sfp.addStock(c,n).then((function(e){n.stock_id=e.stock_id,f.add(e.stock_id,C)}));case 5:Ue.sfp.updateTotalAmount(c),i=r.concat(n),d(i),s(i),Bn("You have successfully added a new stock"),t(a);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){f.stocks.forEach((function(e){0===e.new_amount?Ue.sfp.disableStock(c,e):e.new_amount!==e.old_amount&&e.new_amount>0&&e.new_amount<e.old_amount&&Ue.sfp.updateStock(c,e)}))},U=Object(S.jsxs)("div",{className:"rows",children:[Object(S.jsxs)("div",{className:"column-1",children:[Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Amount"}),Object(S.jsx)(la,{onChange:function(e){return I(e)},value:C,placeholder:"e.g. 1000",min:0})]}),Object(S.jsxs)("div",{className:"header-field-wrapper",children:[Object(S.jsx)("span",{className:"sub-header",children:"Unit"}),n]})]}),Object(S.jsxs)("div",{className:"column-2",children:[Object(S.jsx)(Gt,{header:"Production Date",value:Y,onChange:P}),Object(S.jsx)(Gt,{header:"Expiration Date",value:F,onChange:A})]})]});return Object(S.jsx)(Rn,{visible:a,close:t,editForm:f,originalForm:y,logistics:l,addStock:z,reduceStock:function(e){for(var a=0,n=0;n<l.length;n++)l[n].amount-=f.stocks[n].subtracted_amount,a+=f.stocks[n].subtracted_amount;l.forEach((function(e){0===e.amount&&Bn("You have successfully removed Stock "+e.stock_id)})),B(),Ue.sfp.updateTotalAmount(c);var r=l.filter((function(e){return 0!==e.amount}));f.updateForm(),d(r),i(r,a),t(e)},AddStockComponents:U})},Qn=a(224),Xn=a.n(Qn),Zn=(a(384),function(e){var t=e.originalData;return Object(S.jsx)(xn.CKEditor,{editor:gn.a,data:t,disabled:!0,config:{removePlugins:["toolbar"],toolbar:[]},onReady:function(e){console.log("Editor is ready to use!",e)},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}})}),$n=function(e){var t=e.match.params.id,a=Object(b.g)(),n=On(),r=n.openEdit,c=n.closeEdit,s=n.editVisible,i=Object(v.useState)([]),o=Object(p.a)(i,2),u=o[0],l=o[1],d=Object(v.useState)([]),j=Object(p.a)(d,2),f=j[0],h=j[1],m=Object(v.useState)([]),O=Object(p.a)(m,2),x=O[0],g=O[1],y=Object(v.useState)(""),w=Object(p.a)(y,2),_=w[0],N=w[1],C=Object(v.useState)(""),I=Object(p.a)(C,2),E=I[0],M=I[1],P=Object(v.useState)("g"),D=Object(p.a)(P,2),T=D[0],L=D[1],F=Object(v.useState)(""),A=Object(p.a)(F,2),R=A[0],z=A[1],B=Object(v.useState)(),U=Object(p.a)(B,2),K=U[0],q=U[1],V=Object(v.useState)(!0),J=Object(p.a)(V,2),W=J[0],G=J[1],H=Object(v.useState)(!0),Q=Object(p.a)(H,2),X=Q[0],Z=Q[1],$=Object(v.useState)(!0),ee=Object(p.a)($,2),te=ee[0],ae=ee[1],ne=Object(v.useState)(!1),re=Object(p.a)(ne,2),ce=re[0],se=re[1];Object(v.useEffect)((function(){Ue.sfp.fetchSfp(t).then((function(e){l(e),N(e[0].process_steps),M(e[0].sfp_name),L(e[0].unit),z(e[0].image),q(e[0].total_amount),G(!1)})),Ue.sfp.fetchFormulation(t).then((function(e){g(e),Z(!1)})),Ue.sfp.fetchLogistics(t).then((function(e){h(e),ae(!1)}))}),[]);var ie=Object(S.jsxs)("div",{className:"material-header",children:[Object(S.jsx)("section",{className:"item-image",children:Object(S.jsx)("div",{name:"image",children:Object(S.jsx)(vt.a,{size:275,shape:"square",alt:"Company Logotype",src:R})})}),Object(S.jsxs)("section",{className:"material-information",children:[Object(S.jsxs)("div",{className:"table-section-header",children:[Object(S.jsx)("h3",{children:" General Information "}),Object(S.jsx)(k.a,{spinning:W,tip:"Loading...",size:"medium",children:Object(S.jsx)(Y.a,{columns:Jn.filter((function(e){return"sfp_id"!==e.dataIndex})),dataSource:u,pagination:!1,rowKey:"sfp_id"})})]}),Object(S.jsxs)("div",{className:"table-section-header",children:[Object(S.jsx)("h3",{children:" Formulation "}),Object(S.jsx)(k.a,{spinning:X,tip:"Loading...",size:"medium",children:Object(S.jsx)(Y.a,{columns:Gn.filter((function(e){return"raw_material_id"!==e.dataIndex})),dataSource:x,rowKey:"raw_material_id",pagination:!1})})]}),Object(S.jsxs)("div",{className:"table-section-header",children:[Object(S.jsx)("h3",{children:" Process Steps "}),Object(S.jsx)(Zn,{originalData:Xn.a.sanitize(_)}),Object(S.jsxs)("div",{className:"table-section-header",children:[Object(S.jsx)("h3",{children:" In Stock "}),Object(S.jsx)(k.a,{spinning:te,tip:"Loading...",size:"medium",children:Object(S.jsx)(Y.a,{columns:Wn.filter((function(e){return"stock_id"!==e.dataIndex})),rowKey:"stock_id",dataSource:f})})]})]})]})]}),oe=Object(S.jsx)(kn,{visible:s[t],onClose:function(e){return c(e,t)},data:u[0],sendChangesToParent:function(e){u[0].sfp_name=e.sfp_name,u[0].location=e.location,u[0].unit=e.unit,u[0].process_steps=e.process_steps,z(e.image),M(e.name),N(e.process_steps),g(e.editForm)},deleteSfp:function(e,t){Ue.sfp.disableSfp(t).then((function(e){if("success"===e)return a.push("/inventory")}))}}),ue=Object(S.jsx)(Hn,{visible:ce,close:function(e){e.stopPropagation(),se(!1)},logistics:f,unit:T,id:t,sendAddToParent:function(e){var t=e[e.length-1].amount;u[0].total_amount+=t,q(u[0].total_amount),h(e)},sendReductionToParent:function(e,t){u[0].total_amount-=t,q(u[0].total_amount),h(e)},totalAmount:K});return Object(S.jsx)(St,{content:Object(S.jsx)(Ln,{name:E,information:ie,openEdit:function(){return r(t)},edit:oe,manageStock:ue,openManageStock:function(){return se(!0)}})})},er=a.p+"static/media/cones.12c901ef.png",tr={display:"grid",justifyItems:"center",gridTemplateRows:"3fr 1fr"},ar={width:"400px",height:"400px"},nr=function(){return Object(S.jsx)(St,{content:Object(S.jsxs)("div",{style:tr,id:"wrapper",children:[Object(S.jsx)("img",{style:ar,src:er,alt:"image"}),Object(S.jsx)("div",{id:"info",children:Object(S.jsx)("h3",{children:"This page could not be found."})})]})})},rr=function(){return rt().loggedIn?Object(S.jsxs)(b.d,{children:[Object(S.jsx)(b.b,{exact:!0,path:"/",component:Ct}),Object(S.jsx)(b.b,{exact:!0,path:"/dashboard",component:Ct}),Object(S.jsx)(b.b,{exact:!0,path:"/inventory",component:Cn}),Object(S.jsx)(b.b,{exact:!0,path:"/inventory/rawmaterial/:id",component:Vn}),Object(S.jsx)(b.b,{exact:!0,path:"/inventory/sfp/:id",component:$n}),Object(S.jsx)(b.b,{component:nr})]}):Object(S.jsx)(b.d,{children:Object(S.jsx)(b.b,{path:"/",component:Tt})})},cr=a(225),sr=Object(cr.a)();j.a.render(Object(S.jsxs)(y.a,{history:sr,children:[Object(S.jsx)(nt,{children:Object(S.jsx)(ia,{children:Object(S.jsxs)(mn,{children:[Object(S.jsx)(rr,{}),","]})})}),","]}),document.getElementById("root"))}},[[385,1,2]]]);
//# sourceMappingURL=main.38c3eb9c.chunk.js.map